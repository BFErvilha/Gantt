import{r as V,p as Y,i as de,s as le,f as se,w as Ve,c as W,b as Qe,e as je,g as Ce,h as Dt,j as $t,k as Ct,l as qt,m as Ne,n as jt,o as Tt,q as Et,t as Te,u as n,v as P,x as r,y as e,A as m,B as _t,C as st,D as w,E as Se,F as J,G as te,H as tt,I as E,J as z,K as F,L as ye,M as ie,N as Ye,O as Le,P as qe,Q as xt,T as bt,R as pt,S as Mt,U as At,V as Ot,W as Je,X as Ke,Y as Vt,Z as Ut,$ as Nt,a0 as Pt}from"./vendor-C2UKaYsr.js";import{E as Rt,a as Bt,_ as zt}from"./pdf-libs-DnPPrQOm.js";import{u as Me,w as gt,r as Ft}from"./excel-libs-CKN5doRT.js";(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))y(x);new MutationObserver(x=>{for(const g of x)if(g.type==="childList")for(const R of g.addedNodes)R.tagName==="LINK"&&R.rel==="modulepreload"&&y(R)}).observe(document,{childList:!0,subtree:!0});function M(x){const g={};return x.integrity&&(g.integrity=x.integrity),x.referrerPolicy&&(g.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?g.credentials="include":x.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function y(x){if(x.ep)return;x.ep=!0;const g=M(x);fetch(x.href,g)}})();const Ze=V([]);let Lt=0;function ft(){const L=(M,y="success",x=3e3)=>{const g=Lt++;Ze.value.push({id:g,message:M,type:y}),setTimeout(()=>{h(g)},x)},h=M=>{const y=Ze.value.findIndex(x=>x.id===M);y!==-1&&Ze.value.splice(y,1)};return{notifications:Ze,show:L,remove:h}}const It="gantt-pro-tasks",St="gantt-pro-config",Ht=()=>{try{const L=localStorage.getItem(It);if(L)return JSON.parse(L).map(h=>({...h,isNotPlanned:h.isNotPlanned??!1,isCompleted:h.isCompleted??!1,isMilestone:h.isMilestone??!1,usType:h.usType||"item",classification:typeof h.classification=="number"?h.classification:0}))}catch(L){console.error("Erro ao carregar tarefas:",L)}return[]},Wt=()=>{const L={projectStartDate:se(new Date,"yyyy-MM-dd"),deadline:"",skipWeekends:!0,holidays:[],risks:[],teamMembers:[],sprints:[],squads:[]};try{const h=localStorage.getItem(St);if(h){const M=JSON.parse(h);let y=[];Array.isArray(M.teamMembers)&&(y=M.teamMembers.map(g=>({name:g.name||"Sem Nome",capacity:typeof g.capacity=="number"?g.capacity:8,daysOff:Array.isArray(g.daysOff)?g.daysOff:[],sector:g.sector||"Outro",squadIds:Array.isArray(g.squadIds)?g.squadIds:[]})));let x=Array.isArray(M.squads)?M.squads:[];return x.length===0&&Array.isArray(M.sprints)&&M.sprints.length>0&&x.push({id:"default-squad",name:"Squad PadrÃ£o",color:"#3b82f6",startDate:M.projectStartDate||L.projectStartDate,deadline:M.deadline||"",skipWeekends:!0,holidays:[],sprints:M.sprints.map(g=>({...g,squadId:"default-squad"}))}),x=x.map(g=>({...g,sprints:Array.isArray(g.sprints)?g.sprints:[],holidays:Array.isArray(g.holidays)?g.holidays:[],startDate:g.startDate||L.projectStartDate,deadline:g.deadline||"",skipWeekends:g.skipWeekends??!0})),{...L,...M,projectStartDate:M.projectStartDate||L.projectStartDate,deadline:M.deadline||"",teamMembers:y,sprints:[],squads:x,holidays:Array.isArray(M.holidays)?M.holidays:[]}}}catch(h){console.error("Erro ao carregar configuraÃ§Ãµes:",h)}return L},be=V(Ht()),$=V(Wt()),Ue=V(null),Ge=V(null),ze=V(!1),Fe=V("project"),kt=Y($.value.projectStartDate),Oe=V(de(kt)?le(kt):le(new Date)),ht=V(""),ut=V(""),ct=V(""),et=V("");function Pe(){const L=ft();Ve([be,$],()=>{localStorage.setItem(It,JSON.stringify(be.value)),localStorage.setItem(St,JSON.stringify($.value))},{deep:!0}),Ve(()=>$.value.projectStartDate,l=>{l&&de(Y(l))&&(Oe.value=le(new Date(l)))});const h=l=>{if($.value.squads){for(const d of $.value.squads)if(d.sprints&&Array.isArray(d.sprints)){const o=d.sprints.find(t=>t.id===l);if(o)return o}}},M=W(()=>{let l=le(new Date($.value.projectStartDate));return de(l)||(l=le(new Date)),$.value.squads.forEach(d=>{d.sprints&&d.sprints.forEach(o=>{const t=le(Y(o.endDate));de(t)&&Qe(t,l)&&(l=t)})}),_.value.forEach(d=>{d.endDate&&de(d.endDate)&&Qe(d.endDate,l)&&(l=d.endDate)}),l}),y=W(()=>{let l=M.value;if($.value.deadline){const d=le(Y($.value.deadline));de(d)&&Qe(d,l)&&(l=d)}return je(l,7)}),x=(l,d,o)=>{var a;if(!de(l))return!1;const t=se(l,"yyyy-MM-dd");if($.value.holidays.includes(t))return!0;if(o){const b=h(o);if(b&&([b.planningDate,b.refinementDate,b.reviewDate,b.retroDate].includes(t)||(b.skipWeekends??$.value.skipWeekends)&&Ne(l)))return!0}else if($.value.skipWeekends&&Ne(l))return!0;if(d){const b=$.value.teamMembers.find(S=>S.name===d);if((a=b==null?void 0:b.daysOff)!=null&&a.includes(t))return!0}return!1},g=(l,d,o,t)=>{if(!de(l))return new Date;if(d===0)return l;let a=0,b=l;const S=Math.max(0,d-1);let I=0;for(;a<S&&I<1e3;)b=je(b,1),x(b,o,t)||a++,I++;return b},R=(l,d,o)=>{if(!de(l))return new Date;let t=l,a=0;for(;x(t,d,o)&&a<365;)t=je(t,1),a++;return t},_=W(()=>{const l=de(Y($.value.projectStartDate))?le(Y($.value.projectStartDate)):le(new Date),d=new Map,o=[...be.value];let t=!0,a=0;const b=o.length*2;for(;t&&a<b;){t=!1,a++;for(const I of o){let Z=l;if(I.manualStartDate){let ge=Y(I.manualStartDate);de(ge)&&(Z=R(ge,I.responsible))}else if(I.dependencyId){const ge=d.get(I.dependencyId);if(ge){let K=1;ge.type==="backend"&&I.type==="frontend"&&(K=3);let fe=je(ge.end,K);Z=R(fe,I.responsible)}}else if(I.sprintId){const ge=h(I.sprintId);if(ge){const K=Y(ge.startDate);de(K)&&(Z=R(K,I.responsible))}else Z=R(l,I.responsible)}else Z=R(l,I.responsible);const ne=g(Z,I.isMilestone?0:I.duration,I.responsible,I.sprintId),pe=d.get(I.id);(!pe||pe.start.getTime()!==Z.getTime())&&(d.set(I.id,{start:Z,end:ne,type:I.type}),t=!0)}}const S=de(Y($.value.projectStartDate))?le(Y($.value.projectStartDate)):le(new Date);return be.value.map(I=>{const Z=d.get(I.id)||{start:S,end:S,type:I.type},ne=Ce(Z.end,Z.start)+1;return{...I,startDate:Z.start,endDate:Z.end,offsetDays:Ce(Z.start,S),calendarDuration:I.isMilestone?1:ne,formattedStartDate:se(Z.start,"dd/MM/yyyy"),formattedEndDate:se(Z.end,"dd/MM/yyyy")}})}),H=W(()=>_.value.filter(l=>{const d=l.name.toLowerCase().includes(ht.value.toLowerCase()),o=ut.value?l.responsible===ut.value:!0,t=ct.value?l.type===ct.value:!0;let a=!0;if(et.value)if(l.sprintId){const b=h(l.sprintId);a=(b==null?void 0:b.squadId)===et.value}else if(l.responsible){const b=$.value.teamMembers.find(S=>S.name===l.responsible);a=b?b.squadIds.includes(et.value):!1}else a=!1;return d&&o&&t&&a})),D=W(()=>{const l=de(Oe.value)?le(Oe.value):le(new Date),d=de(Y($.value.projectStartDate))?le(Y($.value.projectStartDate)):le(new Date),o=y.value;return Fe.value==="week"?{start:$t(l,{weekStartsOn:0}),end:Dt(l,{weekStartsOn:0})}:Fe.value==="month"?{start:qt(l),end:Ct(l)}:{start:d,end:o}}),k=l=>{const d=l==="next"?1:-1;Fe.value==="week"?Oe.value=Tt(Oe.value,d):Fe.value==="month"&&(Oe.value=Et(Oe.value,d))},j=l=>{Fe.value=l},U=l=>{be.value=l.map(d=>({id:d.id||crypto.randomUUID(),usId:d.usId||"",customId:d.customId||"",name:d.name||"Sem nome",duration:d.duration||1,dependencyId:d.dependencyId||null,color:d.color||"#3b82f6",type:d.type||"other",responsible:d.responsible||"",effort:d.effort||0,sprintId:d.sprintId||void 0,isNotPlanned:!d.sprintId,isCompleted:!1,isMilestone:d.isMilestone||!1,usType:d.usType||"item",classification:typeof d.classification=="number"?d.classification:0}))},c=W(()=>Ce(D.value.end,D.value.start)+1),G=l=>{const d=l.id||crypto.randomUUID();be.value.push({id:d,usId:l.usId||"",customId:l.customId||"",name:l.name||"Nova Tarefa",duration:l.duration||1,dependencyId:l.dependencyId||null,color:l.color||"#3b82f6",type:l.type||"other",responsible:l.responsible||"",effort:l.effort||0,sprintId:l.sprintId,isNotPlanned:!l.sprintId,isCompleted:!1,completedDate:void 0,isMilestone:l.isMilestone||!1,usType:l.usType||"item",classification:l.classification||0})},u=l=>{const d=be.value.findIndex(o=>o.id===l.id);d!==-1&&(be.value[d]={...l}),Ue.value=null,ze.value=!1},i=l=>{var d;be.value=be.value.filter(o=>o.id!==l),be.value.forEach(o=>{o.dependencyId===l&&(o.dependencyId=null)}),((d=Ue.value)==null?void 0:d.id)===l&&(Ue.value=null,ze.value=!1)},p=l=>{const d=be.value.find(o=>o.id===l);d&&(d.isCompleted=!d.isCompleted,d.isCompleted?d.completedDate=se(new Date,"yyyy-MM-dd"):d.completedDate=void 0)},q=l=>{Ue.value=JSON.parse(JSON.stringify(l)),ze.value=!0},Q=()=>{Ue.value=null,ze.value=!0},N=()=>{Ue.value=null,ze.value=!1},X=(l,d)=>{const o=be.value.find(t=>t.id===l);o&&(o.manualStartDate=se(d,"yyyy-MM-dd"))},ae=()=>{const l=new Map;_.value.forEach(d=>{d.startDate&&d.endDate&&l.set(d.id,{start:se(d.startDate,"yyyy-MM-dd"),end:se(d.endDate,"yyyy-MM-dd")})}),be.value.forEach(d=>{if(l.has(d.id)){const o=l.get(d.id);d.originalStartDate=o.start,d.originalEndDate=o.end}}),L.show("Linha de base salva!","success")},ve=()=>{Ge.value=JSON.stringify(be.value)},ke=()=>{Ge.value&&(be.value=JSON.parse(Ge.value),Ge.value=null,L.show("AlteraÃ§Ãµes desfeitas!","success"))},he=l=>{$.value.holidays.includes(l)||$.value.holidays.push(l)},oe=l=>{$.value.holidays=$.value.holidays.filter(d=>d!==l)},ue=l=>{l&&!$.value.risks.includes(l)&&$.value.risks.push(l)},B=l=>{$.value.risks.splice(l,1)},C=(l,d=8,o="Outro",t=[])=>{l&&!$.value.teamMembers.some(a=>a.name===l)&&$.value.teamMembers.push({name:l,capacity:d,daysOff:[],sector:o,squadIds:t})},me=(l,d,o,t,a)=>{const b=$.value.teamMembers[l].name;$.value.teamMembers[l].name=d,$.value.teamMembers[l].capacity=o,$.value.teamMembers[l].sector=t,$.value.teamMembers[l].squadIds=a,b!==d&&be.value.forEach(S=>{S.responsible===b&&(S.responsible=d)})},A=l=>{$.value.teamMembers.splice(l,1)},O=(l,d,o)=>{const t=$.value.teamMembers[l];t.squadIds.includes(d)||t.squadIds.push(d),o!==void 0&&(t.capacity=o)},T=(l,d)=>{const o=$.value.teamMembers[l];o.squadIds=o.squadIds.filter(t=>t!==d)},$e=(l,d)=>{const o=$.value.teamMembers[l];o&&!o.daysOff.includes(d)&&(o.daysOff.push(d),o.daysOff.sort())},v=(l,d)=>{const o=$.value.teamMembers[l];o&&(o.daysOff=o.daysOff.filter(t=>t!==d))},s=(l,d)=>{$.value.squads.push({id:crypto.randomUUID(),name:l,color:d,startDate:se(new Date,"yyyy-MM-dd"),deadline:"",skipWeekends:!0,holidays:[],sprints:[]})},ee=(l,d,o)=>{const t=$.value.squads.findIndex(a=>a.id===l);t!==-1&&($.value.squads[t].name=d,$.value.squads[t].color=o)},re=l=>{$.value.squads=$.value.squads.filter(d=>d.id!==l),$.value.teamMembers.forEach(d=>{d.squadIds=d.squadIds.filter(o=>o!==l)})},xe=(l,d,o,t)=>{$.value.sprints.push({id:crypto.randomUUID(),name:l,startDate:d,endDate:o,squadId:t}),$.value.sprints.sort((a,b)=>a.startDate.localeCompare(b.startDate))},we=(l,d,o,t,a)=>{const b=$.value.sprints.findIndex(S=>S.id===l);b!==-1&&($.value.sprints[b]={...$.value.sprints[b],name:d,startDate:o,endDate:t,squadId:a},$.value.sprints.sort((S,I)=>S.startDate.localeCompare(I.startDate)))},ce=l=>{$.value.sprints=$.value.sprints.filter(d=>d.id!==l),be.value.forEach(d=>{d.sprintId===l&&(d.sprintId=void 0)})},f=(l,d)=>{const o=$.value.squads.find(t=>t.id===l);o&&!o.holidays.includes(d)&&o.holidays.push(d)},Xe=(l,d)=>{const o=$.value.squads.find(t=>t.id===l);o&&(o.holidays=o.holidays.filter(t=>t!==d))},at=(l,d,o,t)=>{const a=$.value.squads.find(b=>b.id===l);a&&(a.sprints.push({id:crypto.randomUUID(),name:d,startDate:o,endDate:t,squadId:l}),a.sprints.sort((b,S)=>b.startDate.localeCompare(S.startDate)))},lt=(l,d,o)=>{const t=$.value.squads.find(a=>a.id===l);if(t){const a=t.sprints.findIndex(b=>b.id===d);a!==-1&&(t.sprints[a]={...t.sprints[a],...o},t.sprints.sort((b,S)=>b.startDate.localeCompare(S.startDate)),L.show("ConfiguraÃ§Ãµes da Sprint salvas!","success"))}},Ae=(l,d)=>{const o=$.value.squads.find(t=>t.id===l);o&&(o.sprints=o.sprints.filter(t=>t.id!==d),be.value.forEach(t=>{t.sprintId===d&&(t.sprintId=void 0)}))},ot=W(()=>{const l=de(Y($.value.projectStartDate))?le(Y($.value.projectStartDate)):le(new Date);let d=y.value;if($.value.deadline){const I=le(Y($.value.deadline));de(I)&&(d=y.value)}const o=Ce(d,l)+1;let t=0,a=l;for(;a<=d;)x(a)||t++,a=je(a,1);const b=$.value.teamMembers.map(I=>{let Z=0;I.daysOff&&I.daysOff.length>0&&I.daysOff.forEach(pe=>{const ge=le(Y(pe));ge>=l&&ge<=d&&($.value.holidays.includes(pe)||$.value.skipWeekends&&Ne(ge)||Z++)});const ne=Math.max(0,t-Z);return{name:I.name,capacityPerDay:I.capacity,totalCapacity:I.capacity*ne,sector:I.sector,effectiveDays:ne}}),S=b.reduce((I,Z)=>I+Z.totalCapacity,0);return{workingDays:t,calendarDays:o,totalTeamCapacity:S,memberStats:b}}),rt=W(()=>{const l=[];let d=0,o=0;if(_.value.forEach(t=>{if(t.isCompleted||(o+=t.effort||0,t.isNotPlanned&&(d+=t.effort||0)),!t.isCompleted){const a=$.value.teamMembers.find(S=>S.name===t.responsible),b=a?a.capacity:8;if(!t.isMilestone&&t.effort&&t.duration&&t.effort>t.duration*b&&l.push(`CAPACIDADE: "${t.name}" requer ${t.effort}h. Limite atual: ${t.duration*b}h.`),t.sprintId&&t.startDate&&t.endDate){const S=h(t.sprintId);if(S){const I=le(Y(S.startDate)),Z=le(Y(S.endDate));if(jt(t.startDate,I)&&l.push(`SPRINT: "${t.name}" comeÃ§a antes da ${S.name} (${se(I,"dd/MM")}).`),Qe(t.endDate,Z)){const ne=Ce(t.endDate,Z);l.push(`SPRINT: "${t.name}" estourou a ${S.name} em ${ne} dia(s).`)}}}if(t.startDate&&t.endDate){let S=!1,I="";$.value.holidays.some(ne=>{const pe=le(Y(ne));return t.startDate<=pe&&t.endDate>=pe})&&(S=!0,I="feriado"),!S&&a&&a.daysOff.some(pe=>{const ge=le(Y(pe));return t.startDate<=ge&&t.endDate>=ge})&&(S=!0,I="folga pessoal"),S&&t.duration<3&&l.push(`CALENDÃRIO: Tarefa curta "${t.name}" coincide com ${I}.`)}}}),o>0&&d/o>.2){const t=Math.round(d/o*100);l.push(`CARRY-OVER: ${t}% do esforÃ§o ativo sÃ£o tarefas "NÃ£o Planejadas". Risco de atraso nas entregas planejadas.`)}return l}),nt=W(()=>{if(!_.value.length)return[];let l=0;_.value.forEach(a=>{!a.isCompleted&&a.endDate&&a.endDate.getTime()>l&&(l=a.endDate.getTime())});const d=new Set,o=_.value.filter(a=>!a.isCompleted&&a.endDate&&a.endDate.getTime()===l),t=a=>{d.add(a);const b=_.value.find(S=>S.id===a);b&&b.dependencyId&&t(b.dependencyId)};return o.forEach(a=>t(a.id)),Array.from(d)}),We=()=>{const l=[],d=new Map;return $.value.squads.forEach(o=>{o.sprints.forEach(t=>{d.set(t.id,[])})}),be.value.forEach(o=>{var t;o.sprintId&&d.has(o.sprintId)&&((t=d.get(o.sprintId))==null||t.push(o))}),$.value.squads.forEach(o=>{o.sprints.forEach(t=>{const a=d.get(t.id)||[];if(a.length===0)return;const b=[...a].sort((K,fe)=>{const Ie=K.startDate?new Date(K.startDate).getTime():0,De=fe.startDate?new Date(fe.startDate).getTime():0;return Ie-De});new Set(a.map(K=>K.responsible).filter(Boolean)).forEach(K=>{const fe=b.filter(De=>De.responsible===K);let Ie=fe.findIndex(De=>De.usType==="goal");if(Ie>0){const De=fe[Ie];for(let Ee=0;Ee<Ie;Ee++){const Be=fe[Ee];Be.usType!=="goal"&&l.push(`PRIORIDADE (${o.name}): ${K} estÃ¡ fazendo "${Be.name}" (Item) antes de "${De.name}" (Meta).`)}}for(let De=0;De<fe.length-1;De++){const Ee=fe[De],Be=fe[De+1];if(Ee.usType===Be.usType){const vt=Ee.classification||999,mt=Be.classification||999;mt<vt&&l.push(`SEQUÃŠNCIA (${o.name}): "${Be.name}" (Classif. ${mt}) deveria ser feita antes de "${Ee.name}" (Classif. ${vt}).`)}}});const I=Y(t.startDate),Z=Y(t.endDate),ne=Ce(Z,I),ge=$.value.teamMembers.filter(K=>K.squadIds.includes(o.id)).map(K=>{const fe=ne*K.capacity*.7;return{name:K.name,limit:fe,used:0}});a.forEach(K=>{if(K.responsible&&K.effort){const fe=ge.find(Ie=>Ie.name===K.responsible);fe&&(fe.used+=K.effort)}}),ge.forEach(K=>{if(K.used>K.limit){const fe=K.used-K.limit,Ie=a.filter(De=>De.responsible===K.name&&De.usType!=="goal");Ie.length>0?l.push(`SOBRECARGA (${o.name}): ${K.name} estourou a Sprint (+${fe.toFixed(1)}h). Mova "${Ie[0].name}" para a prÃ³xima.`):l.push(`RISCO CRÃTICO (${o.name}): ${K.name} nÃ£o entregarÃ¡ as Metas da Sprint.`)}})})}),l.length===0?["OTIMIZADO: O planejamento segue prioridades (Meta > Item), ClassificaÃ§Ã£o e respeita a capacidade."]:l},dt=l=>{const d=$.value.squads.find(ne=>ne.id===l);if(!d)return{calendarDays:0,workingDays:0,totalTeamCapacity:0};const o=de(Y(d.startDate))?le(Y(d.startDate)):le(new Date);let t=d.deadline?le(Y(d.deadline)):je(o,30);const a=Ce(t,o)+1;let b=0,S=o;for(;S<=t;)x(S)||b++,S=je(S,1);const Z=$.value.teamMembers.filter(ne=>ne.squadIds.includes(l)).reduce((ne,pe)=>ne+b*pe.capacity,0);return{calendarDays:a,workingDays:b,totalTeamCapacity:Z}},it=W(()=>$.value.squads.flatMap(l=>l.sprints.map(d=>({...d,squadId:l.id}))));return{tasks:be,config:$,computedTasks:_,filteredTasks:H,totalProjectDays:c,editingTask:Ue,viewMode:Fe,visibleDateRange:D,currentViewDate:Oe,setViewMode:j,navigateView:k,addTask:G,updateTask:u,removeTask:i,toggleTaskCompletion:p,importTasks:U,setEditingTask:q,cancelEditing:N,addHoliday:he,removeHoliday:oe,addRisk:ue,removeRisk:B,isNonWorkingDay:x,addMember:C,updateMember:me,removeMember:A,addMemberDayOff:$e,removeMemberDayOff:v,moveTask:X,isTaskModalOpen:ze,openCreateModal:Q,automaticRisks:rt,criticalPathIds:nt,projectCapacityStats:ot,filterSearch:ht,filterResponsible:ut,filterType:ct,filterSquad:et,addSprint:xe,updateSprint:we,removeSprint:ce,projectDeadlineComputed:y,saveBaseline:ae,getOptimizationSuggestions:We,createSnapshot:ve,restoreSnapshot:ke,tasksSnapshot:Ge,addSquad:s,updateSquad:ee,removeSquad:re,linkMemberToSquad:O,unlinkMemberFromSquad:T,suggestedEndDate:M,getSquadStats:dt,allSprints:it,addHolidayToSquad:f,removeHolidayFromSquad:Xe,addSprintToSquad:at,updateSprintInSquad:lt,removeSprintFromSquad:Ae,restoreFullBackup:(l,d)=>{try{l.squads&&($.value.squads=l.squads.map(o=>({...o,sprints:o.sprints||[],holidays:o.holidays||[],skipWeekends:o.skipWeekends??!0}))),l.teamMembers&&($.value.teamMembers=l.teamMembers),d&&(be.value=d.map(o=>({id:o.id||crypto.randomUUID(),name:o.name||"Sem nome",duration:o.duration||1,dependencyId:o.dependencyId||null,color:o.color||"#3b82f6",type:o.type||"other",responsible:o.responsible||"",effort:o.effort||0,sprintId:o.sprintId,usType:o.usType||"item",isNotPlanned:!o.sprintId,isCompleted:o.isCompleted||!1,isMilestone:o.isMilestone||!1,classification:o.classification||0}))),L.show("Projeto restaurado com sucesso!","success")}catch(o){console.error("Erro ao restaurar backup:",o),L.show("Falha ao restaurar dados do Excel.","error")}}}}const Gt={key:0,class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[60] flex items-center justify-center p-4"},Qt={class:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-sm overflow-hidden transform transition-all"},Xt={class:"p-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 flex justify-between items-center"},Yt={class:"font-bold text-slate-800 dark:text-slate-100"},Jt={class:"p-6"},Kt={class:"text-slate-600 dark:text-slate-300 text-sm"},Zt={class:"p-4 bg-slate-50 dark:bg-slate-900/50 flex justify-end gap-3"},yt=Te({__name:"ConfirmationModal",props:{isOpen:{type:Boolean},title:{},message:{}},emits:["confirm","cancel"],setup(L,{emit:h}){const M=h;return(y,x)=>L.isOpen?(r(),n("div",Gt,[e("div",Qt,[e("div",Xt,[e("h3",Yt,m(L.title),1),e("button",{onClick:x[0]||(x[0]=g=>M("cancel")),class:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"},[...x[3]||(x[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])]),e("div",Jt,[e("p",Kt,m(L.message),1)]),e("div",Zt,[e("button",{onClick:x[1]||(x[1]=g=>M("cancel")),class:"px-4 py-2 rounded text-slate-600 dark:text-slate-300 text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors"},"Cancelar"),e("button",{onClick:x[2]||(x[2]=g=>M("confirm")),class:"bg-blue-600 text-white px-4 py-2 rounded text-sm font-bold hover:bg-blue-700 transition-colors shadow-sm"},"Confirmar")])])])):P("",!0)}}),es={key:0,class:"fixed inset-0 z-50 flex justify-end overflow-hidden"},ts={class:"relative w-full max-w-xl h-full bg-white dark:bg-slate-900 shadow-2xl flex flex-col border-l border-slate-200 dark:border-slate-800 transition-all duration-300 ease-out transform"},ss={class:"flex-shrink-0 bg-slate-50 dark:bg-slate-950 border-b border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between z-10"},as={class:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2"},ls={key:0,class:"px-6 pt-4 bg-white dark:bg-slate-900 flex-shrink-0"},os={class:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-lg"},rs={class:"flex-1 overflow-y-auto custom-scrollbar p-6 bg-white dark:bg-slate-900"},ns={class:"bg-purple-50 dark:bg-purple-900/10 p-5 rounded-xl border border-purple-100 dark:border-purple-800/30"},ds={class:"grid grid-cols-2 gap-5"},is={class:"col-span-2"},us=["value"],cs={class:"col-span-2"},ps=["disabled"],bs=["value"],fs={key:0,class:"text-[10px] text-indigo-500 mt-1 font-medium"},vs={class:"col-span-2 bg-white dark:bg-slate-800/50 p-3 rounded-lg border border-slate-200 dark:border-slate-700 grid grid-cols-2 gap-4"},ms={class:"flex gap-2"},xs={class:"flex-1 cursor-pointer relative"},gs={class:"flex-1 cursor-pointer relative"},ks={class:"col-span-2 flex items-center gap-3 mt-1 p-3 bg-white dark:bg-slate-800 rounded-lg border border-purple-100 dark:border-purple-900/50 shadow-sm cursor-pointer hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-colors"},hs={class:"space-y-4"},ys={class:"pt-2"},ws={class:"flex-1 grid grid-cols-2 gap-3"},Ds={class:"col-span-2 text-xs font-bold text-green-800 dark:text-green-400 uppercase tracking-wide"},$s=["disabled"],_s=["value"],Ms=["disabled"],Is={class:"pt-2"},Ss={class:"flex-1 grid grid-cols-2 gap-3"},Cs=["disabled"],qs=["value"],js=["disabled"],Ts={class:"pt-2"},Es={class:"flex-1 grid grid-cols-2 gap-3"},As={class:"col-span-2 text-xs font-bold text-purple-800 dark:text-purple-400 uppercase tracking-wide"},Os=["disabled"],Vs=["value"],Us=["disabled"],Ns=["value"],Ps={class:"grid grid-cols-2 gap-5"},Rs={class:"grid grid-cols-2 gap-5 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-100 dark:border-slate-700"},Bs={class:"flex gap-2"},zs={class:"flex-1 cursor-pointer relative"},Fs={class:"flex-1 cursor-pointer relative"},Ls={class:"flex items-center gap-3 p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg border border-indigo-100 dark:border-indigo-900/30"},Hs={key:0,class:"grid grid-cols-2 gap-5"},Ws={class:"flex gap-2"},Gs=["onClick"],Qs={key:0,class:"w-4 h-4 text-white drop-shadow-md",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Xs=["disabled"],Ys=["value"],Js={key:0,class:"text-xs text-indigo-500 dark:text-indigo-400 mt-2 font-bold flex items-center gap-1.5 bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800"},Ks={class:"grid grid-cols-2 gap-5"},Zs={key:0},ea=["disabled"],ta=["value"],sa={key:0,class:"text-[10px] text-red-400 mt-1"},aa={key:1},la={class:"relative"},oa={key:1,class:"grid grid-cols-2 gap-5"},ra={class:"relative"},na=["value"],da={key:2},ia=["value"],ua={key:3,class:"text-xs font-medium text-amber-800 dark:text-amber-200 bg-amber-50 dark:bg-amber-900/40 p-3 rounded-lg border border-amber-200 dark:border-amber-800 flex items-start gap-2"},ca={class:"flex-shrink-0 border-t border-slate-200 dark:border-slate-800 p-4 bg-white dark:bg-slate-950 z-20 flex flex-col gap-3"},pa={class:"flex gap-3"},ba=["form"],fa={key:0,class:"flex gap-3 pt-1 border-t border-slate-100 dark:border-slate-800/50 mt-1"},va={key:0,class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ma={key:1,class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},xa=Te({__name:"TaskModal",setup(L){const{tasks:h,addTask:M,editingTask:y,updateTask:x,cancelEditing:g,removeTask:R,toggleTaskCompletion:_,config:H,isTaskModalOpen:D,allSprints:k}=Pe(),j=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"],U={name:"",usId:"",customId:"",duration:1,dependencyId:"",color:"#3b82f6",type:"frontend",responsible:"",effort:0,sprintId:"",squadId:"",isMilestone:!1,usType:"item",classification:0},c=V({...U}),G=V(!1),u=V({featureName:"",usId:"",sprintId:"",squadId:"",isFullstack:!1,usType:"item",classification:0,backend:{responsible:"",effort:0,enabled:!0},frontend:{responsible:"",effort:0,enabled:!0},qa:{responsible:"",effort:0,enabled:!0}}),i=V(!1),p=V(!1);Ve(y,v=>{if(v){G.value=!1;let s="";if(v.sprintId){const ee=k.value.find(re=>re.id===v.sprintId);ee&&ee.squadId&&(s=ee.squadId)}c.value={name:v.name,usId:v.usId||"",customId:v.customId||"",duration:v.duration,dependencyId:v.dependencyId||"",color:v.color,type:v.type||"other",responsible:v.responsible||"",effort:v.effort||0,sprintId:v.sprintId||"",squadId:s,isMilestone:v.isMilestone||!1,usType:v.usType||"item",classification:v.classification||0}}else ue()});const q=W(()=>c.value.squadId?k.value.filter(v=>v.squadId===c.value.squadId):k.value),Q=W(()=>u.value.squadId?k.value.filter(v=>v.squadId===u.value.squadId):k.value),N=W(()=>{if(!u.value.sprintId)return null;const v=k.value.find(s=>s.id===u.value.sprintId);return v&&v.squadId?H.value.squads.find(s=>s.id===v.squadId):null}),X=W(()=>{if(!c.value.sprintId)return null;const v=k.value.find(s=>s.id===c.value.sprintId);return v&&v.squadId?H.value.squads.find(s=>s.id===v.squadId):null}),ae=W(()=>!y.value&&G.value?"flow-form":"simple-form");Ve(()=>c.value.sprintId,v=>{if(v){const s=k.value.find(ee=>ee.id===v);s&&s.squadId&&(c.value.squadId=s.squadId)}}),Ve(()=>u.value.sprintId,v=>{if(v){const s=k.value.find(ee=>ee.id===v);s&&s.squadId&&(u.value.squadId=s.squadId)}});const ve=(v,s)=>H.value.teamMembers.filter(ee=>{if(s&&!ee.squadIds.includes(s))return!1;const re=(ee.sector||"").toLowerCase();return!!(re.includes("fullstack")||re.includes("full stack")||v==="backend"&&(re.includes("back")||re.includes("devops"))||v==="frontend"&&(re.includes("front")||re.includes("design"))||v==="qualidade"&&(re.includes("qa")||re.includes("qualidade"))||v==="other")}),ke=W(()=>{let v=H.value.teamMembers;return c.value.squadId&&(v=v.filter(s=>s.squadIds.includes(c.value.squadId))),!c.value.type||c.value.type==="other"?v:ve(c.value.type,c.value.squadId)});Ve(()=>c.value.type,()=>{const v=c.value.responsible;v&&ke.value.length>0&&(ke.value.some(ee=>ee.name===v)||(c.value.responsible=""))});const he=v=>{if(!v)return 8;const s=H.value.teamMembers.find(ee=>ee.name===v);return s?s.capacity:8};Ve([()=>c.value.effort,()=>c.value.responsible],([v])=>{if(v&&v>0&&!c.value.isMilestone){const s=he(c.value.responsible);c.value.duration=Math.max(1,Math.ceil(v/s))}});const oe=W(()=>{if(c.value.isMilestone)return null;const v=c.value.effort,s=c.value.duration,ee=he(c.value.responsible);return v>s*ee?`AtenÃ§Ã£o: ${v}h excede a capacidade de ${s} dia(s).`:null}),ue=()=>{c.value={...U,color:j[Math.floor(Math.random()*j.length)]},u.value={featureName:"",usId:"",sprintId:"",squadId:"",isFullstack:!1,usType:"item",classification:0,backend:{responsible:"",effort:0,enabled:!0},frontend:{responsible:"",effort:0,enabled:!0},qa:{responsible:"",effort:0,enabled:!0}},i.value=!1,p.value=!1},B=()=>{c.value.name&&(y.value?x({...y.value,...c.value,dependencyId:c.value.dependencyId||null,sprintId:c.value.sprintId||void 0,isNotPlanned:!c.value.sprintId}):M({name:c.value.name,usId:c.value.usId,customId:c.value.customId,duration:c.value.isMilestone?0:c.value.duration,dependencyId:c.value.dependencyId||null,color:c.value.color,type:c.value.type,responsible:c.value.responsible,effort:c.value.effort,sprintId:c.value.sprintId||void 0,isMilestone:c.value.isMilestone,usType:c.value.usType,classification:c.value.classification}),g())},C=()=>{if(!u.value.featureName)return;const v=crypto.randomUUID(),s=crypto.randomUUID(),ee=crypto.randomUUID(),re={usId:u.value.usId,sprintId:u.value.sprintId||void 0,isMilestone:!1,usType:u.value.usType,classification:u.value.classification};if(u.value.backend.enabled){const xe=u.value.backend.effort,we=he(u.value.backend.responsible),ce=u.value.isFullstack?`${u.value.featureName} (Fullstack)`:`${u.value.featureName} (Back)`;M({id:v,name:ce,type:"backend",color:"#10b981",responsible:u.value.backend.responsible,effort:xe,duration:Math.max(1,Math.ceil(xe/we)),dependencyId:null,...re})}if(!u.value.isFullstack&&u.value.frontend.enabled){const xe=u.value.frontend.effort,we=he(u.value.frontend.responsible),ce=u.value.backend.enabled?v:null;M({id:s,name:`${u.value.featureName} (Front)`,type:"frontend",color:"#3b82f6",responsible:u.value.frontend.responsible,effort:xe,duration:Math.max(1,Math.ceil(xe/we)),dependencyId:ce,...re})}if(u.value.qa.enabled){const xe=u.value.qa.effort,we=he(u.value.qa.responsible);let ce=null;!u.value.isFullstack&&u.value.frontend.enabled?ce=s:u.value.backend.enabled&&(ce=v),M({id:ee,name:`${u.value.featureName} (QA)`,type:"qualidade",color:"#8b5cf6",responsible:u.value.qa.responsible,effort:xe,duration:Math.max(1,Math.ceil(xe/we)),dependencyId:ce,...re})}g()},me=()=>{g(),ue()},A=()=>{y.value&&(i.value=!0)},O=()=>{y.value&&(R(y.value.id),i.value=!1)},T=()=>{y.value&&(p.value=!0)},$e=()=>{y.value&&(_(y.value.id),p.value=!1,g())};return(v,s)=>(r(),_t(bt,{name:"slide"},{default:st(()=>{var ee,re,xe,we,ce;return[w(D)?(r(),n("div",es,[e("div",{class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:me}),e("div",ts,[e("div",ss,[e("h3",as,m(w(y)?"âœï¸ Editar Tarefa":"âœ¨ Nova Tarefa"),1),e("button",{onClick:me,class:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors"},[...s[36]||(s[36]=[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),w(y)?P("",!0):(r(),n("div",ls,[e("div",os,[e("button",{onClick:s[0]||(s[0]=f=>G.value=!1),class:J(["flex-1 py-2 text-sm font-bold rounded-md transition-all shadow-sm",G.value?"text-slate-500 hover:text-slate-700 dark:text-slate-400":"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow"])}," Tarefa Simples ",2),e("button",{onClick:s[1]||(s[1]=f=>G.value=!0),class:J(["flex-1 py-2 text-sm font-bold rounded-md transition-all flex items-center justify-center gap-2",G.value?"bg-white dark:bg-slate-700 text-purple-600 dark:text-purple-400 shadow":"text-slate-500 hover:text-slate-700 dark:text-slate-400"])},[...s[37]||(s[37]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1),te(" Fluxo Completo ",-1)])],2)])])),e("div",rs,[G.value&&!w(y)?(r(),n("form",{key:0,id:"flow-form",onSubmit:tt(C,["prevent"]),class:"space-y-6"},[e("div",ns,[s[49]||(s[49]=e("h4",{class:"text-xs font-bold uppercase text-purple-800 dark:text-purple-300 mb-4 flex items-center gap-2"},"ConfiguraÃ§Ã£o do Fluxo",-1)),e("div",ds,[e("div",is,[s[39]||(s[39]=e("label",{class:"block text-xs font-bold text-slate-600 dark:text-slate-400 mb-1.5 uppercase"},"Squad",-1)),E(e("select",{"onUpdate:modelValue":s[2]||(s[2]=f=>u.value.squadId=f),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 p-2.5 text-sm dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-purple-500 shadow-sm font-medium"},[s[38]||(s[38]=e("option",{value:""},"-- Selecione a Squad --",-1)),(r(!0),n(z,null,F(w(H).squads,f=>(r(),n("option",{key:f.id,value:f.id},m(f.name),9,us))),128))],512),[[ye,u.value.squadId]])]),e("div",cs,[s[40]||(s[40]=e("label",{class:"block text-xs font-bold text-slate-600 dark:text-slate-400 mb-1.5 uppercase"},"Nome da Feature (Base)",-1)),E(e("input",{"onUpdate:modelValue":s[3]||(s[3]=f=>u.value.featureName=f),type:"text",placeholder:"Ex: CriaÃ§Ã£o de Login",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 p-2.5 text-sm font-medium focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-slate-800 dark:text-white transition-all shadow-sm placeholder-slate-400",required:"",autofocus:""},null,512),[[ie,u.value.featureName]])]),e("div",null,[s[42]||(s[42]=e("label",{class:"block text-xs font-bold text-slate-600 dark:text-slate-400 mb-1.5 uppercase"},"Sprint",-1)),E(e("select",{"onUpdate:modelValue":s[4]||(s[4]=f=>u.value.sprintId=f),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 p-2.5 text-sm dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-purple-500 shadow-sm font-medium",disabled:!u.value.squadId},[s[41]||(s[41]=e("option",{value:""},"-- NÃ£o Planejado --",-1)),(r(!0),n(z,null,F(Q.value,f=>(r(),n("option",{key:f.id,value:f.id},m(f.name),9,bs))),128))],8,ps),[[ye,u.value.sprintId]]),N.value?(r(),n("div",fs,"Squad: "+m(N.value.name),1)):P("",!0)]),e("div",null,[s[43]||(s[43]=e("label",{class:"block text-xs font-bold text-slate-600 dark:text-slate-400 mb-1.5 uppercase"},"US ID",-1)),E(e("input",{"onUpdate:modelValue":s[5]||(s[5]=f=>u.value.usId=f),type:"text",placeholder:"Ex: US-200",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 p-2.5 text-sm dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-purple-500 shadow-sm font-medium"},null,512),[[ie,u.value.usId]])]),e("div",vs,[e("div",null,[s[46]||(s[46]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5"},"Prioridade",-1)),e("div",ms,[e("label",xs,[E(e("input",{type:"radio","onUpdate:modelValue":s[6]||(s[6]=f=>u.value.usType=f),value:"goal",class:"peer sr-only"},null,512),[[Ye,u.value.usType]]),s[44]||(s[44]=e("div",{class:"text-center py-2 px-2 rounded-md border border-slate-200 dark:border-slate-600 peer-checked:bg-amber-100 peer-checked:text-amber-800 peer-checked:border-amber-300 dark:peer-checked:bg-amber-900/40 dark:peer-checked:text-amber-200 dark:text-slate-300 transition-all text-xs font-bold shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700"}," ðŸ† Meta ",-1))]),e("label",gs,[E(e("input",{type:"radio","onUpdate:modelValue":s[7]||(s[7]=f=>u.value.usType=f),value:"item",class:"peer sr-only"},null,512),[[Ye,u.value.usType]]),s[45]||(s[45]=e("div",{class:"text-center py-2 px-2 rounded-md border border-slate-200 dark:border-slate-600 peer-checked:bg-slate-200 peer-checked:text-slate-800 dark:peer-checked:bg-slate-600 dark:peer-checked:text-white dark:text-slate-300 transition-all text-xs font-bold shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700"}," ðŸ“ Item ",-1))])])]),e("div",null,[s[47]||(s[47]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5"},"ClassificaÃ§Ã£o",-1)),E(e("input",{"onUpdate:modelValue":s[8]||(s[8]=f=>u.value.classification=f),type:"number",class:"w-full rounded-md border-slate-300 dark:border-slate-600 p-2 text-sm dark:bg-slate-700 dark:text-white focus:ring-2 focus:ring-purple-500 shadow-sm font-medium",placeholder:"0"},null,512),[[ie,u.value.classification,void 0,{number:!0}]])])]),e("div",ks,[E(e("input",{type:"checkbox",id:"isFullstack","onUpdate:modelValue":s[9]||(s[9]=f=>u.value.isFullstack=f),class:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500 border-slate-300"},null,512),[[Le,u.value.isFullstack]]),s[48]||(s[48]=e("label",{for:"isFullstack",class:"text-sm font-bold text-slate-700 dark:text-slate-300 cursor-pointer select-none"},"Feature Fullstack (Remove etapa de Frontend)",-1))])])]),e("div",hs,[e("div",{class:J(["flex gap-3 items-start p-3 rounded-lg border transition-all shadow-sm",u.value.backend.enabled?"border-green-200 bg-green-50/50 dark:border-green-900/30 dark:bg-green-900/10":"border-slate-100 bg-slate-50 opacity-60"])},[e("div",ys,[E(e("input",{type:"checkbox","onUpdate:modelValue":s[10]||(s[10]=f=>u.value.backend.enabled=f),class:"rounded text-green-600 focus:ring-green-500 w-4 h-4"},null,512),[[Le,u.value.backend.enabled]])]),e("div",ws,[e("div",Ds,"1. "+m(u.value.isFullstack?"Fullstack":"Backend"),1),e("div",null,[E(e("select",{"onUpdate:modelValue":s[11]||(s[11]=f=>u.value.backend.responsible=f),disabled:!u.value.backend.enabled||!u.value.squadId,class:"w-full rounded-md border-slate-300 dark:border-slate-600 p-2 text-xs dark:bg-slate-800 dark:text-white font-medium"},[s[50]||(s[50]=e("option",{value:""},"ResponsÃ¡vel",-1)),(r(!0),n(z,null,F(ve("backend",u.value.squadId),f=>(r(),n("option",{key:f.name,value:f.name},m(f.name),9,_s))),128))],8,$s),[[ye,u.value.backend.responsible]])]),e("div",null,[E(e("input",{"onUpdate:modelValue":s[12]||(s[12]=f=>u.value.backend.effort=f),type:"number",placeholder:"Horas",disabled:!u.value.backend.enabled,class:"w-full rounded-md border-slate-300 dark:border-slate-600 p-2 text-xs dark:bg-slate-800 dark:text-white font-medium"},null,8,Ms),[[ie,u.value.backend.effort,void 0,{number:!0}]])])])],2),u.value.isFullstack?P("",!0):(r(),n("div",{key:0,class:J(["flex gap-3 items-start p-3 rounded-lg border transition-all shadow-sm",u.value.frontend.enabled?"border-blue-200 bg-blue-50/50 dark:border-blue-900/30 dark:bg-blue-900/10":"border-slate-100 bg-slate-50 opacity-60"])},[e("div",Is,[E(e("input",{type:"checkbox","onUpdate:modelValue":s[13]||(s[13]=f=>u.value.frontend.enabled=f),class:"rounded text-blue-600 focus:ring-blue-500 w-4 h-4"},null,512),[[Le,u.value.frontend.enabled]])]),e("div",Ss,[s[52]||(s[52]=e("div",{class:"col-span-2 text-xs font-bold text-blue-800 dark:text-blue-400 uppercase tracking-wide"},"2. Frontend",-1)),e("div",null,[E(e("select",{"onUpdate:modelValue":s[14]||(s[14]=f=>u.value.frontend.responsible=f),disabled:!u.value.frontend.enabled||!u.value.squadId,class:"w-full rounded-md border-slate-300 dark:border-slate-600 p-2 text-xs dark:bg-slate-800 dark:text-white font-medium"},[s[51]||(s[51]=e("option",{value:""},"ResponsÃ¡vel",-1)),(r(!0),n(z,null,F(ve("frontend",u.value.squadId),f=>(r(),n("option",{key:f.name,value:f.name},m(f.name),9,qs))),128))],8,Cs),[[ye,u.value.frontend.responsible]])]),e("div",null,[E(e("input",{"onUpdate:modelValue":s[15]||(s[15]=f=>u.value.frontend.effort=f),type:"number",placeholder:"Horas",disabled:!u.value.frontend.enabled,class:"w-full rounded-md border-slate-300 dark:border-slate-600 p-2 text-xs dark:bg-slate-800 dark:text-white font-medium"},null,8,js),[[ie,u.value.frontend.effort,void 0,{number:!0}]])])])],2)),e("div",{class:J(["flex gap-3 items-start p-3 rounded-lg border transition-all shadow-sm",u.value.qa.enabled?"border-purple-200 bg-purple-50/50 dark:border-purple-900/30 dark:bg-purple-900/10":"border-slate-100 bg-slate-50 opacity-60"])},[e("div",Ts,[E(e("input",{type:"checkbox","onUpdate:modelValue":s[16]||(s[16]=f=>u.value.qa.enabled=f),class:"rounded text-purple-600 focus:ring-purple-500 w-4 h-4"},null,512),[[Le,u.value.qa.enabled]])]),e("div",Es,[e("div",As,m(u.value.isFullstack?"2.":"3.")+" QA / Teste",1),e("div",null,[E(e("select",{"onUpdate:modelValue":s[17]||(s[17]=f=>u.value.qa.responsible=f),disabled:!u.value.qa.enabled||!u.value.squadId,class:"w-full rounded-md border-slate-300 dark:border-slate-600 p-2 text-xs dark:bg-slate-800 dark:text-white font-medium"},[s[53]||(s[53]=e("option",{value:""},"ResponsÃ¡vel",-1)),(r(!0),n(z,null,F(ve("qualidade",u.value.squadId),f=>(r(),n("option",{key:f.name,value:f.name},m(f.name),9,Vs))),128))],8,Os),[[ye,u.value.qa.responsible]])]),e("div",null,[E(e("input",{"onUpdate:modelValue":s[18]||(s[18]=f=>u.value.qa.effort=f),type:"number",placeholder:"Horas",disabled:!u.value.qa.enabled,class:"w-full rounded-md border-slate-300 dark:border-slate-600 p-2 text-xs dark:bg-slate-800 dark:text-white font-medium"},null,8,Us),[[ie,u.value.qa.effort,void 0,{number:!0}]])])])],2)])],32)):(r(),n("form",{key:1,id:"simple-form",onSubmit:tt(B,["prevent"]),class:"space-y-6 animate-fade-in"},[e("div",null,[s[55]||(s[55]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"Squad",-1)),E(e("select",{"onUpdate:modelValue":s[19]||(s[19]=f=>c.value.squadId=f),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 text-sm dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"},[s[54]||(s[54]=e("option",{value:""},"-- Selecione a Squad --",-1)),(r(!0),n(z,null,F(w(H).squads,f=>(r(),n("option",{key:f.id,value:f.id},m(f.name),9,Ns))),128))],512),[[ye,c.value.squadId]])]),e("div",Ps,[e("div",null,[s[56]||(s[56]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"ID da US",-1)),E(e("input",{"onUpdate:modelValue":s[20]||(s[20]=f=>c.value.usId=f),type:"text",placeholder:"Ex: US-104",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors"},null,512),[[ie,c.value.usId]])]),e("div",null,[s[57]||(s[57]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"ID da Tarefa",-1)),E(e("input",{"onUpdate:modelValue":s[21]||(s[21]=f=>c.value.customId=f),type:"text",placeholder:"Ex: T-01",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors"},null,512),[[ie,c.value.customId]])])]),e("div",null,[s[58]||(s[58]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"Nome da Tarefa",-1)),E(e("input",{"onUpdate:modelValue":s[22]||(s[22]=f=>c.value.name=f),type:"text",placeholder:"Ex: Desenvolver API...",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors placeholder-slate-400",required:"",autofocus:""},null,512),[[ie,c.value.name]])]),e("div",Rs,[e("div",null,[s[61]||(s[61]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5"},"Prioridade da US",-1)),e("div",Bs,[e("label",zs,[E(e("input",{type:"radio","onUpdate:modelValue":s[23]||(s[23]=f=>c.value.usType=f),value:"goal",class:"peer sr-only"},null,512),[[Ye,c.value.usType]]),s[59]||(s[59]=e("div",{class:"text-center py-2.5 px-3 rounded-lg border border-slate-200 dark:border-slate-600 peer-checked:bg-amber-100 peer-checked:text-amber-800 peer-checked:border-amber-300 dark:peer-checked:bg-amber-900/40 dark:peer-checked:text-amber-200 dark:text-slate-300 transition-all text-sm font-bold shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700"}," ðŸ† Meta ",-1))]),e("label",Fs,[E(e("input",{type:"radio","onUpdate:modelValue":s[24]||(s[24]=f=>c.value.usType=f),value:"item",class:"peer sr-only"},null,512),[[Ye,c.value.usType]]),s[60]||(s[60]=e("div",{class:"text-center py-2.5 px-3 rounded-lg border border-slate-200 dark:border-slate-600 peer-checked:bg-slate-200 peer-checked:text-slate-800 dark:peer-checked:bg-slate-600 dark:peer-checked:text-white dark:text-slate-300 transition-all text-sm font-bold shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700"}," ðŸ“ Item ",-1))])])]),e("div",null,[s[62]||(s[62]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5"},"ClassificaÃ§Ã£o",-1)),E(e("input",{"onUpdate:modelValue":s[25]||(s[25]=f=>c.value.classification=f),type:"number",placeholder:"0",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors"},null,512),[[ie,c.value.classification,void 0,{number:!0}]])])]),e("div",Ls,[E(e("input",{type:"checkbox",id:"isMilestone","onUpdate:modelValue":s[26]||(s[26]=f=>c.value.isMilestone=f),class:"w-5 h-5 rounded text-indigo-600 focus:ring-indigo-500 border-indigo-200"},null,512),[[Le,c.value.isMilestone]]),s[63]||(s[63]=e("label",{for:"isMilestone",class:"text-sm font-bold text-indigo-800 dark:text-indigo-200 cursor-pointer select-none"}," ðŸš© Ã‰ um Marco (Milestone)?",-1))]),c.value.isMilestone?P("",!0):(r(),n("div",Hs,[e("div",null,[s[65]||(s[65]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"Tipo da Tarefa",-1)),E(e("select",{"onUpdate:modelValue":s[27]||(s[27]=f=>c.value.type=f),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors"},[...s[64]||(s[64]=[e("option",{value:"frontend"},"Front-end",-1),e("option",{value:"backend"},"Back-end",-1),e("option",{value:"qualidade"},"Qualidade",-1),e("option",{value:"other"},"Outro",-1)])],512),[[ye,c.value.type]])]),e("div",null,[s[67]||(s[67]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-2 uppercase"},"Cor da Barra",-1)),e("div",Ws,[(r(),n(z,null,F(j,f=>e("button",{type:"button",key:f,onClick:Xe=>c.value.color=f,class:J(["w-9 h-9 rounded-full border-2 transition-transform hover:scale-110 shadow-sm flex items-center justify-center",c.value.color===f?"border-slate-800 dark:border-white scale-110 ring-2 ring-offset-2 ring-offset-white dark:ring-offset-slate-900 ring-slate-300":"border-transparent"]),style:qe({backgroundColor:f})},[c.value.color===f?(r(),n("svg",Qs,[...s[66]||(s[66]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"},null,-1)])])):P("",!0)],14,Gs)),64))])])])),s[82]||(s[82]=e("hr",{class:"border-slate-100 dark:border-slate-700"},null,-1)),e("div",null,[s[70]||(s[70]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"Sprint (Opcional)",-1)),E(e("select",{"onUpdate:modelValue":s[28]||(s[28]=f=>c.value.sprintId=f),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-purple-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors",disabled:!c.value.squadId},[s[68]||(s[68]=e("option",{value:""},"-- Sem Sprint (NÃ£o Planejado) --",-1)),(r(!0),n(z,null,F(q.value,f=>(r(),n("option",{key:f.id,value:f.id},m(f.name),9,Ys))),128))],8,Xs),[[ye,c.value.sprintId]]),X.value?(r(),n("div",Js,[s[69]||(s[69]=e("span",{class:"w-2 h-2 rounded-full bg-indigo-500"},null,-1)),te(" Restrito Ã  Squad: "+m(X.value.name),1)])):P("",!0)]),e("div",Ks,[c.value.isMilestone?P("",!0):(r(),n("div",Zs,[s[72]||(s[72]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"ResponsÃ¡vel",-1)),E(e("select",{"onUpdate:modelValue":s[29]||(s[29]=f=>c.value.responsible=f),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors",disabled:!c.value.squadId},[s[71]||(s[71]=e("option",{value:""},"-- Selecione --",-1)),(r(!0),n(z,null,F(ke.value,f=>(r(),n("option",{key:f.name,value:f.name},m(f.name)+" ("+m(f.sector||"Geral")+")",9,ta))),128))],8,ea),[[ye,c.value.responsible]]),c.value.squadId?P("",!0):(r(),n("div",sa,"Selecione uma Squad primeiro"))])),c.value.isMilestone?P("",!0):(r(),n("div",aa,[s[74]||(s[74]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"EsforÃ§o Estimado",-1)),e("div",la,[E(e("input",{"onUpdate:modelValue":s[30]||(s[30]=f=>c.value.effort=f),type:"number",min:"0",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm pr-12 bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors"},null,512),[[ie,c.value.effort,void 0,{number:!0}]]),s[73]||(s[73]=e("span",{class:"absolute right-3 top-2.5 text-xs text-slate-400 dark:text-slate-500 font-bold"},"HORAS",-1))])]))]),c.value.isMilestone?(r(),n("div",da,[s[80]||(s[80]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"DependÃªncia (Define a data do Marco)",-1)),E(e("select",{"onUpdate:modelValue":s[33]||(s[33]=f=>c.value.dependencyId=f),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors"},[s[79]||(s[79]=e("option",{value:""},"Nenhuma (InÃ­cio do Projeto)",-1)),(r(!0),n(z,null,F(w(h),f=>E((r(),n("option",{key:f.id,value:f.id},m(f.name),9,ia)),[[xt,!w(y)||f.id!==w(y).id]])),128))],512),[[ye,c.value.dependencyId]])])):(r(),n("div",oa,[e("div",null,[s[76]||(s[76]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"DuraÃ§Ã£o (Dias)",-1)),e("div",ra,[E(e("input",{"onUpdate:modelValue":s[31]||(s[31]=f=>c.value.duration=f),type:"number",min:"1",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none bg-slate-50 dark:bg-slate-700 text-slate-600 dark:text-slate-200 text-sm pr-10 transition-colors font-medium cursor-not-allowed",title:"Calculado automaticamente baseado no esforÃ§o e capacidade",readonly:""},null,512),[[ie,c.value.duration,void 0,{number:!0}]]),s[75]||(s[75]=e("span",{class:"absolute right-3 top-2.5 text-xs text-slate-400 dark:text-slate-400 font-bold"},"DIAS",-1))])]),e("div",null,[s[78]||(s[78]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"DependÃªncia",-1)),E(e("select",{"onUpdate:modelValue":s[32]||(s[32]=f=>c.value.dependencyId=f),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors"},[s[77]||(s[77]=e("option",{value:""},"Nenhuma",-1)),(r(!0),n(z,null,F(w(h),f=>E((r(),n("option",{key:f.id,value:f.id},m(f.name),9,na)),[[xt,!w(y)||f.id!==w(y).id]])),128))],512),[[ye,c.value.dependencyId]])])])),oe.value?(r(),n("div",ua,[s[81]||(s[81]=e("svg",{class:"h-5 w-5 flex-shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),e("span",null,m(oe.value),1)])):P("",!0)],32))]),e("div",ca,[e("div",pa,[e("button",{type:"button",onClick:me,class:"px-5 py-3 rounded-lg border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 transition text-sm w-1/3"},"Cancelar"),e("button",{type:"submit",form:ae.value,class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-bold shadow-lg shadow-blue-200 dark:shadow-none text-sm transition-colors"},m(w(y)?"Salvar AlteraÃ§Ãµes":"Criar Tarefa"),9,ba)]),w(y)?(r(),n("div",fa,[e("button",{type:"button",onClick:A,class:"flex-1 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 py-2 text-xs font-bold flex items-center justify-center gap-1 transition-colors border border-transparent hover:border-red-100 dark:hover:border-red-900 rounded"},[...s[83]||(s[83]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),te(" Excluir ",-1)])]),e("button",{type:"button",onClick:T,class:J(["flex-1 py-2 text-xs font-bold flex items-center justify-center gap-1 transition-colors border border-transparent rounded",w(y).isCompleted?"text-slate-500 hover:text-slate-700 hover:bg-slate-100 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:bg-slate-700":"text-green-600 hover:text-green-700 hover:bg-green-50 dark:text-green-400 dark:hover:text-green-300 dark:hover:bg-green-900/30"])},[w(y).isCompleted?(r(),n("svg",ma,[...s[85]||(s[85]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(r(),n("svg",va,[...s[84]||(s[84]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])),te(" "+m(w(y).isCompleted?"Reabrir":"Concluir"),1)],2)])):P("",!0)])]),Se(yt,{"is-open":i.value,title:"Excluir Tarefa",message:`Tem a certeza que deseja excluir a tarefa '${(ee=w(y))==null?void 0:ee.name}'?`,onConfirm:O,onCancel:s[34]||(s[34]=f=>i.value=!1)},null,8,["is-open","message"]),Se(yt,{"is-open":p.value,title:(re=w(y))!=null&&re.isCompleted?"Reabrir Tarefa":"Concluir Tarefa",message:(xe=w(y))!=null&&xe.isCompleted?`Deseja marcar '${(we=w(y))==null?void 0:we.name}' como em andamento novamente?`:`Confirmar a conclusÃ£o da tarefa '${(ce=w(y))==null?void 0:ce.name}'?`,onConfirm:$e,onCancel:s[35]||(s[35]=f=>p.value=!1)},null,8,["is-open","title","message"])])):P("",!0)]}),_:1}))}}),Re=(L,h)=>{const M=L.__vccOpts||L;for(const[y,x]of h)M[y]=x;return M},ga=Re(xa,[["__scopeId","data-v-0023a999"]]),ka={class:"space-y-6 animate-fade-in pb-10"},ha={class:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col md:flex-row gap-6"},ya={class:"flex-1"},wa=["value"],Da=["value"],$a={key:0,class:"bg-slate-50 dark:bg-slate-800/50 border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-20 text-center transition-colors"},_a={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start"},Ma={class:"space-y-6"},Ia={class:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700"},Sa={class:"grid grid-cols-2 gap-6 mb-8"},Ca={class:"space-y-4 mb-8"},qa={class:"text-sm font-semibold text-slate-700 dark:text-slate-300"},ja=["onUpdate:modelValue"],Ta={class:"flex items-center gap-4 pt-6 border-t border-slate-100 dark:border-slate-700"},Ea={class:"bg-slate-900 dark:bg-indigo-950 text-white p-6 rounded-xl shadow-lg border border-slate-800 dark:border-indigo-900 transition-colors"},Aa={class:"grid grid-cols-2 gap-8"},Oa={class:"border-r border-slate-700 dark:border-indigo-900"},Va={class:"block text-4xl font-black mb-1"},Ua={class:"text-emerald-400"},Na={class:"block text-4xl font-black mb-1"},Pa={class:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700"},Ra={class:"bg-slate-50 dark:bg-slate-900/50 p-1 rounded-xl border border-slate-100 dark:border-slate-700"},Ba={class:"space-y-1 max-h-56 overflow-y-auto p-2"},za={key:0,class:"text-sm text-green-600 dark:text-green-400 flex items-center gap-2 p-3 font-semibold bg-white dark:bg-slate-800 rounded-lg shadow-sm"},Fa={class:"space-y-6"},La={class:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700"},Ha={class:"flex gap-3 mb-6"},Wa={class:"flex flex-wrap gap-2"},Ga=["onClick"],Qa={class:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700"},Xa={class:"space-y-4 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar"},Ya={key:0,class:"space-y-4 animate-fade-in"},Ja={class:"flex items-center justify-between"},Ka={class:"font-bold text-base text-slate-700 dark:text-slate-200"},Za={class:"flex gap-3"},el={class:"flex gap-3"},tl={class:"flex flex-wrap gap-2 mt-3"},sl=["onClick"],al={key:1,class:"flex justify-between items-center"},ll={class:"flex flex-col"},ol={class:"text-base font-bold text-slate-700 dark:text-slate-200"},rl={class:"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide"},nl=["onClick"],dl=Te({__name:"ProjectConfig",setup(L){const{config:h,addHolidayToSquad:M,removeHolidayFromSquad:y,updateSprintInSquad:x,updateMember:g,addMemberDayOff:R,removeMemberDayOff:_,automaticRisks:H}=Pe(),D=V(""),k=V(""),j=V({id:"",name:"",startDate:"",endDate:"",reviewDate:"",retroDate:"",refinementDate:"",planningDate:"",skipWeekends:!0}),U=V(""),c=V(null),G=V(""),u=V(8),i=W(()=>h.value.squads.find(B=>B.id===D.value)),p=W(()=>{var B;return((B=i.value)==null?void 0:B.sprints)||[]}),q=W(()=>p.value.find(B=>B.id===k.value)),Q=W(()=>D.value?h.value.teamMembers.filter(B=>B.squadIds.includes(D.value)):[]);Ve(k,B=>{B&&q.value&&(j.value={...q.value,reviewDate:q.value.reviewDate||"",retroDate:q.value.retroDate||"",refinementDate:q.value.refinementDate||"",planningDate:q.value.planningDate||"",skipWeekends:q.value.skipWeekends??!0})});const N=W(()=>{var v;if(!j.value.startDate||!j.value.endDate)return{working:0,calendar:0};const B=Y(j.value.startDate),C=Y(j.value.endDate),me=pt({start:B,end:C}),A=me.length,O=((v=i.value)==null?void 0:v.holidays)||[],T=[j.value.reviewDate,j.value.retroDate,j.value.refinementDate,j.value.planningDate];return{working:me.filter(s=>{const ee=se(s,"yyyy-MM-dd"),re=j.value.skipWeekends&&Ne(s),xe=O.includes(ee),we=T.includes(ee);return!re&&!xe&&!we}).length,calendar:A}}),X=()=>{D.value&&k.value&&x(D.value,k.value,{...j.value})},ae=()=>{U.value&&D.value&&(M(D.value,U.value),U.value="")},ve=B=>{const C=h.value.teamMembers.findIndex(me=>me.name===B.name);C!==-1&&(c.value=C,u.value=h.value.teamMembers[C].capacity)},ke=()=>{if(c.value!==null){const B=h.value.teamMembers[c.value];g(c.value,B.name,u.value,B.sector,B.squadIds),c.value=null}},he=()=>{c.value!==null&&G.value&&(R(c.value,G.value),G.value="")},oe=B=>{"showPicker"in HTMLInputElement.prototype&&B.target.showPicker()},ue=B=>B?se(Y(B),"dd/MM/yyyy"):"-";return(B,C)=>{var me;return r(),n("div",ka,[e("div",ha,[e("div",ya,[C[10]||(C[10]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2"},"1. Selecione a Squad",-1)),E(e("select",{"onUpdate:modelValue":C[0]||(C[0]=A=>D.value=A),onChange:C[1]||(C[1]=A=>k.value=""),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white text-sm font-bold h-12 focus:ring-2 focus:ring-indigo-500 transition-all cursor-pointer"},[C[9]||(C[9]=e("option",{value:"",disabled:""},"Escolha uma Squad",-1)),(r(!0),n(z,null,F(w(h).squads,A=>(r(),n("option",{key:A.id,value:A.id},"Squad: "+m(A.name),9,wa))),128))],544),[[ye,D.value]])]),e("div",{class:J(["flex-1",{"opacity-50 pointer-events-none":!D.value}])},[C[12]||(C[12]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2"},"2. Selecione a Sprint",-1)),E(e("select",{"onUpdate:modelValue":C[2]||(C[2]=A=>k.value=A),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white text-sm font-bold h-12 focus:ring-2 focus:ring-indigo-500 transition-all cursor-pointer"},[C[11]||(C[11]=e("option",{value:"",disabled:""},"Escolha a Sprint para configurar",-1)),(r(!0),n(z,null,F(p.value,A=>(r(),n("option",{key:A.id,value:A.id},m(A.name)+" ("+m(ue(A.startDate))+")",9,Da))),128))],512),[[ye,k.value]])],2)]),k.value?(r(),n("div",_a,[e("div",Ma,[e("div",Ia,[C[18]||(C[18]=e("h3",{class:"font-bold text-lg text-slate-800 dark:text-slate-100 mb-6 flex items-center gap-2 border-b border-slate-100 dark:border-slate-700 pb-4"},[e("span",{class:"p-2 bg-blue-100 dark:bg-blue-900/40 rounded-lg text-blue-600 dark:text-blue-400 text-xl"},"ðŸ“…"),te(" PerÃ­odo da Sprint ")],-1)),e("div",Sa,[e("div",null,[C[14]||(C[14]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2 tracking-wider"},"InÃ­cio",-1)),E(e("input",{type:"date","onUpdate:modelValue":C[3]||(C[3]=A=>j.value.startDate=A),onChange:X,onClick:oe,class:"w-full rounded-xl border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white text-base h-12 px-4 dark:[color-scheme:dark] focus:ring-2 focus:ring-blue-500 transition-all cursor-pointer shadow-sm"},null,544),[[ie,j.value.startDate]])]),e("div",null,[C[15]||(C[15]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2 tracking-wider"},"Fim",-1)),E(e("input",{type:"date","onUpdate:modelValue":C[4]||(C[4]=A=>j.value.endDate=A),onChange:X,onClick:oe,class:"w-full rounded-xl border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white text-base h-12 px-4 dark:[color-scheme:dark] focus:ring-2 focus:ring-blue-500 transition-all cursor-pointer shadow-sm"},null,544),[[ie,j.value.endDate]])])]),e("div",Ca,[C[16]||(C[16]=e("h4",{class:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-2"},"Ritos (Dias nÃ£o produtivos)",-1)),(r(),n(z,null,F(["Planning","Refinement","Review","Retrospective"],A=>e("div",{key:A,class:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-700/50 hover:border-blue-300 dark:hover:border-blue-700 transition-colors"},[e("span",qa,m(A),1),E(e("input",{type:"date","onUpdate:modelValue":O=>j.value[`${A.toLowerCase()}Date`]=O,onChange:X,onClick:oe,class:"text-sm font-medium rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white h-10 px-3 dark:[color-scheme:dark] focus:ring-2 focus:ring-blue-500 transition-all cursor-pointer"},null,40,ja),[[ie,j.value[`${A.toLowerCase()}Date`]]])])),64))]),e("div",Ta,[E(e("input",{type:"checkbox","onUpdate:modelValue":C[5]||(C[5]=A=>j.value.skipWeekends=A),onChange:X,class:"w-6 h-6 rounded border-slate-300 dark:border-slate-600 text-blue-600 focus:ring-blue-500 cursor-pointer",id:"skipW"},null,544),[[Le,j.value.skipWeekends]]),C[17]||(C[17]=e("label",{for:"skipW",class:"text-base font-semibold text-slate-700 dark:text-slate-300 cursor-pointer select-none"},"Pular Finais de Semana",-1))])]),e("div",Ea,[C[21]||(C[21]=e("h3",{class:"text-xs font-bold uppercase text-slate-400 dark:text-indigo-300 mb-6 tracking-wider"},"Capacidade da Sprint",-1)),e("div",Aa,[e("div",Oa,[e("span",Va,m(N.value.calendar),1),C[19]||(C[19]=e("span",{class:"text-[11px] font-bold text-slate-500 dark:text-indigo-400 uppercase tracking-wider"},"Dias Corridos",-1))]),e("div",Ua,[e("span",Na,m(N.value.working),1),C[20]||(C[20]=e("span",{class:"text-[11px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wider"},"Dias Ãšteis Produtivos",-1))])])]),e("div",Pa,[C[23]||(C[23]=e("h3",{class:"font-bold text-lg text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2"},[e("div",{class:"p-1.5 bg-red-100 dark:bg-red-900/30 rounded-lg text-red-600 dark:text-red-400"},"âš ï¸"),te(" Riscos Detectados ")],-1)),e("div",Ra,[e("ul",Ba,[w(H).length===0?(r(),n("li",za,"âœ… Nenhum risco crÃ­tico detectado.")):P("",!0),(r(!0),n(z,null,F(w(H),(A,O)=>(r(),n("li",{key:O,class:"flex items-start gap-3 p-3 rounded-lg bg-white dark:bg-slate-800 border border-red-100 dark:border-red-900/30 text-sm text-slate-700 dark:text-slate-300 shadow-sm"},[C[22]||(C[22]=e("span",{class:"text-red-500 font-bold text-lg leading-none"},"â€¢",-1)),e("span",null,m(A),1)]))),128))])])])]),e("div",Fa,[e("div",La,[C[24]||(C[24]=e("h3",{class:"font-bold text-lg text-slate-800 dark:text-slate-100 mb-5 flex items-center gap-2 border-b border-slate-100 dark:border-slate-700 pb-4"},[e("span",{class:"p-2 bg-amber-100 dark:bg-amber-900/40 rounded-lg text-amber-600 dark:text-amber-400 text-xl"},"ðŸï¸"),te(" Feriados Coletivos ")],-1)),e("div",Ha,[E(e("input",{"onUpdate:modelValue":C[6]||(C[6]=A=>U.value=A),type:"date",onClick:oe,class:"flex-1 rounded-xl border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white text-sm h-12 px-4 dark:[color-scheme:dark] focus:ring-2 focus:ring-amber-500 transition-all cursor-pointer"},null,512),[[ie,U.value]]),e("button",{onClick:ae,class:"bg-amber-500 hover:bg-amber-600 text-white px-6 rounded-xl font-bold transition-all shadow-md active:scale-95 text-lg"},"+")]),e("div",Wa,[(r(!0),n(z,null,F((me=i.value)==null?void 0:me.holidays,A=>(r(),n("div",{key:A,class:"flex items-center bg-slate-100 dark:bg-slate-700 px-4 py-2 rounded-lg text-sm font-bold text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-600 group transition-all"},[te(m(ue(A))+" ",1),e("button",{onClick:O=>w(y)(D.value,A),class:"ml-3 text-red-500 opacity-0 group-hover:opacity-100 transition-opacity hover:scale-125 font-black"},"Ã—",8,Ga)]))),128))])]),e("div",Qa,[C[25]||(C[25]=e("h3",{class:"font-bold text-lg text-slate-800 dark:text-slate-100 mb-5 flex items-center gap-2 border-b border-slate-100 dark:border-slate-700 pb-4"},[e("span",{class:"p-2 bg-indigo-100 dark:bg-indigo-900/40 rounded-lg text-indigo-600 dark:text-indigo-400 text-xl"},"ðŸ‘¤"),te(" Day Off Individual ")],-1)),e("div",Xa,[(r(!0),n(z,null,F(Q.value,A=>(r(),n("div",{key:A.name,class:"p-4 border rounded-2xl border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-900/30 transition-all hover:shadow-md"},[c.value!==null&&w(h).teamMembers[c.value].name===A.name?(r(),n("div",Ya,[e("div",Ja,[e("span",Ka,m(A.name),1),e("div",Za,[E(e("input",{"onUpdate:modelValue":C[7]||(C[7]=O=>u.value=O),type:"number",class:"w-20 h-10 px-2 text-sm font-bold rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-green-500"},null,512),[[ie,u.value,void 0,{number:!0}]]),e("button",{onClick:ke,class:"text-green-600 font-bold text-sm hover:text-green-700 transition-colors bg-green-50 dark:bg-green-900/20 px-3 rounded-lg"},"OK")])]),e("div",el,[E(e("input",{"onUpdate:modelValue":C[8]||(C[8]=O=>G.value=O),type:"date",onClick:oe,class:"flex-1 text-sm h-11 px-4 rounded-xl border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white dark:[color-scheme:dark] focus:ring-2 focus:ring-indigo-500"},null,512),[[ie,G.value]]),e("button",{onClick:he,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 rounded-xl text-lg font-bold transition-all shadow-md active:scale-95"},"+")]),e("div",tl,[(r(!0),n(z,null,F(A.daysOff,O=>(r(),n("span",{key:O,class:"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-3 py-1.5 rounded-lg text-xs font-bold flex items-center border border-red-100 dark:border-red-800 group shadow-sm"},[te(m(ue(O))+" ",1),e("button",{onClick:T=>w(_)(c.value,O),class:"ml-2 transition-transform hover:scale-125"},"Ã—",8,sl)]))),128))])])):(r(),n("div",al,[e("div",ll,[e("span",ol,m(A.name),1),e("span",rl,m(A.daysOff.length)+" Folgas",1)]),e("button",{onClick:O=>ve(A),class:"p-3 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 transition-all text-slate-400 dark:text-slate-500 hover:text-indigo-600 dark:hover:text-indigo-400 active:scale-95"}," âš™ï¸ ",8,nl)]))]))),128))])])])])):(r(),n("div",$a,[...C[13]||(C[13]=[e("div",{class:"text-5xl mb-4"},"ðŸ—“ï¸",-1),e("h3",{class:"text-xl font-bold text-slate-600 dark:text-slate-300"},"Aguardando SeleÃ§Ã£o",-1),e("p",{class:"text-sm text-slate-500 dark:text-slate-400 max-w-xs mx-auto mt-2"},"Selecione uma Squad e uma Sprint acima para liberar as configuraÃ§Ãµes.",-1)])]))])}}}),il=Re(dl,[["__scopeId","data-v-d6f06929"]]);function ul(){return{exportToPDF:(x,g,R)=>{var j;const _=new Rt;_.setFontSize(18),_.setTextColor(40,40,40),_.text("RelatÃ³rio de Projeto: Gantt-ficator",14,20),_.setFontSize(10),_.setTextColor(100,100,100),_.text(`Gerado em: ${se(new Date,"dd/MM/yyyy HH:mm")}`,14,26),_.line(14,30,196,30),_.setFontSize(12),_.setTextColor(0,0,0),_.text("Resumo Executivo",14,38),_.setFontSize(10);const H=g.projectStartDate?se(new Date(g.projectStartDate),"dd/MM/yyyy"):"N/A",D=g.deadline?se(new Date(g.deadline),"dd/MM/yyyy"):"N/A";_.text(`InÃ­cio: ${H}`,14,45),_.text(`Deadline: ${D}`,80,45),_.text(`Equipe: ${((j=g.teamMembers)==null?void 0:j.length)||0} membros`,140,45);let k=55;R.length>0&&(_.setFontSize(11),_.setTextColor(185,28,28),_.text("âš ï¸ Riscos e Alertas Identificados:",14,k),_.setFontSize(9),_.setTextColor(60,60,60),R.forEach(U=>{k+=6,_.text(`â€¢ ${U}`,14,k)}),k+=10),Bt(_,{startY:k,head:[["ID","Tarefa","Tipo","Resp.","InÃ­cio","Fim"]],body:x.map(U=>[U.usId||"-",U.usId?`[${U.usId}] ${U.name}`:U.name,U.type.toUpperCase(),U.responsible||"-",U.formattedStartDate||"",U.formattedEndDate||""]),theme:"grid",headStyles:{fillColor:[59,130,246]},styles:{fontSize:7,cellPadding:2},alternateRowStyles:{fillColor:[249,250,251]}}),_.save(`Gantt-Relatorio-${se(new Date,"yyyy-MM-dd")}.pdf`)},exportToExcel:(x,g)=>{const R=Me.book_new(),_=Me.json_to_sheet(x.map(k=>({Tarefa:k.usId?`[${k.usId}] ${k.name}`:k.name,US_ID:k.usId||"-",ID_Tarefa:k.customId||k.id,Tipo:k.type,Responsavel:k.responsible,Esforco_Horas:k.effort,Duracao_Dias:k.duration,Inicio:k.formattedStartDate,Fim:k.formattedEndDate,Dependencia:k.dependencyId,Meta:k.usType==="goal"?"Sim":"NÃ£o"})));Me.book_append_sheet(R,_,"Tarefas");const H=Me.json_to_sheet(g.squads.map(k=>({ID:k.id,Nome:k.name,Cor:k.color,Inicio_Squad:k.startDate,Prazo_Squad:k.deadline})));Me.book_append_sheet(R,H,"Squads");const D=Me.json_to_sheet(g.teamMembers.map(k=>({Nome:k.name,Capacidade:k.capacity,Setor:k.sector,Squads:k.squadIds.join(", ")})));Me.book_append_sheet(R,D,"Membros"),gt(R,`Gantt-Backup-Completo-${se(new Date,"yyyy-MM-dd")}.xlsx`)},importFromExcel:x=>new Promise((g,R)=>{const _=new FileReader;_.onload=H=>{var D;try{const k=new Uint8Array((D=H.target)==null?void 0:D.result),j=Ft(k,{type:"array"}),U=j.Sheets.Tarefas,c=Me.sheet_to_json(U).map(i=>{let p=i.Tarefa||i.Nome;return p&&p.startsWith("[")&&(p=p.split("]").slice(1).join("]").trim()),{id:i.ID||i.ID_Tarefa||crypto.randomUUID(),usId:i.US_ID!=="-"?i.US_ID:"",name:p,duration:Number(i.Duracao_Dias||i.Duracao)||1,type:i.Tipo||"other",responsible:i.Responsavel,effort:Number(i.Esforco_Horas||i.Esforco)||0,dependencyId:i.Dependencia||null,sprintId:i.Sprint_ID,usType:i.Meta==="Sim"?"goal":"item"}}),G=j.Sheets.Squads,u=G?Me.sheet_to_json(G).map(i=>({id:i.ID||crypto.randomUUID(),name:i.Nome,color:i.Cor||"#3b82f6",startDate:i.Inicio_Squad||se(new Date,"yyyy-MM-dd"),deadline:i.Prazo_Squad||"",sprints:[],holidays:[],skipWeekends:!0})):[];g({tasks:c,config:{squads:u}})}catch(k){R(k)}},_.readAsArrayBuffer(x)}),downloadImportTemplate:()=>{const x=Me.book_new(),g=[{Nome:"Tarefa Exemplo",US_ID:"US-001",Tipo:"backend",Responsavel:"",Esforco_Horas:8,Duracao_Dias:1,Meta:"Sim"}];Me.book_append_sheet(x,Me.json_to_sheet(g),"Tarefas"),Me.book_append_sheet(x,Me.json_to_sheet([{Nome:"Squad Exemplo",Cor:"#3b82f6"}]),"Squads"),gt(x,"Modelo-Importacao-Gantt.xlsx")},clearAllData:()=>{localStorage.clear()}}}const cl={class:"grid grid-cols-2 md:grid-cols-6 gap-4 animate-fade-in mb-8"},pl=Te({__name:"ProjectActions",setup(L){const{exportToExcel:h,exportToPDF:M,downloadImportTemplate:y,importFromExcel:x,clearAllData:g}=ul(),{tasks:R,config:_,saveBaseline:H,restoreFullBackup:D}=Pe(),k=ft(),j=V(null),U=()=>{var u;(u=j.value)==null||u.click()},c=async u=>{const i=u.target;if(i.files&&i.files[0])try{const p=await x(i.files[0]);p&&p.tasks.length>0?(D(p.config,p.tasks),k.show("Projeto e configuraÃ§Ãµes importados com sucesso!","success")):k.show("Nenhuma tarefa encontrada no arquivo.","error")}catch(p){console.error(p),k.show('Erro ao ler o arquivo Excel. Verifique se as abas "Tarefas" e "Squads" existem.',"error")}finally{i.value=""}},G=()=>{confirm("Tem certeza? Isso apagarÃ¡ todos os dados locais (Tarefas, Squads e Membros) permanentemente.")&&(g(),window.location.reload())};return(u,i)=>(r(),n("div",cl,[e("div",{class:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition-all group cursor-pointer flex flex-col items-center justify-center gap-2 text-center",onClick:i[0]||(i[0]=p=>w(h)(w(R),w(_)))},[...i[4]||(i[4]=[e("div",{class:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center text-green-600 dark:text-green-400 group-hover:scale-110 transition-transform"},[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),e("div",null,[e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 text-sm"},"Salvar Excel")],-1)])]),e("div",{class:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition-all group cursor-pointer flex flex-col items-center justify-center gap-2 text-center",onClick:i[1]||(i[1]=p=>w(M)(w(R),w(_),[]))},[...i[5]||(i[5]=[e("div",{class:"w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center text-red-600 dark:text-red-400 group-hover:scale-110 transition-transform"},[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})])],-1),e("div",null,[e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 text-sm"},"Gerar PDF")],-1)])]),e("div",{class:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition-all group cursor-pointer flex flex-col items-center justify-center gap-2 text-center",onClick:i[2]||(i[2]=(...p)=>w(y)&&w(y)(...p))},[...i[6]||(i[6]=[e("div",{class:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform"},[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})])],-1),e("div",null,[e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 text-sm"},"Baixar Modelo")],-1)])]),e("div",{class:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition-all group cursor-pointer flex flex-col items-center justify-center gap-2 text-center",onClick:U},[e("input",{type:"file",ref_key:"fileInput",ref:j,class:"hidden",onChange:c,accept:".xlsx"},null,544),i[7]||(i[7]=e("div",{class:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center text-purple-600 dark:text-purple-400 group-hover:scale-110 transition-transform"},[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})])],-1)),i[8]||(i[8]=e("div",null,[e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 text-sm"},"Importar Dados")],-1))]),e("div",{class:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition-all group cursor-pointer flex flex-col items-center justify-center gap-2 text-center",onClick:i[3]||(i[3]=(...p)=>w(H)&&w(H)(...p))},[...i[9]||(i[9]=[e("div",{class:"w-10 h-10 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg flex items-center justify-center text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition-transform"},[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})])],-1),e("div",null,[e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 text-sm"},"Definir Baseline")],-1)])]),e("div",{class:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-red-200 dark:border-red-900/50 shadow-sm hover:shadow-md transition-all group cursor-pointer flex flex-col items-center justify-center gap-2 text-center",onClick:G},[...i[10]||(i[10]=[e("div",{class:"w-10 h-10 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center text-slate-500 dark:text-slate-400 group-hover:bg-red-100 dark:group-hover:bg-red-900/50 group-hover:text-red-600 transition-colors"},[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])],-1),e("div",null,[e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 text-sm group-hover:text-red-600 transition-colors"},"Resetar")],-1)])])]))}}),bl={class:"bg-white dark:bg-slate-800 rounded-lg shadow overflow-hidden border border-slate-200 dark:border-slate-700 flex flex-col h-full select-none transition-colors duration-300"},fl={class:"p-4 border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 flex flex-col gap-3 z-30 relative shadow-sm"},vl={class:"flex flex-col lg:flex-row justify-between items-start lg:items-center w-full gap-4"},ml={class:"flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full lg:w-auto"},xl={key:0,class:"flex items-center gap-2"},gl=["value"],kl={class:"flex bg-slate-100 dark:bg-slate-700 rounded-lg p-1 gap-1 overflow-x-auto max-w-full"},hl={key:1,class:"flex items-center gap-2 lg:ml-4 self-center sm:self-auto"},yl={class:"text-sm font-bold text-slate-800 dark:text-slate-200 min-w-[120px] text-center select-none uppercase text-[11px] tracking-wide"},wl={class:"relative ml-auto z-30 flex items-center gap-3"},Dl={class:"flex items-center bg-slate-100 dark:bg-slate-700 rounded-lg p-1 border border-slate-200 dark:border-slate-600"},$l={class:"flex items-center gap-1"},_l={class:"relative"},Ml={key:0,class:"w-4 h-4 animate-pulse",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Il={key:1,class:"w-4 h-4 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Sl={key:2,class:"bg-red-500 text-white text-[9px] px-1 rounded-full"},Cl={key:0,class:"absolute right-0 top-full mt-2 w-80 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 overflow-hidden animate-fade-in z-50"},ql={class:"p-3 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-between items-center"},jl={class:"max-h-60 overflow-y-auto p-2 custom-scrollbar"},Tl={class:"space-y-1"},El={key:0,class:"text-center p-4 text-slate-400 text-xs"},Al={class:"relative flex h-2 w-2"},Ol={key:0,class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"},Vl={class:"flex flex-col lg:flex-row items-stretch lg:items-center gap-2 pt-3 border-t border-slate-100 dark:border-slate-700"},Ul={class:"relative group flex-1 max-w-full lg:max-w-xs"},Nl={class:"flex gap-2 w-full lg:w-auto"},Pl=["value"],Rl={class:"sticky top-0 z-20 shadow-sm"},Bl={class:"flex bg-slate-100 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 h-[25px] text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wider font-bold"},zl={class:"flex border-b border-slate-200 dark:border-slate-700 h-[30px] bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300"},Fl=["title"],Ll={class:"font-bold"},Hl={class:"text-[8px] uppercase"},Wl={class:"absolute inset-0 flex pointer-events-none"},Gl={class:"relative"},Ql={class:"absolute inset-0 flex pointer-events-none"},Xl=["width","height"],Yl=["d","stroke-width"],Jl={class:"py-2 space-y-1 relative z-10"},Kl={key:0,class:"sticky left-0 bg-slate-100/90 dark:bg-slate-800/90 backdrop-blur-sm border-y border-slate-200 dark:border-slate-700 px-4 py-1.5 text-xs font-bold text-slate-600 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2 z-10 my-2"},Zl={class:"ml-auto text-[9px] bg-slate-200 dark:bg-slate-700 px-1.5 rounded text-slate-500"},eo=["onMousedown","onMouseenter","onMousemove"],to={key:0,class:"truncate font-medium drop-shadow-md flex items-center gap-1"},so={key:0,class:"font-bold opacity-80"},ao={class:"truncate"},lo={key:1},oo={key:1,class:"absolute right-1 top-0.5 w-5 h-5 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-[9px] font-bold border border-white/40"},ro={class:"flex items-start justify-between mb-2 gap-4"},no={class:"text-[10px] font-black uppercase px-2 py-0.5 bg-indigo-100 text-indigo-700 dark:bg-indigo-900/50 dark:text-indigo-300 rounded-full"},io={class:"text-[10px] font-bold text-slate-400"},uo={class:"text-sm font-bold text-slate-800 dark:text-white mb-3 leading-tight"},co={class:"space-y-2 border-t border-slate-100 dark:border-slate-700 pt-2"},po={class:"flex items-center justify-between text-[11px]"},bo={class:"font-bold text-slate-700 dark:text-slate-200"},fo={class:"flex items-center justify-between text-[11px]"},vo={class:"font-bold text-slate-700 dark:text-slate-200"},mo={class:"flex items-center justify-between text-[11px]"},xo={class:"font-bold text-blue-600 dark:text-blue-400"},go={key:0,class:"mt-3 p-2 bg-amber-50 dark:bg-amber-900/30 rounded-lg border border-amber-200 dark:border-amber-800 text-[10px] font-bold text-amber-700 dark:text-amber-300 flex items-center gap-1"},ko={key:0,class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4"},ho={class:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[80vh]"},yo={class:"p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-indigo-50 dark:bg-indigo-900/20"},wo={class:"p-6 overflow-y-auto custom-scrollbar space-y-4"},Do={key:0,class:"space-y-2"},$o={class:"text-xl mt-[-2px]"},_o={class:"p-4 border-t border-slate-100 dark:border-slate-700 flex justify-end"},Mo=Te({__name:"GanttChart",setup(L){const{filteredTasks:h,config:M,totalProjectDays:y,setEditingTask:x,editingTask:g,criticalPathIds:R,viewMode:_,visibleDateRange:H,setViewMode:D,navigateView:k,currentViewDate:j,filterSearch:U,filterResponsible:c,filterType:G,filterSquad:u,moveTask:i,automaticRisks:p,getOptimizationSuggestions:q,createSnapshot:Q,restoreSnapshot:N,tasksSnapshot:X}=Pe(),ae=V(!1),ve=V(!1),ke=V(null),he=V(0),oe=V("none"),ue=V(!1),B=V(null),C=V(0),me=V(0),A=V(!1),O=V([]),T=()=>{X.value||Q(),O.value=q(),A.value=!0},$e=()=>{confirm("Deseja descartar todas as alteraÃ§Ãµes atuais e voltar para o ponto salvo?")&&N()},v=()=>{Q()},s=(o,t)=>{o.button!==0||_.value==="month"||(o.stopPropagation(),ue.value=!0,B.value=t.id,C.value=o.clientX,me.value=o.clientX,window.addEventListener("mousemove",ee),window.addEventListener("mouseup",re))},ee=o=>{ue.value&&(me.value=o.clientX)},re=()=>{if(!ue.value)return;const o=me.value-C.value;if(Math.abs(o)<5){const t=h.value.find(a=>a.id===B.value);t&&x(t)}else{const t=Math.round(o/ce.value);if(t!==0){const a=h.value.find(b=>b.id===B.value);if(a&&a.startDate){const b=je(a.startDate,t);i(a.id,b)}}}ue.value=!1,B.value=null,window.removeEventListener("mousemove",ee),window.removeEventListener("mouseup",re)},xe=()=>{ke.value&&(he.value=ke.value.clientWidth)};let we=null;Mt(()=>{xe(),window.addEventListener("resize",xe),ke.value&&(we=new ResizeObserver(()=>xe()),we.observe(ke.value)),At(()=>{ke.value&&(ke.value.scrollLeft=0)})}),Ot(()=>{window.removeEventListener("resize",xe),we&&we.disconnect()});const ce=W(()=>{switch(_.value){case"week":return he.value>0?he.value/7:100;case"month":return 40;default:return 40}}),f=W(()=>_.value==="week"?he.value:y.value*ce.value),Xe=o=>{if(!o.startDate)return{};const t=H.value.start;let b=Ce(o.startDate,t)*ce.value;if(ue.value&&B.value===o.id){const S=me.value-C.value;b+=S}return{left:b+"px",width:(o.calendarDuration||1)*ce.value+"px",backgroundColor:o.isMilestone?"#1e293b":o.color,cursor:_.value==="month"?"default":ue.value?"grabbing":"grab",zIndex:ue.value&&B.value===o.id?50:10}},at=W(()=>{if(oe.value==="none")return[{id:"all",title:"",tasks:h.value}];const o={};return h.value.forEach(t=>{let a="";if(oe.value==="responsible")a=t.responsible||"Sem ResponsÃ¡vel";else if(oe.value==="sprint")if(t.sprintId){const b=M.value.squads.flatMap(S=>S.sprints).find(S=>S.id===t.sprintId);if(b)if(!u.value&&b.squadId){const S=M.value.squads.find(I=>I.id===b.squadId);a=S?`${S.name} : ${b.name}`:b.name}else a=b.name;else a="Sprint Desconhecida"}else a="NÃ£o Planejado";o[a]||(o[a]=[]),o[a].push(t)}),Object.keys(o).sort().map(t=>({id:t,title:t,tasks:o[t]}))}),lt=W(()=>{if(_.value==="project")return"VisÃ£o Geral";const o=j.value;if(_.value==="month")return se(o,"MMMM yyyy",{locale:Je}).toUpperCase();if(_.value==="week"){const t=$t(o,{weekStartsOn:0}),a=Dt(o,{weekStartsOn:0});return`${se(t,"dd/MM")} - ${se(a,"dd/MM")}`}return""}),Ae=W(()=>{const o=H.value.start;return Array.from({length:y.value},(t,a)=>{var ne;const b=je(o,a),S=se(b,"yyyy-MM-dd"),I=M.value.squads.flatMap(pe=>pe.sprints).find(pe=>S>=pe.startDate&&S<=pe.endDate),Z=I?[I.planningDate,I.refinementDate,I.reviewDate,I.retroDate].includes(S):!1;return{date:b,label:se(b,"dd",{locale:Je}),dayName:se(b,"EEE",{locale:Je}).replace(".","").toUpperCase(),fullDate:se(b,"dd/MM/yyyy"),isWeekend:Ne(b),isHoliday:M.value.holidays.includes(S)||(u.value?(ne=M.value.squads.find(pe=>pe.id===u.value))==null?void 0:ne.holidays.includes(S):!1),isEvent:Z,eventTitle:Z?"Rito da Sprint (Dia nÃ£o produtivo)":""}})}),ot=W(()=>{if(Ae.value.length===0)return[];const o=[];let t="",a=0;return Ae.value.forEach((b,S)=>{const I=se(b.date,"MMMM yyyy",{locale:Je});I!==t?(t!==""&&o.push({label:t,count:a}),t=I,a=1):a++,S===Ae.value.length-1&&o.push({label:t,count:a})}),o}),rt=W(()=>{const o=[];if(oe.value!=="none")return[];const t=new Map;return h.value.forEach((a,b)=>t.set(a.id,{index:b,task:a})),h.value.forEach((a,b)=>{if(a.dependencyId&&t.has(a.dependencyId)){const S=t.get(a.dependencyId),I=H.value.start,ne=(Ce(S.task.startDate,I)+(S.task.isMilestone?1:S.task.calendarDuration||1))*ce.value,pe=S.index*40+20,K=Ce(a.startDate,I)*ce.value,fe=b*40+20,Ie=15,De=`M ${ne} ${pe} L ${ne+Ie} ${pe} L ${ne+Ie} ${fe} L ${K} ${fe}`,Ee=R.value.includes(a.id)&&R.value.includes(S.task.id);o.push({path:De,isCritical:Ee})}}),o}),nt=o=>o?o.split(" ").map(t=>t[0]).slice(0,2).join("").toUpperCase():"?",We=o=>{if(o.isMilestone||!o.effort||!o.duration||o.isCompleted)return!1;const t=M.value.teamMembers.find(b=>b.name===o.responsible),a=t?t.capacity:8;return o.effort>o.duration*a},dt=()=>{U.value="",c.value="",G.value=""},it=W(()=>U.value||c.value||G.value),_e=V({task:null,x:0,y:0}),l=(o,t)=>{_e.value={task:t,x:o.clientX+15,y:o.clientY+15}},d=()=>{_e.value.task=null};return(o,t)=>(r(),n("div",bl,[e("div",fl,[e("div",vl,[e("div",ml,[t[18]||(t[18]=e("h2",{class:"font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2"},"Gantt",-1)),w(M).squads.length>0?(r(),n("div",xl,[E(e("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>Ke(u)?u.value=a:null),class:"bg-indigo-50 dark:bg-slate-950 text-indigo-700 dark:text-indigo-100 font-bold text-xs py-1.5 px-2 rounded border border-indigo-200 dark:border-indigo-900 cursor-pointer focus:ring-2 focus:ring-indigo-500 outline-none transition-colors dark:[color-scheme:dark]"},[t[17]||(t[17]=e("option",{value:""},"Todas as Squads (Overview)",-1)),(r(!0),n(z,null,F(w(M).squads,a=>(r(),n("option",{key:a.id,value:a.id},m(a.name),9,gl))),128))],512),[[ye,w(u)]])])):P("",!0),e("div",kl,[e("button",{onClick:t[1]||(t[1]=a=>w(D)("project")),class:J(["px-3 py-1 text-xs font-medium rounded transition-all whitespace-nowrap",w(_)==="project"?"bg-white dark:bg-slate-600 text-blue-600 dark:text-blue-300 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"])}," Projeto ",2),e("button",{onClick:t[2]||(t[2]=a=>w(D)("month")),class:J(["px-3 py-1 text-xs font-medium rounded transition-all whitespace-nowrap",w(_)==="month"?"bg-white dark:bg-slate-600 text-blue-600 dark:text-blue-300 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"])}," MÃªs ",2),e("button",{onClick:t[3]||(t[3]=a=>w(D)("week")),class:J(["px-3 py-1 text-xs font-medium rounded transition-all whitespace-nowrap",w(_)==="week"?"bg-white dark:bg-slate-600 text-blue-600 dark:text-blue-300 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"])}," Semana ",2)]),w(_)!=="project"?(r(),n("div",hl,[e("button",{onClick:t[4]||(t[4]=a=>w(k)("prev")),class:"w-7 h-7 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-600 transition-colors"},"<"),e("span",yl,m(lt.value),1),e("button",{onClick:t[5]||(t[5]=a=>w(k)("next")),class:"w-7 h-7 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-600 transition-colors"},">")])):P("",!0)]),e("div",wl,[e("div",Dl,[e("button",{onClick:t[6]||(t[6]=a=>oe.value="none"),class:J(["px-2 py-1 text-[10px] uppercase font-bold rounded",oe.value==="none"?"bg-white dark:bg-slate-600 shadow-sm text-slate-800 dark:text-white":"text-slate-400 hover:text-slate-600"])},"Lista",2),e("button",{onClick:t[7]||(t[7]=a=>oe.value="responsible"),class:J(["px-2 py-1 text-[10px] uppercase font-bold rounded",oe.value==="responsible"?"bg-white dark:bg-slate-600 shadow-sm text-slate-800 dark:text-white":"text-slate-400 hover:text-slate-600"])},"Pessoa",2),e("button",{onClick:t[8]||(t[8]=a=>oe.value="sprint"),class:J(["px-2 py-1 text-[10px] uppercase font-bold rounded",oe.value==="sprint"?"bg-white dark:bg-slate-600 shadow-sm text-slate-800 dark:text-white":"text-slate-400 hover:text-slate-600"])},"Sprint",2)]),e("div",$l,[e("button",{onClick:v,class:"p-1.5 rounded-lg border transition-all text-xs font-bold text-slate-500 border-slate-200 hover:bg-slate-100 dark:text-slate-400 dark:border-slate-600 dark:hover:bg-slate-700",title:"Salvar Estado Atual (Backup)"},[...t[19]||(t[19]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1)])]),w(X)?(r(),n("button",{key:0,onClick:$e,class:"p-1.5 rounded-lg border transition-all text-xs font-bold bg-amber-50 text-amber-600 border-amber-200 hover:bg-amber-100 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800",title:"Desfazer AlteraÃ§Ãµes (Restaurar Backup)"},[...t[20]||(t[20]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})],-1)])])):P("",!0),e("button",{onClick:T,class:"flex items-center gap-2 px-3 py-1.5 rounded-lg border transition-all text-xs font-bold bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-100"},[...t[21]||(t[21]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1),e("span",{class:"hidden xl:inline"},"Otimizar",-1)])])]),e("div",_l,[e("button",{onClick:t[9]||(t[9]=a=>ve.value=!ve.value),class:J(["flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all shadow-sm border",w(p).length>0?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 border-red-200 dark:border-red-800 hover:bg-red-100":"bg-white dark:bg-slate-800 text-slate-500 border-slate-200 hover:bg-slate-50"])},[w(p).length>0?(r(),n("svg",Ml,[...t[22]||(t[22]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)])])):(r(),n("svg",Il,[...t[23]||(t[23]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),t[24]||(t[24]=e("span",{class:"hidden xl:inline"},"Riscos",-1)),w(p).length>0?(r(),n("span",Sl,m(w(p).length),1)):P("",!0)],2),ve.value?(r(),n("div",Cl,[e("div",ql,[t[25]||(t[25]=e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 text-xs"},"Alertas",-1)),e("button",{onClick:t[10]||(t[10]=a=>ve.value=!1),class:"text-slate-400 hover:text-slate-600"},"Ã—")]),e("div",jl,[e("ul",Tl,[(r(!0),n(z,null,F(w(p),(a,b)=>(r(),n("li",{key:b,class:"text-[10px] p-2 rounded bg-red-50 dark:bg-red-900/10 text-red-800 dark:text-red-300 border border-red-100 dark:border-red-900/30"},m(a),1))),128))]),w(p).length===0?(r(),n("div",El,"Sem riscos.")):P("",!0)])])):P("",!0)]),e("button",{onClick:t[11]||(t[11]=a=>ae.value=!ae.value),class:J(["flex items-center gap-2 px-3 py-1.5 rounded-full border transition-all text-xs font-bold",ae.value?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 border-red-200":"bg-slate-50 dark:bg-slate-700 text-slate-500 border-slate-200 hover:bg-slate-100"])},[e("span",Al,[ae.value?(r(),n("span",Ol)):P("",!0),e("span",{class:J(["relative inline-flex rounded-full h-2 w-2",ae.value?"bg-red-500":"bg-slate-400"])},null,2)]),t[26]||(t[26]=e("span",{class:"hidden md:inline"},"Caminho CrÃ­tico",-1))],2)])]),e("div",Vl,[e("div",Ul,[t[27]||(t[27]=e("div",{class:"absolute inset-y-0 left-0 pl-2 flex items-center pointer-events-none"},[e("svg",{class:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),E(e("input",{"onUpdate:modelValue":t[12]||(t[12]=a=>Ke(U)?U.value=a:null),type:"text",placeholder:"Buscar tarefa...",class:"w-full pl-8 pr-2 py-1.5 text-xs rounded border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:bg-white dark:focus:bg-slate-800 focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all placeholder-slate-400"},null,512),[[ie,w(U)]])]),e("div",Nl,[E(e("select",{"onUpdate:modelValue":t[13]||(t[13]=a=>Ke(c)?c.value=a:null),class:"flex-1 lg:flex-none py-1.5 pl-2 pr-6 text-xs rounded border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:bg-white dark:focus:bg-slate-800 focus:ring-2 focus:ring-blue-500 focus:outline-none"},[t[28]||(t[28]=e("option",{value:""},"Todos Resp.",-1)),(r(!0),n(z,null,F(w(M).teamMembers,a=>(r(),n("option",{key:a.name,value:a.name},m(a.name),9,Pl))),128))],512),[[ye,w(c)]]),E(e("select",{"onUpdate:modelValue":t[14]||(t[14]=a=>Ke(G)?G.value=a:null),class:"flex-1 lg:flex-none py-1.5 pl-2 pr-6 text-xs rounded border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:bg-white dark:focus:bg-slate-800 focus:ring-2 focus:ring-blue-500 focus:outline-none"},[...t[29]||(t[29]=[Vt('<option value="" data-v-2027661c>Todos Tipos</option><option value="frontend" data-v-2027661c>Front</option><option value="backend" data-v-2027661c>Back</option><option value="qualidade" data-v-2027661c>QA</option><option value="other" data-v-2027661c>Outro</option>',5)])],512),[[ye,w(G)]])]),it.value?(r(),n("button",{key:0,onClick:dt,class:"text-xs text-red-500 hover:text-red-700 px-2 py-1.5 flex items-center gap-1"},[...t[30]||(t[30]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),te(" Limpar ",-1)])])):P("",!0)])]),e("div",{ref_key:"ganttContainer",ref:ke,class:"overflow-x-auto flex-1 relative custom-scrollbar bg-slate-50 dark:bg-slate-900/50"},[e("div",{style:qe({width:f.value+"px"}),class:"relative min-h-[400px]"},[e("div",Rl,[e("div",Bl,[(r(!0),n(z,null,F(ot.value,(a,b)=>(r(),n("div",{key:b,class:"flex items-center pl-2 border-r border-slate-200 dark:border-slate-700 whitespace-nowrap overflow-hidden",style:qe({width:a.count*ce.value+"px"})},m(a.label),5))),128))]),e("div",zl,[(r(!0),n(z,null,F(Ae.value,(a,b)=>(r(),n("div",{key:b,class:J(["flex-shrink-0 border-r border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center text-[10px] select-none transition-colors",{"bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 font-bold":a.isHoliday,"bg-blue-100/50 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300":a.isEvent,"bg-red-50/50 dark:bg-red-900/20 text-red-300 dark:text-red-400":a.isWeekend&&!a.isHoliday&&!a.isEvent,"bg-white dark:bg-slate-800":!a.isWeekend&&!a.isHoliday&&!a.isEvent}]),style:qe({width:ce.value+"px"}),title:a.isEvent?a.eventTitle:a.fullDate},[e("span",Ll,m(a.label),1),e("span",Hl,m(a.dayName),1)],14,Fl))),128)),e("div",Wl,[(r(!0),n(z,null,F(Ae.value,(a,b)=>(r(),n("div",{key:b,class:J(["border-r border-slate-200/50 dark:border-slate-700/50 h-full box-border",{"bg-purple-50/40 dark:bg-purple-900/10":a.isHoliday,"bg-blue-50/30 dark:bg-blue-900/10":a.isEvent,"bg-red-50/30 dark:bg-red-900/10":a.isWeekend&&!a.isHoliday&&!a.isEvent}]),style:qe({width:ce.value+"px"})},null,6))),128))])])]),e("div",Gl,[e("div",Ql,[(r(!0),n(z,null,F(Ae.value,(a,b)=>(r(),n("div",{key:b,class:J(["border-r border-slate-200/50 dark:border-slate-700/50 h-full box-border",{"bg-purple-50/40 dark:bg-purple-900/10":a.isHoliday,"bg-red-50/30 dark:bg-red-900/10":a.isWeekend&&!a.isHoliday}]),style:qe({width:ce.value+"px"})},null,6))),128))]),(r(),n("svg",{class:"absolute inset-0 pointer-events-none z-0",width:f.value,height:w(h).length*40+50,style:{overflow:"visible"}},[(r(!0),n(z,null,F(rt.value,(a,b)=>(r(),n("path",{key:b,d:a.path,fill:"none",class:J(["transition-colors duration-300",a.isCritical&&ae.value?"stroke-red-500":"stroke-slate-300 dark:stroke-slate-600"]),"stroke-width":a.isCritical&&ae.value?2:1.5,"stroke-linejoin":"round"},null,10,Yl))),128))],8,Xl)),e("div",Jl,[(r(!0),n(z,null,F(at.value,a=>(r(),n("div",{key:a.id},[oe.value!=="none"?(r(),n("div",Kl,[t[31]||(t[31]=e("span",{class:"w-1.5 h-1.5 rounded-full bg-slate-400"},null,-1)),te(" "+m(a.title)+" ",1),e("span",Zl,m(a.tasks.length),1)])):P("",!0),(r(!0),n(z,null,F(a.tasks,b=>{var S;return r(),n("div",{key:b.id,class:"relative h-10 flex items-center group"},[t[32]||(t[32]=e("div",{class:"absolute inset-x-0 h-full bg-blue-50/0 dark:group-hover:bg-blue-900/20 group-hover:bg-blue-50/50 transition-colors pointer-events-none"},null,-1)),e("div",{class:J(["absolute h-7 rounded-md shadow-sm text-[11px] text-white flex items-center px-2 transition-all z-10 overflow-hidden",{"ring-2 ring-blue-500 ring-offset-2 ring-offset-white dark:ring-offset-slate-900":((S=w(g))==null?void 0:S.id)===b.id,"border-2 border-amber-400":We(b),"ring-2 ring-red-500 shadow-[0_0_10px_rgba(239,68,68,0.6)] z-20":ae.value&&w(R).includes(b.id),"opacity-60":b.isCompleted,"shadow-lg scale-[1.02]":ue.value&&B.value===b.id,"rotate-45 !w-5 !h-5 !rounded-sm !p-0 justify-center ml-2.5":b.isMilestone}]),onMousedown:I=>s(I,b),onMouseenter:I=>l(I,b),onMouseleave:d,onMousemove:I=>l(I,b),style:qe(Xe(b))},[b.isMilestone?P("",!0):(r(),n("span",to,[b.usId?(r(),n("span",so,"["+m(b.usId)+"]",1)):P("",!0),e("span",ao,m(b.name),1),We(b)?(r(),n("span",lo,"âš ï¸")):P("",!0)])),b.responsible&&!b.isMilestone?(r(),n("div",oo,m(nt(b.responsible)),1)):P("",!0)],46,eo)])}),128)),(r(),_t(Ut,{to:"body"},[Se(bt,{name:"fade"},{default:st(()=>{var b;return[_e.value.task?(r(),n("div",{key:0,class:"fixed z-[999] pointer-events-none bg-white dark:bg-slate-800 shadow-2xl rounded-xl border border-slate-200 dark:border-slate-700 p-4 min-w-[220px] backdrop-blur-md bg-opacity-90 dark:bg-opacity-90",style:qe({left:_e.value.x+"px",top:_e.value.y+"px"})},[e("div",ro,[e("span",no,m(_e.value.task.usId||"SEM ID"),1),e("span",io,m((b=_e.value.task.type)==null?void 0:b.toUpperCase()),1)]),e("h4",uo,m(_e.value.task.name),1),e("div",co,[e("div",po,[t[33]||(t[33]=e("span",{class:"text-slate-500 dark:text-slate-400"},"ResponsÃ¡vel:",-1)),e("span",bo,m(_e.value.task.responsible||"NÃ£o atribuÃ­do"),1)]),e("div",fo,[t[34]||(t[34]=e("span",{class:"text-slate-500 dark:text-slate-400"},"EsforÃ§o:",-1)),e("span",vo,m(_e.value.task.effort||0)+"h",1)]),e("div",mo,[t[35]||(t[35]=e("span",{class:"text-slate-500 dark:text-slate-400"},"PerÃ­odo:",-1)),e("span",xo,m(_e.value.task.formattedStartDate)+" - "+m(_e.value.task.formattedEndDate),1)])]),We(_e.value.task)?(r(),n("div",go,"âš ï¸ Sobrecarga de Horas")):P("",!0)],4)):P("",!0)]}),_:1})]))]))),128))])])],4)],512),A.value?(r(),n("div",ko,[e("div",ho,[e("div",yo,[t[36]||(t[36]=e("h3",{class:"font-bold text-indigo-800 dark:text-indigo-200 flex items-center gap-2"},[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),te(" SugestÃµes de OtimizaÃ§Ã£o de Sprint ")],-1)),e("button",{onClick:t[15]||(t[15]=a=>A.value=!1),class:"text-slate-400 hover:text-slate-600"},"Ã—")]),e("div",wo,[t[37]||(t[37]=e("p",{class:"text-sm text-slate-600 dark:text-slate-300"},"Analisamos as prioridades (Meta > Item), dependÃªncias e capacidade da equipe para sugerir a melhor ordem de execuÃ§Ã£o:",-1)),O.value.length>0?(r(),n("div",Do,[(r(!0),n(z,null,F(O.value,(a,b)=>(r(),n("div",{key:b,class:J(["p-3 rounded border text-sm flex gap-3 items-start",a.includes("PRIORIDADE")?"bg-amber-50 border-amber-200 text-amber-800 dark:bg-amber-900/20 dark:border-amber-800 dark:text-amber-200":a.includes("SOBRECARGA")?"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-200":a.includes("SEQUÃŠNCIA")?"bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-200":"bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-800 dark:text-green-200"])},[e("span",$o,m(a.includes("PRIORIDADE")?"âš¡":a.includes("SOBRECARGA")?"âš ï¸":a.includes("SEQUÃŠNCIA")?"ðŸ”¢":"âœ…"),1),e("span",null,m(a),1)],2))),128))])):P("",!0)]),e("div",_o,[e("button",{onClick:t[16]||(t[16]=a=>A.value=!1),class:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded font-bold text-sm"},"Entendido")])])])):P("",!0)]))}}),Io=Re(Mo,[["__scopeId","data-v-2027661c"]]),So={class:"space-y-6 animate-fade-in pb-10"},Co={class:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col sm:flex-row justify-between items-center gap-4 transition-colors"},qo=["value"],jo={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},To={class:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between transition-colors"},Eo={class:"text-3xl font-black text-slate-700 dark:text-slate-200 mt-1"},Ao={class:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between transition-colors"},Oo={class:"text-3xl font-black text-green-600 dark:text-green-500 mt-1"},Vo={class:"flex gap-2 text-xs mt-2"},Uo={class:"text-green-600 dark:text-green-500 font-bold"},No={key:0,class:"text-red-500 dark:text-red-400 font-bold"},Po={class:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between relative overflow-hidden transition-colors"},Ro={class:"text-3xl font-black text-slate-700 dark:text-slate-200 mt-1"},Bo={class:"text-lg text-slate-400 dark:text-slate-600 font-normal"},zo={key:0,class:"absolute right-0 top-0 bottom-0 w-1 bg-amber-400"},Fo={class:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between transition-colors"},Lo={class:"flex items-end gap-2 mt-1"},Ho={class:"text-3xl font-black text-slate-700 dark:text-slate-200"},Wo={class:"w-full bg-slate-100 dark:bg-slate-700 h-2 rounded-full mt-2 overflow-hidden"},Go={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Qo={class:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 transition-colors"},Xo={class:"space-y-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar"},Yo={class:"flex justify-between text-xs mb-1"},Jo={class:"font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2"},Ko={class:"text-[9px] bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 px-1 rounded font-normal"},Zo={class:"w-full bg-slate-100 dark:bg-slate-700 h-2.5 rounded-full overflow-hidden relative border dark:border-slate-600"},er={class:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 transition-colors"},tr={class:"space-y-4"},sr={class:"flex justify-between text-xs mb-1 font-bold"},ar={class:"text-slate-600 dark:text-slate-300"},lr={class:"text-slate-500 dark:text-slate-400"},or={class:"w-full bg-slate-100 dark:bg-slate-700 h-6 rounded-lg overflow-hidden relative border border-slate-200 dark:border-slate-600"},rr={key:0,class:"text-[10px] text-white font-bold"},nr={key:0,class:"absolute inset-0 flex items-center justify-center text-[10px] text-slate-500 dark:text-slate-400 font-bold"},dr={class:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700"},ir={class:"flex gap-2 flex-wrap"},ur={class:"text-[10px] text-slate-500 dark:text-slate-400 uppercase font-bold"},cr={class:"text-lg font-black text-slate-700 dark:text-slate-200"},pr={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},br={class:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 transition-colors h-full"},fr={class:"flex justify-between items-center mb-4 border-b pb-3 border-slate-100 dark:border-slate-700"},vr={key:0,class:"bg-red-100 text-red-700 px-2 py-0.5 rounded text-xs font-bold"},mr={key:0,class:"text-center py-8 bg-slate-50 dark:bg-slate-700/30 rounded-lg border border-dashed border-slate-200 dark:border-slate-700"},xr={key:1,class:"space-y-3"},gr={class:"flex flex-col min-w-0"},kr={class:"font-bold text-slate-700 dark:text-slate-200 text-sm truncate"},hr={class:"text-[10px] text-slate-500 dark:text-slate-400"},yr={class:"flex flex-col items-end flex-shrink-0"},wr={class:"text-red-600 dark:text-red-400 font-black text-sm"},Dr={class:"text-[10px] text-slate-400"},$r={key:0,class:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl p-6 shadow-sm animate-fade-in transition-colors"},_r={class:"grid grid-cols-1 gap-3"},Mr={class:"flex-shrink-0 mt-0.5 p-1.5 bg-white/40 dark:bg-black/20 rounded-full"},Ir={class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Sr=["d"],Cr={class:"flex-1 min-w-0"},qr={class:"text-[10px] font-black uppercase tracking-wide opacity-80"},jr={class:"text-sm font-bold leading-snug"},Tr=Te({__name:"DashboardView",setup(L){const{tasks:h,config:M,automaticRisks:y,computedTasks:x}=Pe(),g=V(""),R=W(()=>g.value?h.value.filter(u=>{const i=M.value.teamMembers.find(p=>p.name===u.responsible);return i==null?void 0:i.squadIds.includes(g.value)}).length:h.value.length),_=W(()=>{const u=M.value.squads.find(ve=>ve.id===g.value),i=g.value?u==null?void 0:u.startDate:M.value.projectStartDate,p=g.value?u==null?void 0:u.deadline:M.value.deadline;if(!i||!p)return 0;const q=Y(i),Q=Y(p);if(!de(q)||!de(Q))return 0;const N=new Date,X=Ce(Q,q),ae=Ce(N,q);return ae<0?0:ae>X?100:Math.round(ae/X*100)}),H=W(()=>{const i=(g.value?x.value.filter(N=>{const X=M.value.teamMembers.find(ae=>ae.name===N.responsible);return X==null?void 0:X.squadIds.includes(g.value)}):x.value).filter(N=>N.isCompleted),p=i.length;let q=0,Q=0;return i.forEach(N=>{if(!N.completedDate||!N.endDate)return;const X=le(Y(N.completedDate));Qe(X,N.endDate)?Q++:q++}),{total:p,onTime:q,late:Q}}),D=W(()=>{const i=(g.value?h.value.filter(p=>{const q=M.value.teamMembers.find(Q=>Q.name===p.responsible);return q==null?void 0:q.squadIds.includes(g.value)}):h.value).filter(p=>p.isNotPlanned);return{total:i.length,open:i.filter(p=>!p.isCompleted).length}}),k=W(()=>(g.value?M.value.teamMembers.filter(i=>i.squadIds.includes(g.value)):M.value.teamMembers).map(i=>{const p=h.value.filter(N=>N.responsible===i.name&&!N.isCompleted&&!N.isMilestone).reduce((N,X)=>N+(X.effort||0),0);let q=0;if(M.value.squads.forEach(N=>{i.squadIds.includes(N.id)&&N.sprints.forEach(X=>{const ae=Y(X.startDate),ve=Y(X.endDate);if(de(ae)&&de(ve)){const ke=pt({start:ae,end:ve}),he=[X.planningDate,X.refinementDate,X.reviewDate,X.retroDate],oe=ke.filter(ue=>{const B=se(ue,"yyyy-MM-dd");return!((X.skipWeekends??N.skipWeekends)&&Ne(ue))&&!N.holidays.includes(B)&&!M.value.holidays.includes(B)&&!i.daysOff.includes(B)&&!he.includes(B)}).length;q+=oe*i.capacity}})}),q===0){const N=Y(M.value.projectStartDate),X=M.value.deadline?Y(M.value.deadline):je(N,30);de(N)&&de(X)&&(q=pt({start:N,end:X}).filter(ae=>!Ne(ae)).length*i.capacity)}const Q=q>0?Math.round(p/q*100):0;return{name:i.name,assigned:p,capacity:q,percentage:Q,isOverloaded:p>q,sector:i.sector||"Outro"}})),j=W(()=>{const u=g.value?h.value.filter(p=>{const q=M.value.teamMembers.find(Q=>Q.name===p.responsible);return q==null?void 0:q.squadIds.includes(g.value)}):h.value,i={frontend:0,backend:0,qualidade:0,other:0};return u.forEach(p=>{p.type in i?i[p.type]++:i.other++}),[{label:"Front-end",value:i.frontend,color:"bg-blue-500"},{label:"Back-end",value:i.backend,color:"bg-green-500"},{label:"Qualidade",value:i.qualidade,color:"bg-purple-500"},{label:"Outros",value:i.other,color:"bg-gray-400"}].filter(p=>p.value>0)}),U=W(()=>{const u={};return k.value.forEach(i=>{u[i.sector]||(u[i.sector]={totalCapacity:0,assignedEffort:0,memberCount:0}),u[i.sector].totalCapacity+=i.capacity,u[i.sector].assignedEffort+=i.assigned,u[i.sector].memberCount+=1}),Object.entries(u).map(([i,p])=>({name:i,...p,percentage:p.totalCapacity>0?Math.round(p.assignedEffort/p.totalCapacity*100):0}))}),c=W(()=>{const u=g.value?x.value.filter(q=>{const Q=M.value.teamMembers.find(N=>N.name===q.responsible);return Q==null?void 0:Q.squadIds.includes(g.value)}):x.value,i=[];let p=0;return u.forEach(q=>{if(q.originalEndDate&&q.endDate){const Q=Y(q.originalEndDate),N=Ce(q.endDate,Q);N>0&&(i.push({name:q.name,responsible:q.responsible||"N/A",delay:N,planned:se(Q,"dd/MM"),current:se(q.endDate,"dd/MM"),isMilestone:q.isMilestone}),p+=N)}}),{count:i.length,totalDelay:p,tasks:i.sort((q,Q)=>Q.delay-q.delay).slice(0,5)}}),G=W(()=>y.value.map(u=>{let i="INFO",p="Aviso",q=u,Q="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",N="bg-slate-50 dark:bg-slate-900/50 border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300";return u.includes("CAPACIDADE:")?(i="CAPACIDADE",p="Sobrecarga",q=u.replace("CAPACIDADE:","").trim(),N="bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800 text-amber-800 dark:text-amber-200",Q="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"):u.includes("SPRINT:")?(i="SPRINT",p="Conflito de Sprint",q=u.replace("SPRINT:","").trim(),N="bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800 text-purple-800 dark:text-purple-200",Q="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"):u.includes("CALENDÃRIO:")&&(i="CALENDÃRIO",p="Agenda",q=u.replace("CALENDÃRIO:","").trim(),N="bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200",Q="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"),{type:i,title:p,message:q,styles:N,icon:Q}}));return(u,i)=>(r(),n("div",So,[e("div",Co,[i[2]||(i[2]=e("div",null,[e("h2",{class:"text-lg font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2"},[e("span",{class:"text-xl"},"ðŸ“Š"),te(" Dashboard de Performance")]),e("p",{class:"text-xs text-slate-500"},"MÃ©tricas ajustadas por Squad e ritos de Sprint.")],-1)),E(e("select",{"onUpdate:modelValue":i[0]||(i[0]=p=>g.value=p),class:"rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white text-sm font-bold h-10 px-3 focus:ring-2 focus:ring-indigo-500"},[i[1]||(i[1]=e("option",{value:""},"ðŸŒ VisÃ£o Global do Projeto",-1)),(r(!0),n(z,null,F(w(M).squads,p=>(r(),n("option",{key:p.id,value:p.id},"Squad: "+m(p.name),9,qo))),128))],512),[[ye,g.value]])]),e("div",jo,[e("div",To,[i[3]||(i[3]=e("span",{class:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider"},"Total de Tarefas",-1)),e("div",Eo,m(R.value),1),i[4]||(i[4]=e("div",{class:"text-xs text-slate-400 dark:text-slate-500 mt-2"},"Filtradas por contexto",-1))]),e("div",Ao,[i[5]||(i[5]=e("span",{class:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider"},"ConcluÃ­das",-1)),e("div",Oo,m(H.value.total),1),e("div",Vo,[e("span",Uo,m(H.value.onTime)+" no prazo",1),H.value.late>0?(r(),n("span",No,m(H.value.late)+" com atraso",1)):P("",!0)])]),e("div",Po,[i[6]||(i[6]=e("span",{class:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider"},"NÃ£o Planejadas",-1)),e("div",Ro,[te(m(D.value.open)+" ",1),e("span",Bo,"/ "+m(D.value.total),1)]),i[7]||(i[7]=e("div",{class:"text-xs text-slate-400 dark:text-slate-500 mt-2"},"Abertas sem Sprint",-1)),D.value.open>0?(r(),n("div",zo)):P("",!0)]),e("div",Fo,[i[8]||(i[8]=e("span",{class:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider"},"Tempo Decorrido",-1)),e("div",Lo,[e("span",Ho,m(_.value)+"%",1)]),e("div",Wo,[e("div",{class:"bg-slate-800 dark:bg-slate-400 h-full rounded-full transition-all duration-1000",style:qe({width:_.value+"%"})},null,4)])])]),e("div",Go,[e("div",Qo,[i[9]||(i[9]=e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2 border-b pb-3 border-slate-100 dark:border-slate-700"},[e("svg",{class:"w-5 h-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0z"})]),te(" Carga Individual Real (Sprints + Ritos) ")],-1)),e("div",Xo,[(r(!0),n(z,null,F(k.value,p=>(r(),n("div",{key:p.name},[e("div",Yo,[e("span",Jo,[te(m(p.name)+" ",1),e("span",Ko,m(p.sector),1)]),e("span",{class:J(p.isOverloaded?"text-red-500 dark:text-red-400 font-bold":"text-slate-500 dark:text-slate-400")},m(p.assigned)+"h / "+m(p.capacity)+"h ",3)]),e("div",Zo,[e("div",{class:J(["h-full rounded-full transition-all duration-500",p.isOverloaded?"bg-red-500":p.percentage>85?"bg-amber-400":"bg-blue-500"]),style:qe({width:Math.min(p.percentage,100)+"%"})},null,6)])]))),128))])]),e("div",er,[i[11]||(i[11]=e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2 border-b pb-3 border-slate-100 dark:border-slate-700"},[e("svg",{class:"w-5 h-5 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})]),te(" Capacidade por Setor ")],-1)),e("div",tr,[(r(!0),n(z,null,F(U.value,p=>(r(),n("div",{key:p.name},[e("div",sr,[e("span",ar,m(p.name)+" ("+m(p.memberCount)+" m)",1),e("span",lr,m(p.assignedEffort)+"h / "+m(p.totalCapacity)+"h",1)]),e("div",or,[e("div",{class:"h-full bg-indigo-500 transition-all duration-500 flex items-center justify-end px-2",style:qe({width:Math.min(p.percentage,100)+"%"})},[p.percentage>10?(r(),n("span",rr,m(p.percentage)+"%",1)):P("",!0)],4),p.percentage<=10?(r(),n("span",nr,m(p.percentage)+"%",1)):P("",!0)])]))),128))]),e("div",dr,[i[10]||(i[10]=e("h4",{class:"font-bold text-slate-700 dark:text-slate-300 text-xs mb-3"},"DistribuiÃ§Ã£o por Tipo",-1)),e("div",ir,[(r(!0),n(z,null,F(j.value,p=>(r(),n("div",{key:p.label,class:"flex-1 min-w-[100px] bg-slate-50 dark:bg-slate-900 p-2 rounded border border-slate-100 dark:border-slate-700"},[e("div",ur,m(p.label),1),e("div",cr,m(p.value),1)]))),128))])])])]),e("div",pr,[e("div",br,[e("div",fr,[i[12]||(i[12]=e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),te(" Desvio de Prazos (Baseline) ")],-1)),c.value.count>0?(r(),n("span",vr,m(c.value.totalDelay)+" dias atraso",1)):P("",!0)]),c.value.count===0?(r(),n("div",mr,[...i[13]||(i[13]=[e("div",{class:"text-slate-400 text-sm"},"Tudo conforme o planejado.",-1)])])):(r(),n("div",xr,[(r(!0),n(z,null,F(c.value.tasks,p=>(r(),n("div",{key:p.name,class:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/30 shadow-sm"},[e("div",gr,[e("span",kr,m(p.name),1),e("span",hr,m(p.responsible),1)]),e("div",yr,[e("span",wr,"+"+m(p.delay)+" dias",1),e("span",Dr,"Era: "+m(p.planned)+" âž "+m(p.current),1)])]))),128))]))]),G.value.length>0?(r(),n("div",$r,[i[14]||(i[14]=e("h3",{class:"text-slate-700 dark:text-slate-200 font-bold text-base mb-4 flex items-center gap-2 border-b pb-3 border-slate-100 dark:border-slate-700"},[e("span",{class:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),te(" Monitoramento de Alertas Reais ")],-1)),e("div",_r,[(r(!0),n(z,null,F(G.value,(p,q)=>(r(),n("div",{key:q,class:J(["flex items-start gap-3 p-4 rounded-lg border shadow-sm transition-all hover:scale-[1.01]",p.styles])},[e("div",Mr,[(r(),n("svg",Ir,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:p.icon},null,8,Sr)]))]),e("div",Cr,[e("div",qr,m(p.title)+" ["+m(p.type)+"]",1),e("div",jr,m(p.message),1)])],2))),128))])])):P("",!0)])]))}}),Er=Re(Tr,[["__scopeId","data-v-03d7fcdd"]]),Ar={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start h-[calc(100vh-200px)]"},Or={class:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full flex flex-col"},Vr={class:"flex gap-2 mb-4"},Ur={class:"space-y-2 overflow-y-auto custom-scrollbar flex-1"},Nr={key:0,class:"text-xs text-slate-400 italic"},Pr=["onClick"],Rr={class:"flex items-center gap-2"},Br={class:"text-sm font-bold text-slate-700 dark:text-slate-300"},zr={class:"flex gap-1 opacity-60 group-hover:opacity-100"},Fr=["onClick"],Lr=["onClick"],Hr={class:"lg:col-span-2 h-full flex flex-col"},Wr={key:0,class:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full flex flex-col animate-fade-in"},Gr={class:"mb-4 bg-emerald-50 dark:bg-emerald-900/10 p-4 rounded-lg border border-emerald-100 dark:border-emerald-800/30"},Qr={class:"flex gap-2"},Xr={id:"sectors-list"},Yr=["value"],Jr={class:"overflow-y-auto custom-scrollbar flex-1 border rounded-lg border-slate-100 dark:border-slate-700"},Kr={class:"w-full text-sm text-left"},Zr={class:"divide-y divide-slate-100 dark:divide-slate-700"},en={class:"px-4 py-2 font-medium text-slate-700 dark:text-slate-200"},tn={class:"px-4 py-2 text-slate-500 dark:text-slate-400"},sn={class:"px-4 py-2"},an={class:"flex flex-wrap gap-1"},ln={key:0,class:"text-slate-400 text-xs italic"},on={class:"px-4 py-2 text-right"},rn=["onClick"],nn=["onClick"],dn={key:0},un={key:1,class:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full flex flex-col animate-fade-in"},cn={class:"flex justify-between items-center mb-4"},pn={class:"font-bold text-slate-800 dark:text-slate-200 flex items-center gap-2"},bn={class:"text-indigo-600 dark:text-indigo-400"},fn={class:"mb-4 bg-blue-50 dark:bg-blue-900/10 p-4 rounded-lg border border-blue-100 dark:border-blue-800/30"},vn={class:"flex gap-2 items-end"},mn={class:"flex-1"},xn=["value"],gn={class:"w-24"},kn=["disabled"],hn={key:0,class:"mt-2 text-[10px] text-amber-600"},yn={class:"space-y-2 overflow-y-auto custom-scrollbar flex-1"},wn={key:0,class:"text-center py-8 text-slate-400 italic bg-slate-50 dark:bg-slate-900/30 rounded border border-dashed border-slate-200"},Dn={class:"flex items-center gap-3"},$n={class:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-600 flex items-center justify-center text-xs font-bold text-slate-600 dark:text-slate-300"},_n={class:"text-sm font-bold text-slate-700 dark:text-slate-200"},Mn={class:"text-xs text-slate-500"},In=["onClick"],Sn=Te({__name:"SquadManagement",setup(L){const{config:h,addMember:M,removeMember:y,addSquad:x,updateSquad:g,removeSquad:R,linkMemberToSquad:_,unlinkMemberFromSquad:H,updateMember:D}=Pe(),k=V(""),j=V("#3b82f6"),U=V(null),c=V(null),G=V(""),u=V(""),i=V(8),p=V(""),q=V(null),Q=()=>{k.value&&(U.value?(g(U.value,k.value,j.value),U.value=null):x(k.value,j.value),k.value="",j.value="#3b82f6")},N=O=>{k.value=O.name,j.value=O.color,U.value=O.id},X=O=>{c.value=c.value===O?null:O,G.value="",u.value="",i.value=8,q.value=null},ae=O=>{confirm("Tem certeza que deseja excluir esta Squad? Os membros voltarÃ£o para o diretÃ³rio geral.")&&(R(O),c.value===O&&(c.value=null))},ve=()=>{if(G.value){const O=u.value||"Outro";if(q.value!==null){const T=h.value.teamMembers[q.value];D(q.value,G.value,T.capacity,O,T.squadIds),q.value=null}else M(G.value,8,O,[]);G.value="",u.value=""}},ke=O=>{const T=h.value.teamMembers.findIndex($e=>$e.name===O.name);T!==-1&&(q.value=T,G.value=O.name,u.value=O.sector)},he=O=>{const T=h.value.teamMembers.findIndex($e=>$e.name===O.name);T!==-1&&confirm(`Excluir ${O.name} permanentemente?`)&&y(T)},oe=()=>{q.value=null,G.value="",u.value=""},ue=W(()=>c.value?h.value.teamMembers.filter(O=>O.squadIds.includes(c.value)):[]),B=W(()=>c.value?h.value.teamMembers.filter(O=>!O.squadIds.includes(c.value)):[]),C=()=>{if(p.value&&c.value){const O=h.value.teamMembers.findIndex(T=>T.name===p.value);O!==-1&&(_(O,c.value,i.value),p.value="",i.value=8)}},me=O=>{const T=h.value.teamMembers.findIndex($e=>$e.name===O.name);T!==-1&&c.value&&H(T,c.value)},A=["Frontend","Backend","Fullstack","QA","Design","Produto","DevOps","GestÃ£o"];return(O,T)=>{var $e;return r(),n("div",Ar,[e("div",Or,[T[10]||(T[10]=e("h3",{class:"font-bold text-slate-800 dark:text-slate-200 mb-4 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0z"})]),te(" 1. Squads ")],-1)),e("div",Vr,[E(e("input",{"onUpdate:modelValue":T[0]||(T[0]=v=>k.value=v),type:"text",placeholder:"Nome da Squad",class:"flex-1 text-sm rounded border-slate-300 dark:border-slate-600 shadow-sm p-2 dark:bg-slate-700 dark:text-white"},null,512),[[ie,k.value]]),E(e("input",{"onUpdate:modelValue":T[1]||(T[1]=v=>j.value=v),type:"color",class:"w-10 h-10 p-1 rounded border-slate-300 dark:border-slate-600 cursor-pointer"},null,512),[[ie,j.value]]),e("button",{onClick:Q,class:"bg-indigo-600 text-white px-3 rounded text-sm font-bold hover:bg-indigo-700 transition-colors"},m(U.value?"Salvar":"+"),1)]),e("div",Ur,[w(h).squads.length===0?(r(),n("div",Nr,"Nenhuma squad criada.")):P("",!0),(r(!0),n(z,null,F(w(h).squads,v=>(r(),n("div",{key:v.id,class:J(["flex items-center justify-between p-2 rounded border transition-all cursor-pointer group",c.value===v.id?"bg-indigo-50 border-indigo-300 dark:bg-indigo-900/30 dark:border-indigo-700 ring-1 ring-indigo-300":"bg-slate-50 border-slate-100 dark:bg-slate-700/30 dark:border-slate-700 hover:bg-slate-100"]),onClick:s=>X(v.id)},[e("div",Rr,[e("span",{class:"w-3 h-3 rounded-full shadow-sm",style:qe({backgroundColor:v.color})},null,4),e("span",Br,m(v.name),1)]),e("div",zr,[e("button",{onClick:tt(s=>N(v),["stop"]),class:"text-slate-400 hover:text-blue-500"},[...T[8]||(T[8]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,Fr),e("button",{onClick:tt(s=>ae(v.id),["stop"]),class:"text-slate-400 hover:text-red-500"},[...T[9]||(T[9]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Lr)])],10,Pr))),128))])]),e("div",Hr,[c.value?(r(),n("div",un,[e("div",cn,[e("h3",pn,[T[15]||(T[15]=e("svg",{class:"w-5 h-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),T[16]||(T[16]=te(" Membros da Squad: ",-1)),e("span",bn,m(($e=w(h).squads.find(v=>v.id===c.value))==null?void 0:$e.name),1)]),e("button",{onClick:T[4]||(T[4]=v=>c.value=null),class:"text-xs text-slate-400 hover:text-slate-600 underline"},"Voltar ao DiretÃ³rio")]),e("div",fn,[T[20]||(T[20]=e("p",{class:"text-xs text-blue-800 dark:text-blue-200 mb-3 font-medium"},"Vincule um membro existente a esta squad e defina sua capacidade de trabalho.",-1)),e("div",vn,[e("div",mn,[T[18]||(T[18]=e("label",{class:"text-[10px] uppercase font-bold text-slate-500 mb-1 block"},"Membro",-1)),E(e("select",{"onUpdate:modelValue":T[5]||(T[5]=v=>p.value=v),class:"w-full text-sm rounded border-slate-300 dark:border-slate-600 p-2 dark:bg-slate-700 dark:text-white"},[T[17]||(T[17]=e("option",{value:""},"-- Selecione --",-1)),(r(!0),n(z,null,F(B.value,v=>(r(),n("option",{key:v.name,value:v.name},m(v.name)+" ("+m(v.sector)+")",9,xn))),128))],512),[[ye,p.value]])]),e("div",gn,[T[19]||(T[19]=e("label",{class:"text-[10px] uppercase font-bold text-slate-500 mb-1 block"},"Capacidade",-1)),E(e("input",{"onUpdate:modelValue":T[6]||(T[6]=v=>i.value=v),type:"number",class:"w-full text-sm rounded border-slate-300 dark:border-slate-600 p-2 dark:bg-slate-700 dark:text-white"},null,512),[[ie,i.value,void 0,{number:!0}]])]),e("button",{onClick:C,disabled:!p.value,class:"bg-blue-600 text-white px-4 py-2 rounded text-sm font-bold hover:bg-blue-700 transition-colors disabled:opacity-50"},"Vincular",8,kn)]),B.value.length===0&&w(h).teamMembers.length>0?(r(),n("div",hn,"* Todos os membros cadastrados jÃ¡ estÃ£o nesta squad.")):P("",!0),w(h).teamMembers.length===0?(r(),n("div",{key:1,class:"mt-2 text-[10px] text-red-500 cursor-pointer",onClick:T[7]||(T[7]=v=>c.value=null)},"* Nenhum membro cadastrado no sistema. Clique aqui para ir ao DiretÃ³rio.")):P("",!0)]),e("div",yn,[ue.value.length===0?(r(),n("div",wn,"Nenhum membro vinculado a esta squad.")):P("",!0),(r(!0),n(z,null,F(ue.value,v=>(r(),n("div",{key:v.name,class:"flex items-center justify-between bg-white border border-slate-100 dark:bg-slate-700/20 dark:border-slate-700 p-3 rounded hover:shadow-sm transition-all"},[e("div",Dn,[e("div",$n,m(v.name.substring(0,2).toUpperCase()),1),e("div",null,[e("div",_n,m(v.name),1),e("div",Mn,m(v.sector)+" â€¢ "+m(v.capacity)+"h/dia",1)])]),e("button",{onClick:s=>me(v),class:"text-red-400 hover:text-red-600 text-xs border border-red-100 hover:bg-red-50 px-2 py-1 rounded transition-colors"},"Desvincular",8,In)]))),128))])])):(r(),n("div",Wr,[T[14]||(T[14]=e("h3",{class:"font-bold text-slate-800 dark:text-slate-200 mb-4 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})]),te(" 2. DiretÃ³rio Geral de Membros ")],-1)),e("div",Gr,[T[11]||(T[11]=e("p",{class:"text-xs text-emerald-800 dark:text-emerald-200 mb-3 font-medium"},"Cadastre aqui todos os colaboradores. Depois, selecione uma Squad Ã  esquerda para vinculÃ¡-los.",-1)),e("div",Qr,[E(e("input",{"onUpdate:modelValue":T[2]||(T[2]=v=>G.value=v),type:"text",placeholder:"Nome do Colaborador",class:"flex-1 text-sm rounded border-slate-300 dark:border-slate-600 shadow-sm p-2 dark:bg-slate-700 dark:text-white"},null,512),[[ie,G.value]]),E(e("input",{list:"sectors-list","onUpdate:modelValue":T[3]||(T[3]=v=>u.value=v),placeholder:"Setor (Opcional)",class:"w-1/3 text-sm rounded border-slate-300 dark:border-slate-600 shadow-sm p-2 dark:bg-slate-700 dark:text-white"},null,512),[[ie,u.value]]),e("datalist",Xr,[(r(),n(z,null,F(A,v=>e("option",{key:v,value:v},null,8,Yr)),64))]),e("button",{onClick:ve,class:"bg-emerald-600 text-white px-4 rounded text-sm font-bold hover:bg-emerald-700 transition-colors"},m(q.value!==null?"Atualizar":"Cadastrar"),1),q.value!==null?(r(),n("button",{key:0,onClick:oe,class:"bg-slate-200 text-slate-600 px-3 rounded text-sm font-bold"},"Cancelar")):P("",!0)])]),e("div",Jr,[e("table",Kr,[T[13]||(T[13]=e("thead",{class:"bg-slate-50 dark:bg-slate-900 text-xs uppercase text-slate-500 font-bold sticky top-0"},[e("tr",null,[e("th",{class:"px-4 py-2"},"Nome"),e("th",{class:"px-4 py-2"},"Setor"),e("th",{class:"px-4 py-2"},"Squads Vinculadas"),e("th",{class:"px-4 py-2 text-right"},"AÃ§Ãµes")])],-1)),e("tbody",Zr,[(r(!0),n(z,null,F(w(h).teamMembers,v=>(r(),n("tr",{key:v.name,class:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors"},[e("td",en,m(v.name),1),e("td",tn,m(v.sector),1),e("td",sn,[e("div",an,[(r(!0),n(z,null,F(v.squadIds,s=>{var ee;return r(),n("span",{key:s,class:"text-[10px] px-1.5 rounded bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-500"},m(((ee=w(h).squads.find(re=>re.id===s))==null?void 0:ee.name)||"?"),1)}),128)),v.squadIds.length===0?(r(),n("span",ln,"Sem vÃ­nculo")):P("",!0)])]),e("td",on,[e("button",{onClick:s=>ke(v),class:"text-blue-500 hover:underline mr-2 text-xs"},"Editar",8,rn),e("button",{onClick:s=>he(v),class:"text-red-500 hover:underline text-xs"},"Excluir",8,nn)])]))),128)),w(h).teamMembers.length===0?(r(),n("tr",dn,[...T[12]||(T[12]=[e("td",{colspan:"4",class:"px-4 py-8 text-center text-slate-400 italic"},"Nenhum membro cadastrado. Use o formulÃ¡rio acima.",-1)])])):P("",!0)])])])]))])])}}}),Cn=Re(Sn,[["__scopeId","data-v-76bf132c"]]),qn={class:"flex flex-col items-center justify-center min-h-[500px] p-4 animate-fade-in"},jn={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-5xl overflow-hidden flex flex-col md:flex-row min-h-[550px] border border-slate-100 dark:border-slate-700"},Tn={class:"bg-slate-900 text-white p-8 md:w-1/3 flex flex-col justify-between relative overflow-hidden transition-colors"},En={class:"relative z-10"},An={class:"text-6xl mb-6 transform transition-transform hover:scale-110 duration-300"},On={class:"text-2xl font-bold leading-tight"},Vn={key:0,class:"text-blue-400 font-bold text-xs uppercase tracking-wider mt-3 bg-blue-400/10 inline-block px-2 py-1 rounded"},Un={class:"flex gap-2 mt-8 relative z-10"},Nn=["onClick"],Pn={class:"p-8 md:w-2/3 flex flex-col bg-white dark:bg-slate-800 transition-colors"},Rn={class:"flex-1"},Bn={class:"text-lg text-slate-600 dark:text-slate-300 mb-6 leading-relaxed border-b border-slate-100 dark:border-slate-700 pb-4"},zn={key:0,class:"space-y-3"},Fn={class:"text-sm text-slate-700 dark:text-slate-200 leading-snug"},Ln={class:"flex justify-between items-center mt-8 pt-6 border-t border-slate-100 dark:border-slate-700"},Hn=Te({__name:"TutorialView",emits:["complete"],setup(L,{emit:h}){const M=h,y=V(0),x=[{title:"Bem-vindo ao Gantt-ficator",icon:"ðŸ‘‹",content:"Sua ferramenta completa para planejamento Ã¡gil e visual. O sistema foi atualizado para suportar mÃºltiplas Squads e OtimizaÃ§Ã£o Inteligente. Vamos ver o que mudou!",points:["GestÃ£o por Squads.","Planejamento de Sprints.","SugestÃµes de OtimizaÃ§Ã£o via IA."]},{title:"1. GestÃ£o de Squads (Novo!)",icon:"ðŸ‘¥",highlight:"Aba: Squads",content:"O ponto de partida. Agora vocÃª organiza sua equipe em cÃ©lulas Ã¡geis.",points:["Crie Squads: Defina o nome e a cor para identificar cada time.","DiretÃ³rio Geral: Cadastre todos os colaboradores em uma lista Ãºnica.","VÃ­nculo FlexÃ­vel: Adicione membros Ã s Squads e defina a capacidade (horas/dia) especÃ­fica para aquele time.","Day-Offs: Gerencie as folgas dos membros diretamente no cadastro."]},{title:"2. ConfiguraÃ§Ã£o & Sprints",icon:"âš™ï¸",highlight:"Aba: ConfiguraÃ§Ãµes",content:"Onde o tempo Ã© gerenciado. Agora as configuraÃ§Ãµes sÃ£o contextualizadas.",points:['Seletor de Contexto: Escolha se quer configurar o "Projeto Global" ou uma "Squad" especÃ­fica.',"Ciclo de Sprints: Crie Sprints dentro de cada Squad (ex: Sprint 24 - Squad Alpha).","Datas e Feriados: Defina feriados globais ou especÃ­ficos por Squad.","Ajuste Fino: Altere a capacidade ou adicione folgas de um membro apenas para a duraÃ§Ã£o de uma Sprint especÃ­fica."]},{title:"3. Planejamento de Tarefas",icon:"ðŸ“",highlight:"BotÃ£o: Nova Tarefa",content:"Mais inteligÃªncia na criaÃ§Ã£o de demandas.",points:['Prioridade da US: Defina se Ã© uma "Meta" (Goal - Alta prioridade) ou "Item" (Normal).',"ClassificaÃ§Ã£o: Use nÃºmeros (1, 2, 3...) para ordenar a importÃ¢ncia dentro da prioridade.","VÃ­nculo AutomÃ¡tico: Ao selecionar uma Sprint, o sistema filtra apenas os membros daquela Squad.",'Fluxo Completo: Gera automaticamente a cadeia "Backend â†’ Frontend â†’ QA" com os gaps de tempo corretos.']},{title:"4. Cronograma Inteligente",icon:"ðŸ“…",highlight:"Aba: Cronograma",content:"Visualize e otimize o trabalho no tempo.",points:['Filtro de Squad: Alterne entre a "VisÃ£o Geral" (todas as squads) ou foque em um time especÃ­fico.',"BotÃ£o Otimizar âš¡: Receba sugestÃµes automÃ¡ticas para resolver conflitos de prioridade (Item antes de Meta) e sobrecarga.","Linhas de DependÃªncia: O sistema respeita intervalos (ex: 3 dias entre Back e Front).","EdiÃ§Ã£o RÃ¡pida: Arraste tarefas para mudar datas ou clique para editar."]},{title:"5. Dashboard e Riscos",icon:"ðŸš¨",highlight:"Aba: Dashboard",content:"Monitoramento proativo da saÃºde do projeto.",points:["AnÃ¡lise de Riscos: O sistema avisa automaticamente sobre sobrecarga, estouro de sprint e conflitos de agenda (fÃ©rias/feriados).","Desvio de Prazos: Compare o planejado (Baseline) com o real.","Carga de Trabalho: Veja quem estÃ¡ sobrecarregado (vermelho) ou livre (azul).","Progresso: Acompanhe o avanÃ§o fÃ­sico e temporal do projeto."]}],g=W(()=>y.value===x.length-1),R=()=>{g.value||y.value++},_=()=>{y.value>0&&y.value--},H=()=>{M("complete")};return(D,k)=>(r(),n("div",qn,[e("div",jn,[e("div",Tn,[k[0]||(k[0]=e("div",{class:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none"},[e("svg",{class:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none"},[e("path",{d:"M0 100 C 20 0 50 0 100 100 Z",fill:"white"})])],-1)),e("div",En,[e("div",An,m(x[y.value].icon),1),e("h2",On,m(x[y.value].title),1),x[y.value].highlight?(r(),n("p",Vn,m(x[y.value].highlight),1)):P("",!0)]),e("div",Un,[(r(),n(z,null,F(x,(j,U)=>e("div",{key:U,class:J(["h-1.5 rounded-full transition-all duration-500 cursor-pointer",U===y.value?"w-8 bg-blue-500":"w-2 bg-slate-700 hover:bg-slate-600"]),onClick:c=>y.value=U},null,10,Nn)),64))])]),e("div",Pn,[e("div",Rn,[e("p",Bn,m(x[y.value].content),1),x[y.value].points?(r(),n("ul",zn,[(r(!0),n(z,null,F(x[y.value].points,(j,U)=>(r(),n("li",{key:U,class:"flex items-start gap-3 p-3 rounded-lg bg-slate-50 dark:bg-slate-700/30 border border-slate-100 dark:border-slate-700 transition-all hover:translate-x-1"},[k[1]||(k[1]=e("svg",{class:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",Fn,m(j),1)]))),128))])):P("",!0)]),e("div",Ln,[e("button",{onClick:_,class:J(["px-4 py-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 font-bold text-sm transition-colors flex items-center gap-1",{invisible:y.value===0}])},[...k[2]||(k[2]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),te(" Anterior ",-1)])],2),g.value?(r(),n("button",{key:1,onClick:H,class:"px-8 py-3 bg-green-600 hover:bg-green-500 text-white rounded-xl font-bold shadow-lg shadow-green-200 dark:shadow-green-900/20 transition-transform hover:scale-105 active:scale-95 flex items-center gap-2"},"ComeÃ§ar a Usar ðŸš€")):(r(),n("button",{key:0,onClick:R,class:"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-xl font-bold shadow-lg shadow-blue-200 dark:shadow-blue-900/20 transition-transform hover:scale-105 active:scale-95 flex items-center gap-2"},[...k[3]||(k[3]=[te(" PrÃ³ximo ",-1),e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]))])])])]))}}),Wn=Re(Hn,[["__scopeId","data-v-781ac33f"]]),Gn={class:"fixed top-20 right-4 z-[9999] flex flex-col gap-3 pointer-events-none"},Qn={class:"text-lg"},Xn={class:"flex-1 text-sm font-medium pt-0.5"},Yn=["onClick"],Jn=Te({__name:"ToastContainer",setup(L){const{notifications:h,remove:M}=ft(),y=g=>{switch(g){case"success":return"âœ…";case"error":return"âŒ";case"warning":return"âš ï¸";default:return"â„¹ï¸"}},x=g=>{switch(g){case"success":return"border-green-500 bg-white dark:bg-slate-800";case"error":return"border-red-500 bg-white dark:bg-slate-800";case"warning":return"border-amber-500 bg-white dark:bg-slate-800";default:return"border-blue-500 bg-white dark:bg-slate-800"}};return(g,R)=>(r(),n("div",Gn,[Se(Nt,{name:"toast"},{default:st(()=>[(r(!0),n(z,null,F(w(h),_=>(r(),n("div",{key:_.id,class:J(["pointer-events-auto min-w-[300px] max-w-sm p-4 rounded-lg shadow-xl border-l-4 flex items-start gap-3 transform transition-all duration-300 dark:text-white",x(_.type)])},[e("span",Qn,m(y(_.type)),1),e("div",Xn,m(_.message),1),e("button",{onClick:H=>w(M)(_.id),class:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"},"Ã—",8,Yn)],2))),128))]),_:1})]))}}),Kn=Re(Jn,[["__scopeId","data-v-d08f692a"]]),He=V(!1),Zn=()=>{if(typeof window>"u")return;const L=localStorage.getItem("theme"),h=window.matchMedia("(prefers-color-scheme: dark)").matches;L==="dark"||!L&&h?(He.value=!0,document.documentElement.classList.add("dark")):(He.value=!1,document.documentElement.classList.remove("dark"))};Zn();function ed(){return{isDark:He,toggleDark:()=>{He.value=!He.value,He.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))}}}const td={class:"min-h-screen flex flex-col bg-slate-50 dark:bg-slate-900 font-sans text-slate-900 dark:text-slate-100 transition-colors duration-300"},sd={class:"bg-slate-900 dark:bg-slate-950 text-white p-4 shadow-md z-50 sticky top-0 border-b border-slate-800"},ad={class:"max-w-[1600px] mx-auto flex flex-col md:flex-row items-center justify-between gap-4"},ld={class:"flex items-center gap-4 w-full md:w-auto justify-between md:justify-start"},od={class:"flex bg-slate-800 dark:bg-slate-900 rounded-lg p-1 border border-slate-700 overflow-x-auto"},rd={class:"flex items-center gap-3 w-full md:w-auto justify-end"},nd={key:0,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},dd={key:1,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},id={class:"flex-1 w-full max-w-[1600px] mx-auto p-4 lg:p-6"},ud={key:"dashboard"},cd={key:"gantt"},pd={key:"squads",class:"max-w-6xl mx-auto animate-fade-in"},bd={key:"config",class:"max-w-6xl mx-auto space-y-8 animate-fade-in"},fd={key:"tutorial"},wt="gantt-ficator-tutorial-seen",vd=Te({__name:"App",setup(L){const{openCreateModal:h}=Pe(),{isDark:M,toggleDark:y}=ed(),x=V("dashboard"),g=V(null);Mt(()=>{localStorage.getItem(wt)||(x.value="tutorial"),window.addEventListener("beforeinstallprompt",D=>{D.preventDefault(),g.value=D})});const R=async()=>{if(g.value){g.value.prompt();const{outcome:H}=await g.value.userChoice;H==="accepted"&&(g.value=null)}},_=()=>{localStorage.setItem(wt,"true"),x.value="dashboard",window.scrollTo({top:0,behavior:"smooth"})};return(H,D)=>(r(),n("div",td,[Se(Kn),e("header",sd,[e("div",ad,[e("div",ld,[D[12]||(D[12]=e("div",{class:"flex items-center gap-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 00-2-2h-2a2 2 0 00-2 2"})]),e("h1",{class:"text-xl font-bold tracking-tight hidden lg:block"},"Gantt-ficator")],-1)),e("nav",od,[e("button",{onClick:D[0]||(D[0]=k=>x.value="dashboard"),class:J(["px-3 py-1.5 rounded-md text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap",x.value==="dashboard"?"bg-slate-700 dark:bg-slate-800 text-white shadow":"text-slate-400 hover:text-white"]),title:"Dashboard"},[...D[7]||(D[7]=[e("span",{class:"text-lg"},"ðŸ“Š",-1),te(),e("span",{class:"hidden sm:inline"},"Dashboard",-1)])],2),e("button",{onClick:D[1]||(D[1]=k=>x.value="gantt"),class:J(["px-3 py-1.5 rounded-md text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap",x.value==="gantt"?"bg-slate-700 dark:bg-slate-800 text-white shadow":"text-slate-400 hover:text-white"]),title:"Cronograma"},[...D[8]||(D[8]=[e("span",{class:"text-lg"},"ðŸ“…",-1),te(),e("span",{class:"hidden sm:inline"},"Cronograma",-1)])],2),e("button",{onClick:D[2]||(D[2]=k=>x.value="squads"),class:J(["px-3 py-1.5 rounded-md text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap",x.value==="squads"?"bg-slate-700 dark:bg-slate-800 text-white shadow":"text-slate-400 hover:text-white"]),title:"Squads"},[...D[9]||(D[9]=[e("span",{class:"text-lg"},"ðŸ‘¥",-1),te(),e("span",{class:"hidden sm:inline"},"Squads",-1)])],2),e("button",{onClick:D[3]||(D[3]=k=>x.value="config"),class:J(["px-3 py-1.5 rounded-md text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap",x.value==="config"?"bg-slate-700 dark:bg-slate-800 text-white shadow":"text-slate-400 hover:text-white"]),title:"ConfiguraÃ§Ãµes"},[...D[10]||(D[10]=[e("span",{class:"text-lg"},"âš™ï¸",-1),te(),e("span",{class:"hidden sm:inline"},"ConfiguraÃ§Ãµes",-1)])],2),e("button",{onClick:D[4]||(D[4]=k=>x.value="tutorial"),class:J(["px-3 py-1.5 rounded-md text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap",x.value==="tutorial"?"bg-slate-700 dark:bg-slate-800 text-white shadow":"text-slate-400 hover:text-white"]),title:"Tutorial"},[...D[11]||(D[11]=[e("span",{class:"text-lg"},"ðŸŽ“",-1),te(),e("span",{class:"hidden sm:inline"},"Tutorial",-1)])],2)])]),e("div",rd,[g.value?(r(),n("button",{key:0,onClick:R,class:"p-2 rounded-lg bg-slate-800 dark:bg-slate-700 text-emerald-400 hover:bg-slate-700 dark:hover:bg-slate-600 transition-colors border border-slate-700 animate-pulse",title:"Instalar Aplicativo"},[...D[13]||(D[13]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)])])):P("",!0),e("button",{onClick:D[5]||(D[5]=(...k)=>w(y)&&w(y)(...k)),class:"p-2 rounded-lg bg-slate-800 dark:bg-slate-700 text-yellow-400 dark:text-slate-200 hover:bg-slate-700 dark:hover:bg-slate-600 transition-colors border border-slate-700"},[w(M)?(r(),n("svg",nd,[...D[14]||(D[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])])):(r(),n("svg",dd,[...D[15]||(D[15]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])]))]),e("button",{onClick:D[6]||(D[6]=(...k)=>w(h)&&w(h)(...k)),class:"bg-blue-600 hover:bg-blue-500 text-white px-3 sm:px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 shadow-lg shadow-blue-900/50 transition-transform hover:scale-105 active:scale-95 whitespace-nowrap"},[...D[16]||(D[16]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",{class:"hidden sm:inline"},"Nova Tarefa",-1),e("span",{class:"sm:hidden"},"Nova",-1)])])])])]),e("main",id,[Se(bt,{name:"fade",mode:"out-in"},{default:st(()=>[x.value==="dashboard"?(r(),n("div",ud,[Se(Er)])):x.value==="gantt"?(r(),n("div",cd,[Se(Io)])):x.value==="squads"?(r(),n("div",pd,[Se(Cn)])):x.value==="config"?(r(),n("div",bd,[e("section",null,[D[17]||(D[17]=e("h2",{class:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4 px-1"},"Gerenciamento de Dados",-1)),Se(pl)]),Se(il)])):x.value==="tutorial"?(r(),n("div",fd,[Se(Wn,{onComplete:_})])):P("",!0)]),_:1})]),Se(ga)]))}});function md(L={}){const{immediate:h=!1,onNeedRefresh:M,onOfflineReady:y,onRegistered:x,onRegisteredSW:g,onRegisterError:R}=L;let _,H;const D=async(j=!0)=>{await H};async function k(){if("serviceWorker"in navigator){if(_=await zt(async()=>{const{Workbox:j}=await import("./vendor-C2UKaYsr.js").then(U=>U.a3);return{Workbox:j}},[]).then(({Workbox:j})=>new j("/Gantt/sw.js",{scope:"/Gantt/",type:"classic"})).catch(j=>{R==null||R(j)}),!_)return;_.addEventListener("activated",j=>{(j.isUpdate||j.isExternal)&&window.location.reload()}),_.addEventListener("installed",j=>{j.isUpdate||y==null||y()}),_.register({immediate:h}).then(j=>{g?g("/Gantt/sw.js",j):x==null||x(j)}).catch(j=>{R==null||R(j)})}}return H=k(),D}const xd=md({onNeedRefresh(){confirm("Nova versÃ£o disponÃ­vel. Recarregar?")&&xd(!0)},onOfflineReady(){console.log("App pronto para funcionar offline!")}});Pt(vd).mount("#app");
