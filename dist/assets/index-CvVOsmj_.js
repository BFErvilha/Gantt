import{r as A,p as ee,i as ge,s as se,f as oe,w as Ae,c as H,b as Ye,e as Ee,g as Me,h as ht,j as yt,k as Ct,l as Dt,m as it,n as St,o as It,q as qt,t as Te,u as n,v as C,x as r,y as e,A as f,B as jt,C as ut,D as m,E as Se,F as X,G as Q,H as st,I as E,J as B,K as R,L as we,M as te,N as Je,O as Be,P as qe,Q as ft,T as wt,R as $t,S as Tt,U as Et,V as Ke,W as Ze,X as Ot,Y as At,Z as Vt}from"./vendor-BehSlsVZ.js";import{E as Nt,a as Ut,_ as zt}from"./pdf-libs-6OVLy6Rk.js";import{u as Ue,w as vt,r as Bt}from"./excel-libs-CKN5doRT.js";(function(){const v=document.createElement("link").relList;if(v&&v.supports&&v.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))k(x);new MutationObserver(x=>{for(const h of x)if(h.type==="childList")for(const V of h.addedNodes)V.tagName==="LINK"&&V.rel==="modulepreload"&&k(V)}).observe(document,{childList:!0,subtree:!0});function M(x){const h={};return x.integrity&&(h.integrity=x.integrity),x.referrerPolicy&&(h.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?h.credentials="include":x.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function k(x){if(x.ep)return;x.ep=!0;const h=M(x);fetch(x.href,h)}})();const et=A([]);let Rt=0;function ct(){const F=(M,k="success",x=3e3)=>{const h=Rt++;et.value.push({id:h,message:M,type:k}),setTimeout(()=>{v(h)},x)},v=M=>{const k=et.value.findIndex(x=>x.id===M);k!==-1&&et.value.splice(k,1)};return{notifications:et,show:F,remove:v}}const _t="gantt-pro-tasks",Mt="gantt-pro-config",Pt=()=>{try{const F=localStorage.getItem(_t);if(F)return JSON.parse(F).map(v=>({...v,isNotPlanned:v.isNotPlanned??!1,isCompleted:v.isCompleted??!1,isMilestone:v.isMilestone??!1,usType:v.usType||"item",classification:typeof v.classification=="number"?v.classification:0}))}catch(F){console.error("Erro ao carregar tarefas:",F)}return[]},Ft=()=>{const F={projectStartDate:oe(new Date,"yyyy-MM-dd"),deadline:"",skipWeekends:!0,holidays:[],risks:[],teamMembers:[],sprints:[],squads:[]};try{const v=localStorage.getItem(Mt);if(v){const M=JSON.parse(v);let k=[];Array.isArray(M.teamMembers)&&(k=M.teamMembers.map(h=>({name:h.name||"Sem Nome",capacity:typeof h.capacity=="number"?h.capacity:8,daysOff:Array.isArray(h.daysOff)?h.daysOff:[],sector:h.sector||"Outro",squadIds:Array.isArray(h.squadIds)?h.squadIds:[]})));let x=Array.isArray(M.squads)?M.squads:[];return x.length===0&&Array.isArray(M.sprints)&&M.sprints.length>0&&x.push({id:"default-squad",name:"Squad PadrÃ£o",color:"#3b82f6",startDate:M.projectStartDate||F.projectStartDate,deadline:M.deadline||"",skipWeekends:!0,holidays:[],sprints:M.sprints.map(h=>({...h,squadId:"default-squad"}))}),x=x.map(h=>({...h,sprints:Array.isArray(h.sprints)?h.sprints:[],holidays:Array.isArray(h.holidays)?h.holidays:[],startDate:h.startDate||F.projectStartDate,deadline:h.deadline||"",skipWeekends:h.skipWeekends??!0})),{...F,...M,projectStartDate:M.projectStartDate||F.projectStartDate,deadline:M.deadline||"",teamMembers:k,sprints:[],squads:x,holidays:Array.isArray(M.holidays)?M.holidays:[]}}}catch(v){console.error("Erro ao carregar configuraÃ§Ãµes:",v)}return F},ue=A(Pt()),w=A(Ft()),ze=A(null),Qe=A(null),Le=A(!1),He=A("project"),mt=ee(w.value.projectStartDate),Oe=A(ge(mt)?se(mt):se(new Date)),xt=A(""),nt=A(""),dt=A(""),tt=A("");function Re(){const F=ct();Ae([ue,w],()=>{localStorage.setItem(_t,JSON.stringify(ue.value)),localStorage.setItem(Mt,JSON.stringify(w.value))},{deep:!0}),Ae(()=>w.value.projectStartDate,a=>{a&&ge(ee(a))&&(Oe.value=se(new Date(a)))});const v=a=>{if(w.value.squads){for(const t of w.value.squads)if(t.sprints&&Array.isArray(t.sprints)){const l=t.sprints.find(d=>d.id===a);if(l)return l}}},M=H(()=>{let a=se(new Date(w.value.projectStartDate));return ge(a)||(a=se(new Date)),w.value.squads.forEach(t=>{t.sprints&&t.sprints.forEach(l=>{const d=se(ee(l.endDate));ge(d)&&Ye(d,a)&&(a=d)})}),D.value.forEach(t=>{t.endDate&&ge(t.endDate)&&Ye(t.endDate,a)&&(a=t.endDate)}),a}),k=H(()=>{let a=M.value;if(w.value.deadline){const t=se(ee(w.value.deadline));ge(t)&&Ye(t,a)&&(a=t)}return Ee(a,7)}),x=(a,t)=>{if(!ge(a))return!1;const l=oe(a,"yyyy-MM-dd");if(w.value.holidays.includes(l)||w.value.skipWeekends&&it(a))return!0;if(t){const g=w.value.teamMembers.find(I=>I.name===t);if(g&&g.daysOff&&g.daysOff.includes(l))return!0}return!1},h=(a,t,l)=>{if(!ge(a))return new Date;if(t===0)return a;let d=0,g=a;const I=Math.max(0,t-1);let N=0;for(;d<I&&N<1e3;)g=Ee(g,1),x(g,l)||d++,N++;return g},V=(a,t)=>{if(!ge(a))return new Date;let l=a,d=0;for(;x(l,t)&&d<365;)l=Ee(l,1),d++;return l},D=H(()=>{const a=ge(ee(w.value.projectStartDate))?se(ee(w.value.projectStartDate)):se(new Date),t=new Map,l=[...ue.value];let d=!0,g=0;const I=l.length*2;for(;d&&g<I;){d=!1,g++;for(const T of l){let J=a;if(T.manualStartDate){let re=ee(T.manualStartDate);ge(re)&&(J=V(re,T.responsible))}else if(T.dependencyId){const re=t.get(T.dependencyId);if(re){let W=1;re.type==="backend"&&T.type==="frontend"&&(W=3);let be=Ee(re.end,W);J=V(be,T.responsible)}}else if(T.sprintId){const re=v(T.sprintId);if(re){const W=ee(re.startDate);ge(W)&&(J=V(W,T.responsible))}else J=V(a,T.responsible)}else J=V(a,T.responsible);const ye=h(J,T.isMilestone?0:T.duration,T.responsible),xe=t.get(T.id);(!xe||xe.start.getTime()!==J.getTime())&&(t.set(T.id,{start:J,end:ye,type:T.type}),d=!0)}}const N=ge(ee(w.value.projectStartDate))?se(ee(w.value.projectStartDate)):se(new Date);return ue.value.map(T=>{const J=t.get(T.id)||{start:N,end:N,type:T.type},ye=Me(J.end,J.start)+1;return{...T,startDate:J.start,endDate:J.end,offsetDays:Me(J.start,N),calendarDuration:T.isMilestone?1:ye,formattedStartDate:oe(J.start,"dd/MM/yyyy"),formattedEndDate:oe(J.end,"dd/MM/yyyy")}})}),$=H(()=>D.value.filter(a=>{const t=a.name.toLowerCase().includes(xt.value.toLowerCase()),l=nt.value?a.responsible===nt.value:!0,d=dt.value?a.type===dt.value:!0;let g=!0;if(tt.value)if(a.sprintId){const I=v(a.sprintId);g=(I==null?void 0:I.squadId)===tt.value}else if(a.responsible){const I=w.value.teamMembers.find(N=>N.name===a.responsible);g=I?I.squadIds.includes(tt.value):!1}else g=!1;return t&&l&&d&&g})),y=H(()=>{const a=ge(Oe.value)?se(Oe.value):se(new Date),t=ge(ee(w.value.projectStartDate))?se(ee(w.value.projectStartDate)):se(new Date),l=k.value;return He.value==="week"?{start:yt(a,{weekStartsOn:0}),end:ht(a,{weekStartsOn:0})}:He.value==="month"?{start:Dt(a),end:Ct(a)}:{start:t,end:l}}),S=a=>{const t=a==="next"?1:-1;He.value==="week"?Oe.value=It(Oe.value,t):He.value==="month"&&(Oe.value=qt(Oe.value,t))},q=a=>{He.value=a},G=a=>{ue.value=a.map(t=>({id:t.id||crypto.randomUUID(),usId:t.usId||"",customId:t.customId||"",name:t.name||"Sem nome",duration:t.duration||1,dependencyId:t.dependencyId||null,color:t.color||"#3b82f6",type:t.type||"other",responsible:t.responsible||"",effort:t.effort||0,sprintId:t.sprintId||void 0,isNotPlanned:!t.sprintId,isCompleted:!1,isMilestone:t.isMilestone||!1,usType:t.usType||"item",classification:typeof t.classification=="number"?t.classification:0}))},u=H(()=>Me(y.value.end,y.value.start)+1),Y=a=>{const t=a.id||crypto.randomUUID();ue.value.push({id:t,usId:a.usId||"",customId:a.customId||"",name:a.name||"Nova Tarefa",duration:a.duration||1,dependencyId:a.dependencyId||null,color:a.color||"#3b82f6",type:a.type||"other",responsible:a.responsible||"",effort:a.effort||0,sprintId:a.sprintId,isNotPlanned:!a.sprintId,isCompleted:!1,completedDate:void 0,isMilestone:a.isMilestone||!1,usType:a.usType||"item",classification:a.classification||0})},i=a=>{const t=ue.value.findIndex(l=>l.id===a.id);t!==-1&&(ue.value[t]={...a}),ze.value=null,Le.value=!1},c=a=>{var t;ue.value=ue.value.filter(l=>l.id!==a),ue.value.forEach(l=>{l.dependencyId===a&&(l.dependencyId=null)}),((t=ze.value)==null?void 0:t.id)===a&&(ze.value=null,Le.value=!1)},b=a=>{const t=ue.value.find(l=>l.id===a);t&&(t.isCompleted=!t.isCompleted,t.isCompleted?t.completedDate=oe(new Date,"yyyy-MM-dd"):t.completedDate=void 0)},U=a=>{ze.value=JSON.parse(JSON.stringify(a)),Le.value=!0},L=()=>{ze.value=null,Le.value=!0},K=()=>{ze.value=null,Le.value=!1},fe=(a,t)=>{const l=ue.value.find(d=>d.id===a);l&&(l.manualStartDate=oe(t,"yyyy-MM-dd"))},ne=()=>{const a=new Map;D.value.forEach(t=>{t.startDate&&t.endDate&&a.set(t.id,{start:oe(t.startDate,"yyyy-MM-dd"),end:oe(t.endDate,"yyyy-MM-dd")})}),ue.value.forEach(t=>{if(a.has(t.id)){const l=a.get(t.id);t.originalStartDate=l.start,t.originalEndDate=l.end}}),F.show("Linha de base salva!","success")},ae=()=>{Qe.value=JSON.stringify(ue.value)},de=()=>{Qe.value&&(ue.value=JSON.parse(Qe.value),Qe.value=null,F.show("AlteraÃ§Ãµes desfeitas!","success"))},ve=a=>{w.value.holidays.includes(a)||w.value.holidays.push(a)},z=a=>{w.value.holidays=w.value.holidays.filter(t=>t!==a)},me=a=>{a&&!w.value.risks.includes(a)&&w.value.risks.push(a)},he=a=>{w.value.risks.splice(a,1)},Ie=(a,t=8,l="Outro",d=[])=>{a&&!w.value.teamMembers.some(g=>g.name===a)&&w.value.teamMembers.push({name:a,capacity:t,daysOff:[],sector:l,squadIds:d})},_e=(a,t,l,d,g)=>{const I=w.value.teamMembers[a].name;w.value.teamMembers[a].name=t,w.value.teamMembers[a].capacity=l,w.value.teamMembers[a].sector=d,w.value.teamMembers[a].squadIds=g,I!==t&&ue.value.forEach(N=>{N.responsible===I&&(N.responsible=t)})},Ce=a=>{w.value.teamMembers.splice(a,1)},P=(a,t,l)=>{const d=w.value.teamMembers[a];d.squadIds.includes(t)||d.squadIds.push(t),l!==void 0&&(d.capacity=l)},_=(a,t)=>{const l=w.value.teamMembers[a];l.squadIds=l.squadIds.filter(d=>d!==t)},ke=(a,t)=>{const l=w.value.teamMembers[a];l&&!l.daysOff.includes(t)&&(l.daysOff.push(t),l.daysOff.sort())},p=(a,t)=>{const l=w.value.teamMembers[a];l&&(l.daysOff=l.daysOff.filter(d=>d!==t))},s=(a,t)=>{w.value.squads.push({id:crypto.randomUUID(),name:a,color:t,startDate:oe(new Date,"yyyy-MM-dd"),deadline:"",skipWeekends:!0,holidays:[],sprints:[]})},Z=(a,t,l)=>{const d=w.value.squads.findIndex(g=>g.id===a);d!==-1&&(w.value.squads[d].name=t,w.value.squads[d].color=l)},le=a=>{w.value.squads=w.value.squads.filter(t=>t.id!==a),w.value.teamMembers.forEach(t=>{t.squadIds=t.squadIds.filter(l=>l!==a)})},ce=(a,t,l,d)=>{w.value.sprints.push({id:crypto.randomUUID(),name:a,startDate:t,endDate:l,squadId:d}),w.value.sprints.sort((g,I)=>g.startDate.localeCompare(I.startDate))},pe=(a,t,l,d,g)=>{const I=w.value.sprints.findIndex(N=>N.id===a);I!==-1&&(w.value.sprints[I]={...w.value.sprints[I],name:t,startDate:l,endDate:d,squadId:g},w.value.sprints.sort((N,T)=>N.startDate.localeCompare(T.startDate)))},j=a=>{w.value.sprints=w.value.sprints.filter(t=>t.id!==a),ue.value.forEach(t=>{t.sprintId===a&&(t.sprintId=void 0)})},o=(a,t)=>{const l=w.value.squads.find(d=>d.id===a);l&&!l.holidays.includes(t)&&l.holidays.push(t)},je=(a,t)=>{const l=w.value.squads.find(d=>d.id===a);l&&(l.holidays=l.holidays.filter(d=>d!==t))},Pe=(a,t,l,d)=>{const g=w.value.squads.find(I=>I.id===a);g&&(g.sprints.push({id:crypto.randomUUID(),name:t,startDate:l,endDate:d,squadId:a}),g.sprints.sort((I,N)=>I.startDate.localeCompare(N.startDate)))},O=(a,t,l,d,g)=>{const I=w.value.squads.find(N=>N.id===a);if(I){const N=I.sprints.findIndex(T=>T.id===t);N!==-1&&(I.sprints[N]={...I.sprints[N],name:l,startDate:d,endDate:g},I.sprints.sort((T,J)=>T.startDate.localeCompare(J.startDate)))}},ie=(a,t)=>{const l=w.value.squads.find(d=>d.id===a);l&&(l.sprints=l.sprints.filter(d=>d.id!==t),ue.value.forEach(d=>{d.sprintId===t&&(d.sprintId=void 0)}))},Xe=H(()=>{const a=ge(ee(w.value.projectStartDate))?se(ee(w.value.projectStartDate)):se(new Date);let t=k.value;if(w.value.deadline){const T=se(ee(w.value.deadline));ge(T)&&(t=k.value)}const l=Me(t,a)+1;let d=0,g=a;for(;g<=t;)x(g)||d++,g=Ee(g,1);const I=w.value.teamMembers.map(T=>{let J=0;T.daysOff&&T.daysOff.length>0&&T.daysOff.forEach(xe=>{const re=se(ee(xe));re>=a&&re<=t&&(w.value.holidays.includes(xe)||w.value.skipWeekends&&it(re)||J++)});const ye=Math.max(0,d-J);return{name:T.name,capacityPerDay:T.capacity,totalCapacity:T.capacity*ye,sector:T.sector,effectiveDays:ye}}),N=I.reduce((T,J)=>T+J.totalCapacity,0);return{workingDays:d,calendarDays:l,totalTeamCapacity:N,memberStats:I}}),at=H(()=>{const a=[];let t=0,l=0;if(D.value.forEach(d=>{if(d.isCompleted||(l+=d.effort||0,d.isNotPlanned&&(t+=d.effort||0)),!d.isCompleted){const g=w.value.teamMembers.find(N=>N.name===d.responsible),I=g?g.capacity:8;if(!d.isMilestone&&d.effort&&d.duration&&d.effort>d.duration*I&&a.push(`CAPACIDADE: "${d.name}" requer ${d.effort}h. Limite atual: ${d.duration*I}h.`),d.sprintId&&d.startDate&&d.endDate){const N=v(d.sprintId);if(N){const T=se(ee(N.startDate)),J=se(ee(N.endDate));if(St(d.startDate,T)&&a.push(`SPRINT: "${d.name}" comeÃ§a antes da ${N.name} (${oe(T,"dd/MM")}).`),Ye(d.endDate,J)){const ye=Me(d.endDate,J);a.push(`SPRINT: "${d.name}" estourou a ${N.name} em ${ye} dia(s).`)}}}if(d.startDate&&d.endDate){let N=!1,T="";w.value.holidays.some(ye=>{const xe=se(ee(ye));return d.startDate<=xe&&d.endDate>=xe})&&(N=!0,T="feriado"),!N&&g&&g.daysOff.some(xe=>{const re=se(ee(xe));return d.startDate<=re&&d.endDate>=re})&&(N=!0,T="folga pessoal"),N&&d.duration<3&&a.push(`CALENDÃRIO: Tarefa curta "${d.name}" coincide com ${T}.`)}}}),l>0&&t/l>.2){const d=Math.round(t/l*100);a.push(`CARRY-OVER: ${d}% do esforÃ§o ativo sÃ£o tarefas "NÃ£o Planejadas". Risco de atraso nas entregas planejadas.`)}return a}),lt=H(()=>{if(!D.value.length)return[];let a=0;D.value.forEach(g=>{!g.isCompleted&&g.endDate&&g.endDate.getTime()>a&&(a=g.endDate.getTime())});const t=new Set,l=D.value.filter(g=>!g.isCompleted&&g.endDate&&g.endDate.getTime()===a),d=g=>{t.add(g);const I=D.value.find(N=>N.id===g);I&&I.dependencyId&&d(I.dependencyId)};return l.forEach(g=>d(g.id)),Array.from(t)}),We=()=>{const a=[],t=new Map;return w.value.squads.forEach(l=>{l.sprints.forEach(d=>{t.set(d.id,[])})}),ue.value.forEach(l=>{var d;l.sprintId&&t.has(l.sprintId)&&((d=t.get(l.sprintId))==null||d.push(l))}),w.value.squads.forEach(l=>{l.sprints.forEach(d=>{const g=t.get(d.id)||[];if(g.length===0)return;const I=[...g].sort((W,be)=>{const De=W.startDate?new Date(W.startDate).getTime():0,$e=be.startDate?new Date(be.startDate).getTime():0;return De-$e});new Set(g.map(W=>W.responsible).filter(Boolean)).forEach(W=>{const be=I.filter($e=>$e.responsible===W);let De=be.findIndex($e=>$e.usType==="goal");if(De>0){const $e=be[De];for(let Ne=0;Ne<De;Ne++){const Fe=be[Ne];Fe.usType!=="goal"&&a.push(`PRIORIDADE (${l.name}): ${W} estÃ¡ fazendo "${Fe.name}" (Item) antes de "${$e.name}" (Meta).`)}}for(let $e=0;$e<be.length-1;$e++){const Ne=be[$e],Fe=be[$e+1];if(Ne.usType===Fe.usType){const pt=Ne.classification||999,bt=Fe.classification||999;bt<pt&&a.push(`SEQUÃŠNCIA (${l.name}): "${Fe.name}" (Classif. ${bt}) deveria ser feita antes de "${Ne.name}" (Classif. ${pt}).`)}}});const T=ee(d.startDate),J=ee(d.endDate),ye=Me(J,T),re=w.value.teamMembers.filter(W=>W.squadIds.includes(l.id)).map(W=>{const be=ye*W.capacity*.7;return{name:W.name,limit:be,used:0}});g.forEach(W=>{if(W.responsible&&W.effort){const be=re.find(De=>De.name===W.responsible);be&&(be.used+=W.effort)}}),re.forEach(W=>{if(W.used>W.limit){const be=W.used-W.limit,De=g.filter($e=>$e.responsible===W.name&&$e.usType!=="goal");De.length>0?a.push(`SOBRECARGA (${l.name}): ${W.name} estourou a Sprint (+${be.toFixed(1)}h). Mova "${De[0].name}" para a prÃ³xima.`):a.push(`RISCO CRÃTICO (${l.name}): ${W.name} nÃ£o entregarÃ¡ as Metas da Sprint.`)}})})}),a.length===0?["OTIMIZADO: O planejamento segue prioridades (Meta > Item), ClassificaÃ§Ã£o e respeita a capacidade."]:a},ot=a=>{const t=w.value.squads.find(xe=>xe.id===a);if(!t)return{calendarDays:0,workingDays:0,totalTeamCapacity:0};const l=ge(ee(t.startDate))?se(ee(t.startDate)):se(new Date);let d=Ee(l,30);t.deadline&&ge(ee(t.deadline))&&(d=se(ee(t.deadline)));const g=Me(d,l)+1;let I=0,N=l,T=0;for(;N<=d&&T<3650;)x(N)||I++,N=Ee(N,1),T++;const ye=w.value.teamMembers.filter(xe=>xe.squadIds.includes(a)).reduce((xe,re)=>xe+I*re.capacity,0);return{calendarDays:g,workingDays:I,totalTeamCapacity:ye}},rt=H(()=>w.value.squads.flatMap(a=>a.sprints.map(t=>({...t,squadId:a.id}))));return{tasks:ue,config:w,computedTasks:D,filteredTasks:$,totalProjectDays:u,editingTask:ze,viewMode:He,visibleDateRange:y,currentViewDate:Oe,setViewMode:q,navigateView:S,addTask:Y,updateTask:i,removeTask:c,toggleTaskCompletion:b,importTasks:G,setEditingTask:U,cancelEditing:K,addHoliday:ve,removeHoliday:z,addRisk:me,removeRisk:he,isNonWorkingDay:x,addMember:Ie,updateMember:_e,removeMember:Ce,addMemberDayOff:ke,removeMemberDayOff:p,moveTask:fe,isTaskModalOpen:Le,openCreateModal:L,automaticRisks:at,criticalPathIds:lt,projectCapacityStats:Xe,filterSearch:xt,filterResponsible:nt,filterType:dt,filterSquad:tt,addSprint:ce,updateSprint:pe,removeSprint:j,projectDeadlineComputed:k,saveBaseline:ne,getOptimizationSuggestions:We,createSnapshot:ae,restoreSnapshot:de,tasksSnapshot:Qe,addSquad:s,updateSquad:Z,removeSquad:le,linkMemberToSquad:P,unlinkMemberFromSquad:_,suggestedEndDate:M,getSquadStats:ot,allSprints:rt,addHolidayToSquad:o,removeHolidayFromSquad:je,addSprintToSquad:Pe,updateSprintInSquad:O,removeSprintFromSquad:ie}}const Lt={key:0,class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[60] flex items-center justify-center p-4"},Ht={class:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-sm overflow-hidden transform transition-all"},Gt={class:"p-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 flex justify-between items-center"},Wt={class:"font-bold text-slate-800 dark:text-slate-100"},Qt={class:"p-6"},Yt={class:"text-slate-600 dark:text-slate-300 text-sm"},Xt={class:"p-4 bg-slate-50 dark:bg-slate-900/50 flex justify-end gap-3"},gt=Te({__name:"ConfirmationModal",props:{isOpen:{type:Boolean},title:{},message:{}},emits:["confirm","cancel"],setup(F,{emit:v}){const M=v;return(k,x)=>F.isOpen?(r(),n("div",Lt,[e("div",Ht,[e("div",Gt,[e("h3",Wt,f(F.title),1),e("button",{onClick:x[0]||(x[0]=h=>M("cancel")),class:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"},[...x[3]||(x[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])]),e("div",Qt,[e("p",Yt,f(F.message),1)]),e("div",Xt,[e("button",{onClick:x[1]||(x[1]=h=>M("cancel")),class:"px-4 py-2 rounded text-slate-600 dark:text-slate-300 text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors"},"Cancelar"),e("button",{onClick:x[2]||(x[2]=h=>M("confirm")),class:"bg-blue-600 text-white px-4 py-2 rounded text-sm font-bold hover:bg-blue-700 transition-colors shadow-sm"},"Confirmar")])])])):C("",!0)}}),Jt={key:0,class:"fixed inset-0 z-50 flex justify-end overflow-hidden"},Kt={class:"relative w-full max-w-xl h-full bg-white dark:bg-slate-900 shadow-2xl flex flex-col border-l border-slate-200 dark:border-slate-800 transition-all duration-300 ease-out transform"},Zt={class:"flex-shrink-0 bg-slate-50 dark:bg-slate-950 border-b border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between z-10"},es={class:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2"},ts={key:0,class:"px-6 pt-4 bg-white dark:bg-slate-900 flex-shrink-0"},ss={class:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-lg"},as={class:"flex-1 overflow-y-auto custom-scrollbar p-6 bg-white dark:bg-slate-900"},ls={class:"bg-purple-50 dark:bg-purple-900/10 p-5 rounded-xl border border-purple-100 dark:border-purple-800/30"},os={class:"grid grid-cols-2 gap-5"},rs={class:"col-span-2"},ns=["value"],ds={class:"col-span-2"},is=["disabled"],us=["value"],cs={key:0,class:"text-[10px] text-indigo-500 mt-1 font-medium"},ps={class:"col-span-2 bg-white dark:bg-slate-800/50 p-3 rounded-lg border border-slate-200 dark:border-slate-700 grid grid-cols-2 gap-4"},bs={class:"flex gap-2"},fs={class:"flex-1 cursor-pointer relative"},vs={class:"flex-1 cursor-pointer relative"},ms={class:"col-span-2 flex items-center gap-3 mt-1 p-3 bg-white dark:bg-slate-800 rounded-lg border border-purple-100 dark:border-purple-900/50 shadow-sm cursor-pointer hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-colors"},xs={class:"space-y-4"},gs={class:"pt-2"},ks={class:"flex-1 grid grid-cols-2 gap-3"},hs={class:"col-span-2 text-xs font-bold text-green-800 dark:text-green-400 uppercase tracking-wide"},ys=["disabled"],ws=["value"],$s=["disabled"],_s={class:"pt-2"},Ms={class:"flex-1 grid grid-cols-2 gap-3"},Cs=["disabled"],Ds=["value"],Ss=["disabled"],Is={class:"pt-2"},qs={class:"flex-1 grid grid-cols-2 gap-3"},js={class:"col-span-2 text-xs font-bold text-purple-800 dark:text-purple-400 uppercase tracking-wide"},Ts=["disabled"],Es=["value"],Os=["disabled"],As=["value"],Vs={class:"grid grid-cols-2 gap-5"},Ns={class:"grid grid-cols-2 gap-5 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-100 dark:border-slate-700"},Us={class:"flex gap-2"},zs={class:"flex-1 cursor-pointer relative"},Bs={class:"flex-1 cursor-pointer relative"},Rs={class:"flex items-center gap-3 p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg border border-indigo-100 dark:border-indigo-900/30"},Ps={key:0,class:"grid grid-cols-2 gap-5"},Fs={class:"flex gap-2"},Ls=["onClick"],Hs={key:0,class:"w-4 h-4 text-white drop-shadow-md",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Gs=["disabled"],Ws=["value"],Qs={key:0,class:"text-xs text-indigo-500 dark:text-indigo-400 mt-2 font-bold flex items-center gap-1.5 bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800"},Ys={class:"grid grid-cols-2 gap-5"},Xs={key:0},Js=["disabled"],Ks=["value"],Zs={key:0,class:"text-[10px] text-red-400 mt-1"},ea={key:1},ta={class:"relative"},sa={key:1,class:"grid grid-cols-2 gap-5"},aa={class:"relative"},la=["value"],oa={key:2},ra=["value"],na={key:3,class:"text-xs font-medium text-amber-800 dark:text-amber-200 bg-amber-50 dark:bg-amber-900/40 p-3 rounded-lg border border-amber-200 dark:border-amber-800 flex items-start gap-2"},da={class:"flex-shrink-0 border-t border-slate-200 dark:border-slate-800 p-4 bg-white dark:bg-slate-950 z-20 flex flex-col gap-3"},ia={class:"flex gap-3"},ua=["form"],ca={key:0,class:"flex gap-3 pt-1 border-t border-slate-100 dark:border-slate-800/50 mt-1"},pa={key:0,class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ba={key:1,class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},fa=Te({__name:"TaskModal",setup(F){const{tasks:v,addTask:M,editingTask:k,updateTask:x,cancelEditing:h,removeTask:V,toggleTaskCompletion:D,config:$,isTaskModalOpen:y,allSprints:S}=Re(),q=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"],G={name:"",usId:"",customId:"",duration:1,dependencyId:"",color:"#3b82f6",type:"frontend",responsible:"",effort:0,sprintId:"",squadId:"",isMilestone:!1,usType:"item",classification:0},u=A({...G}),Y=A(!1),i=A({featureName:"",usId:"",sprintId:"",squadId:"",isFullstack:!1,usType:"item",classification:0,backend:{responsible:"",effort:0,enabled:!0},frontend:{responsible:"",effort:0,enabled:!0},qa:{responsible:"",effort:0,enabled:!0}}),c=A(!1),b=A(!1);Ae(k,p=>{if(p){Y.value=!1;let s="";if(p.sprintId){const Z=S.value.find(le=>le.id===p.sprintId);Z&&Z.squadId&&(s=Z.squadId)}u.value={name:p.name,usId:p.usId||"",customId:p.customId||"",duration:p.duration,dependencyId:p.dependencyId||"",color:p.color,type:p.type||"other",responsible:p.responsible||"",effort:p.effort||0,sprintId:p.sprintId||"",squadId:s,isMilestone:p.isMilestone||!1,usType:p.usType||"item",classification:p.classification||0}}else me()});const U=H(()=>u.value.squadId?S.value.filter(p=>p.squadId===u.value.squadId):S.value),L=H(()=>i.value.squadId?S.value.filter(p=>p.squadId===i.value.squadId):S.value),K=H(()=>{if(!i.value.sprintId)return null;const p=S.value.find(s=>s.id===i.value.sprintId);return p&&p.squadId?$.value.squads.find(s=>s.id===p.squadId):null}),fe=H(()=>{if(!u.value.sprintId)return null;const p=S.value.find(s=>s.id===u.value.sprintId);return p&&p.squadId?$.value.squads.find(s=>s.id===p.squadId):null}),ne=H(()=>!k.value&&Y.value?"flow-form":"simple-form");Ae(()=>u.value.sprintId,p=>{if(p){const s=S.value.find(Z=>Z.id===p);s&&s.squadId&&(u.value.squadId=s.squadId)}}),Ae(()=>i.value.sprintId,p=>{if(p){const s=S.value.find(Z=>Z.id===p);s&&s.squadId&&(i.value.squadId=s.squadId)}});const ae=(p,s)=>$.value.teamMembers.filter(Z=>{if(s&&!Z.squadIds.includes(s))return!1;const le=(Z.sector||"").toLowerCase();return!!(le.includes("fullstack")||le.includes("full stack")||p==="backend"&&(le.includes("back")||le.includes("devops"))||p==="frontend"&&(le.includes("front")||le.includes("design"))||p==="qualidade"&&(le.includes("qa")||le.includes("qualidade"))||p==="other")}),de=H(()=>{let p=$.value.teamMembers;return u.value.squadId&&(p=p.filter(s=>s.squadIds.includes(u.value.squadId))),!u.value.type||u.value.type==="other"?p:ae(u.value.type,u.value.squadId)});Ae(()=>u.value.type,()=>{const p=u.value.responsible;p&&de.value.length>0&&(de.value.some(Z=>Z.name===p)||(u.value.responsible=""))});const ve=p=>{if(!p)return 8;const s=$.value.teamMembers.find(Z=>Z.name===p);return s?s.capacity:8};Ae([()=>u.value.effort,()=>u.value.responsible],([p])=>{if(p&&p>0&&!u.value.isMilestone){const s=ve(u.value.responsible);u.value.duration=Math.max(1,Math.ceil(p/s))}});const z=H(()=>{if(u.value.isMilestone)return null;const p=u.value.effort,s=u.value.duration,Z=ve(u.value.responsible);return p>s*Z?`AtenÃ§Ã£o: ${p}h excede a capacidade de ${s} dia(s).`:null}),me=()=>{u.value={...G,color:q[Math.floor(Math.random()*q.length)]},i.value={featureName:"",usId:"",sprintId:"",squadId:"",isFullstack:!1,usType:"item",classification:0,backend:{responsible:"",effort:0,enabled:!0},frontend:{responsible:"",effort:0,enabled:!0},qa:{responsible:"",effort:0,enabled:!0}},c.value=!1,b.value=!1},he=()=>{u.value.name&&(k.value?x({...k.value,...u.value,dependencyId:u.value.dependencyId||null,sprintId:u.value.sprintId||void 0,isNotPlanned:!u.value.sprintId}):M({name:u.value.name,usId:u.value.usId,customId:u.value.customId,duration:u.value.isMilestone?0:u.value.duration,dependencyId:u.value.dependencyId||null,color:u.value.color,type:u.value.type,responsible:u.value.responsible,effort:u.value.effort,sprintId:u.value.sprintId||void 0,isMilestone:u.value.isMilestone,usType:u.value.usType,classification:u.value.classification}),h())},Ie=()=>{if(!i.value.featureName)return;const p=crypto.randomUUID(),s=crypto.randomUUID(),Z=crypto.randomUUID(),le={usId:i.value.usId,sprintId:i.value.sprintId||void 0,isMilestone:!1,usType:i.value.usType,classification:i.value.classification};if(i.value.backend.enabled){const ce=i.value.backend.effort,pe=ve(i.value.backend.responsible),j=i.value.isFullstack?`${i.value.featureName} (Fullstack)`:`${i.value.featureName} (Back)`;M({id:p,name:j,type:"backend",color:"#10b981",responsible:i.value.backend.responsible,effort:ce,duration:Math.max(1,Math.ceil(ce/pe)),dependencyId:null,...le})}if(!i.value.isFullstack&&i.value.frontend.enabled){const ce=i.value.frontend.effort,pe=ve(i.value.frontend.responsible),j=i.value.backend.enabled?p:null;M({id:s,name:`${i.value.featureName} (Front)`,type:"frontend",color:"#3b82f6",responsible:i.value.frontend.responsible,effort:ce,duration:Math.max(1,Math.ceil(ce/pe)),dependencyId:j,...le})}if(i.value.qa.enabled){const ce=i.value.qa.effort,pe=ve(i.value.qa.responsible);let j=null;!i.value.isFullstack&&i.value.frontend.enabled?j=s:i.value.backend.enabled&&(j=p),M({id:Z,name:`${i.value.featureName} (QA)`,type:"qualidade",color:"#8b5cf6",responsible:i.value.qa.responsible,effort:ce,duration:Math.max(1,Math.ceil(ce/pe)),dependencyId:j,...le})}h()},_e=()=>{h(),me()},Ce=()=>{k.value&&(c.value=!0)},P=()=>{k.value&&(V(k.value.id),c.value=!1)},_=()=>{k.value&&(b.value=!0)},ke=()=>{k.value&&(D(k.value.id),b.value=!1,h())};return(p,s)=>(r(),jt(wt,{name:"slide"},{default:ut(()=>{var Z,le,ce,pe,j;return[m(y)?(r(),n("div",Jt,[e("div",{class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:_e}),e("div",Kt,[e("div",Zt,[e("h3",es,f(m(k)?"âœï¸ Editar Tarefa":"âœ¨ Nova Tarefa"),1),e("button",{onClick:_e,class:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors"},[...s[36]||(s[36]=[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),m(k)?C("",!0):(r(),n("div",ts,[e("div",ss,[e("button",{onClick:s[0]||(s[0]=o=>Y.value=!1),class:X(["flex-1 py-2 text-sm font-bold rounded-md transition-all shadow-sm",Y.value?"text-slate-500 hover:text-slate-700 dark:text-slate-400":"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow"])}," Tarefa Simples ",2),e("button",{onClick:s[1]||(s[1]=o=>Y.value=!0),class:X(["flex-1 py-2 text-sm font-bold rounded-md transition-all flex items-center justify-center gap-2",Y.value?"bg-white dark:bg-slate-700 text-purple-600 dark:text-purple-400 shadow":"text-slate-500 hover:text-slate-700 dark:text-slate-400"])},[...s[37]||(s[37]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1),Q(" Fluxo Completo ",-1)])],2)])])),e("div",as,[Y.value&&!m(k)?(r(),n("form",{key:0,id:"flow-form",onSubmit:st(Ie,["prevent"]),class:"space-y-6"},[e("div",ls,[s[49]||(s[49]=e("h4",{class:"text-xs font-bold uppercase text-purple-800 dark:text-purple-300 mb-4 flex items-center gap-2"},"ConfiguraÃ§Ã£o do Fluxo",-1)),e("div",os,[e("div",rs,[s[39]||(s[39]=e("label",{class:"block text-xs font-bold text-slate-600 dark:text-slate-400 mb-1.5 uppercase"},"Squad",-1)),E(e("select",{"onUpdate:modelValue":s[2]||(s[2]=o=>i.value.squadId=o),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 p-2.5 text-sm dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-purple-500 shadow-sm font-medium"},[s[38]||(s[38]=e("option",{value:""},"-- Selecione a Squad --",-1)),(r(!0),n(B,null,R(m($).squads,o=>(r(),n("option",{key:o.id,value:o.id},f(o.name),9,ns))),128))],512),[[we,i.value.squadId]])]),e("div",ds,[s[40]||(s[40]=e("label",{class:"block text-xs font-bold text-slate-600 dark:text-slate-400 mb-1.5 uppercase"},"Nome da Feature (Base)",-1)),E(e("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>i.value.featureName=o),type:"text",placeholder:"Ex: CriaÃ§Ã£o de Login",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 p-2.5 text-sm font-medium focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-slate-800 dark:text-white transition-all shadow-sm placeholder-slate-400",required:"",autofocus:""},null,512),[[te,i.value.featureName]])]),e("div",null,[s[42]||(s[42]=e("label",{class:"block text-xs font-bold text-slate-600 dark:text-slate-400 mb-1.5 uppercase"},"Sprint",-1)),E(e("select",{"onUpdate:modelValue":s[4]||(s[4]=o=>i.value.sprintId=o),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 p-2.5 text-sm dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-purple-500 shadow-sm font-medium",disabled:!i.value.squadId},[s[41]||(s[41]=e("option",{value:""},"-- NÃ£o Planejado --",-1)),(r(!0),n(B,null,R(L.value,o=>(r(),n("option",{key:o.id,value:o.id},f(o.name),9,us))),128))],8,is),[[we,i.value.sprintId]]),K.value?(r(),n("div",cs,"Squad: "+f(K.value.name),1)):C("",!0)]),e("div",null,[s[43]||(s[43]=e("label",{class:"block text-xs font-bold text-slate-600 dark:text-slate-400 mb-1.5 uppercase"},"US ID",-1)),E(e("input",{"onUpdate:modelValue":s[5]||(s[5]=o=>i.value.usId=o),type:"text",placeholder:"Ex: US-200",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 p-2.5 text-sm dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-purple-500 shadow-sm font-medium"},null,512),[[te,i.value.usId]])]),e("div",ps,[e("div",null,[s[46]||(s[46]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5"},"Prioridade",-1)),e("div",bs,[e("label",fs,[E(e("input",{type:"radio","onUpdate:modelValue":s[6]||(s[6]=o=>i.value.usType=o),value:"goal",class:"peer sr-only"},null,512),[[Je,i.value.usType]]),s[44]||(s[44]=e("div",{class:"text-center py-2 px-2 rounded-md border border-slate-200 dark:border-slate-600 peer-checked:bg-amber-100 peer-checked:text-amber-800 peer-checked:border-amber-300 dark:peer-checked:bg-amber-900/40 dark:peer-checked:text-amber-200 dark:text-slate-300 transition-all text-xs font-bold shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700"}," ðŸ† Meta ",-1))]),e("label",vs,[E(e("input",{type:"radio","onUpdate:modelValue":s[7]||(s[7]=o=>i.value.usType=o),value:"item",class:"peer sr-only"},null,512),[[Je,i.value.usType]]),s[45]||(s[45]=e("div",{class:"text-center py-2 px-2 rounded-md border border-slate-200 dark:border-slate-600 peer-checked:bg-slate-200 peer-checked:text-slate-800 dark:peer-checked:bg-slate-600 dark:peer-checked:text-white dark:text-slate-300 transition-all text-xs font-bold shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700"}," ðŸ“ Item ",-1))])])]),e("div",null,[s[47]||(s[47]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5"},"ClassificaÃ§Ã£o",-1)),E(e("input",{"onUpdate:modelValue":s[8]||(s[8]=o=>i.value.classification=o),type:"number",class:"w-full rounded-md border-slate-300 dark:border-slate-600 p-2 text-sm dark:bg-slate-700 dark:text-white focus:ring-2 focus:ring-purple-500 shadow-sm font-medium",placeholder:"0"},null,512),[[te,i.value.classification,void 0,{number:!0}]])])]),e("div",ms,[E(e("input",{type:"checkbox",id:"isFullstack","onUpdate:modelValue":s[9]||(s[9]=o=>i.value.isFullstack=o),class:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500 border-slate-300"},null,512),[[Be,i.value.isFullstack]]),s[48]||(s[48]=e("label",{for:"isFullstack",class:"text-sm font-bold text-slate-700 dark:text-slate-300 cursor-pointer select-none"},"Feature Fullstack (Remove etapa de Frontend)",-1))])])]),e("div",xs,[e("div",{class:X(["flex gap-3 items-start p-3 rounded-lg border transition-all shadow-sm",i.value.backend.enabled?"border-green-200 bg-green-50/50 dark:border-green-900/30 dark:bg-green-900/10":"border-slate-100 bg-slate-50 opacity-60"])},[e("div",gs,[E(e("input",{type:"checkbox","onUpdate:modelValue":s[10]||(s[10]=o=>i.value.backend.enabled=o),class:"rounded text-green-600 focus:ring-green-500 w-4 h-4"},null,512),[[Be,i.value.backend.enabled]])]),e("div",ks,[e("div",hs,"1. "+f(i.value.isFullstack?"Fullstack":"Backend"),1),e("div",null,[E(e("select",{"onUpdate:modelValue":s[11]||(s[11]=o=>i.value.backend.responsible=o),disabled:!i.value.backend.enabled||!i.value.squadId,class:"w-full rounded-md border-slate-300 dark:border-slate-600 p-2 text-xs dark:bg-slate-800 dark:text-white font-medium"},[s[50]||(s[50]=e("option",{value:""},"ResponsÃ¡vel",-1)),(r(!0),n(B,null,R(ae("backend",i.value.squadId),o=>(r(),n("option",{key:o.name,value:o.name},f(o.name),9,ws))),128))],8,ys),[[we,i.value.backend.responsible]])]),e("div",null,[E(e("input",{"onUpdate:modelValue":s[12]||(s[12]=o=>i.value.backend.effort=o),type:"number",placeholder:"Horas",disabled:!i.value.backend.enabled,class:"w-full rounded-md border-slate-300 dark:border-slate-600 p-2 text-xs dark:bg-slate-800 dark:text-white font-medium"},null,8,$s),[[te,i.value.backend.effort,void 0,{number:!0}]])])])],2),i.value.isFullstack?C("",!0):(r(),n("div",{key:0,class:X(["flex gap-3 items-start p-3 rounded-lg border transition-all shadow-sm",i.value.frontend.enabled?"border-blue-200 bg-blue-50/50 dark:border-blue-900/30 dark:bg-blue-900/10":"border-slate-100 bg-slate-50 opacity-60"])},[e("div",_s,[E(e("input",{type:"checkbox","onUpdate:modelValue":s[13]||(s[13]=o=>i.value.frontend.enabled=o),class:"rounded text-blue-600 focus:ring-blue-500 w-4 h-4"},null,512),[[Be,i.value.frontend.enabled]])]),e("div",Ms,[s[52]||(s[52]=e("div",{class:"col-span-2 text-xs font-bold text-blue-800 dark:text-blue-400 uppercase tracking-wide"},"2. Frontend",-1)),e("div",null,[E(e("select",{"onUpdate:modelValue":s[14]||(s[14]=o=>i.value.frontend.responsible=o),disabled:!i.value.frontend.enabled||!i.value.squadId,class:"w-full rounded-md border-slate-300 dark:border-slate-600 p-2 text-xs dark:bg-slate-800 dark:text-white font-medium"},[s[51]||(s[51]=e("option",{value:""},"ResponsÃ¡vel",-1)),(r(!0),n(B,null,R(ae("frontend",i.value.squadId),o=>(r(),n("option",{key:o.name,value:o.name},f(o.name),9,Ds))),128))],8,Cs),[[we,i.value.frontend.responsible]])]),e("div",null,[E(e("input",{"onUpdate:modelValue":s[15]||(s[15]=o=>i.value.frontend.effort=o),type:"number",placeholder:"Horas",disabled:!i.value.frontend.enabled,class:"w-full rounded-md border-slate-300 dark:border-slate-600 p-2 text-xs dark:bg-slate-800 dark:text-white font-medium"},null,8,Ss),[[te,i.value.frontend.effort,void 0,{number:!0}]])])])],2)),e("div",{class:X(["flex gap-3 items-start p-3 rounded-lg border transition-all shadow-sm",i.value.qa.enabled?"border-purple-200 bg-purple-50/50 dark:border-purple-900/30 dark:bg-purple-900/10":"border-slate-100 bg-slate-50 opacity-60"])},[e("div",Is,[E(e("input",{type:"checkbox","onUpdate:modelValue":s[16]||(s[16]=o=>i.value.qa.enabled=o),class:"rounded text-purple-600 focus:ring-purple-500 w-4 h-4"},null,512),[[Be,i.value.qa.enabled]])]),e("div",qs,[e("div",js,f(i.value.isFullstack?"2.":"3.")+" QA / Teste",1),e("div",null,[E(e("select",{"onUpdate:modelValue":s[17]||(s[17]=o=>i.value.qa.responsible=o),disabled:!i.value.qa.enabled||!i.value.squadId,class:"w-full rounded-md border-slate-300 dark:border-slate-600 p-2 text-xs dark:bg-slate-800 dark:text-white font-medium"},[s[53]||(s[53]=e("option",{value:""},"ResponsÃ¡vel",-1)),(r(!0),n(B,null,R(ae("qualidade",i.value.squadId),o=>(r(),n("option",{key:o.name,value:o.name},f(o.name),9,Es))),128))],8,Ts),[[we,i.value.qa.responsible]])]),e("div",null,[E(e("input",{"onUpdate:modelValue":s[18]||(s[18]=o=>i.value.qa.effort=o),type:"number",placeholder:"Horas",disabled:!i.value.qa.enabled,class:"w-full rounded-md border-slate-300 dark:border-slate-600 p-2 text-xs dark:bg-slate-800 dark:text-white font-medium"},null,8,Os),[[te,i.value.qa.effort,void 0,{number:!0}]])])])],2)])],32)):(r(),n("form",{key:1,id:"simple-form",onSubmit:st(he,["prevent"]),class:"space-y-6 animate-fade-in"},[e("div",null,[s[55]||(s[55]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"Squad",-1)),E(e("select",{"onUpdate:modelValue":s[19]||(s[19]=o=>u.value.squadId=o),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 text-sm dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"},[s[54]||(s[54]=e("option",{value:""},"-- Selecione a Squad --",-1)),(r(!0),n(B,null,R(m($).squads,o=>(r(),n("option",{key:o.id,value:o.id},f(o.name),9,As))),128))],512),[[we,u.value.squadId]])]),e("div",Vs,[e("div",null,[s[56]||(s[56]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"ID da US",-1)),E(e("input",{"onUpdate:modelValue":s[20]||(s[20]=o=>u.value.usId=o),type:"text",placeholder:"Ex: US-104",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors"},null,512),[[te,u.value.usId]])]),e("div",null,[s[57]||(s[57]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"ID da Tarefa",-1)),E(e("input",{"onUpdate:modelValue":s[21]||(s[21]=o=>u.value.customId=o),type:"text",placeholder:"Ex: T-01",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors"},null,512),[[te,u.value.customId]])])]),e("div",null,[s[58]||(s[58]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"Nome da Tarefa",-1)),E(e("input",{"onUpdate:modelValue":s[22]||(s[22]=o=>u.value.name=o),type:"text",placeholder:"Ex: Desenvolver API...",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors placeholder-slate-400",required:"",autofocus:""},null,512),[[te,u.value.name]])]),e("div",Ns,[e("div",null,[s[61]||(s[61]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5"},"Prioridade da US",-1)),e("div",Us,[e("label",zs,[E(e("input",{type:"radio","onUpdate:modelValue":s[23]||(s[23]=o=>u.value.usType=o),value:"goal",class:"peer sr-only"},null,512),[[Je,u.value.usType]]),s[59]||(s[59]=e("div",{class:"text-center py-2.5 px-3 rounded-lg border border-slate-200 dark:border-slate-600 peer-checked:bg-amber-100 peer-checked:text-amber-800 peer-checked:border-amber-300 dark:peer-checked:bg-amber-900/40 dark:peer-checked:text-amber-200 dark:text-slate-300 transition-all text-sm font-bold shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700"}," ðŸ† Meta ",-1))]),e("label",Bs,[E(e("input",{type:"radio","onUpdate:modelValue":s[24]||(s[24]=o=>u.value.usType=o),value:"item",class:"peer sr-only"},null,512),[[Je,u.value.usType]]),s[60]||(s[60]=e("div",{class:"text-center py-2.5 px-3 rounded-lg border border-slate-200 dark:border-slate-600 peer-checked:bg-slate-200 peer-checked:text-slate-800 dark:peer-checked:bg-slate-600 dark:peer-checked:text-white dark:text-slate-300 transition-all text-sm font-bold shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700"}," ðŸ“ Item ",-1))])])]),e("div",null,[s[62]||(s[62]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5"},"ClassificaÃ§Ã£o",-1)),E(e("input",{"onUpdate:modelValue":s[25]||(s[25]=o=>u.value.classification=o),type:"number",placeholder:"0",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors"},null,512),[[te,u.value.classification,void 0,{number:!0}]])])]),e("div",Rs,[E(e("input",{type:"checkbox",id:"isMilestone","onUpdate:modelValue":s[26]||(s[26]=o=>u.value.isMilestone=o),class:"w-5 h-5 rounded text-indigo-600 focus:ring-indigo-500 border-indigo-200"},null,512),[[Be,u.value.isMilestone]]),s[63]||(s[63]=e("label",{for:"isMilestone",class:"text-sm font-bold text-indigo-800 dark:text-indigo-200 cursor-pointer select-none"}," ðŸš© Ã‰ um Marco (Milestone)?",-1))]),u.value.isMilestone?C("",!0):(r(),n("div",Ps,[e("div",null,[s[65]||(s[65]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"Tipo da Tarefa",-1)),E(e("select",{"onUpdate:modelValue":s[27]||(s[27]=o=>u.value.type=o),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors"},[...s[64]||(s[64]=[e("option",{value:"frontend"},"Front-end",-1),e("option",{value:"backend"},"Back-end",-1),e("option",{value:"qualidade"},"Qualidade",-1),e("option",{value:"other"},"Outro",-1)])],512),[[we,u.value.type]])]),e("div",null,[s[67]||(s[67]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-2 uppercase"},"Cor da Barra",-1)),e("div",Fs,[(r(),n(B,null,R(q,o=>e("button",{type:"button",key:o,onClick:je=>u.value.color=o,class:X(["w-9 h-9 rounded-full border-2 transition-transform hover:scale-110 shadow-sm flex items-center justify-center",u.value.color===o?"border-slate-800 dark:border-white scale-110 ring-2 ring-offset-2 ring-offset-white dark:ring-offset-slate-900 ring-slate-300":"border-transparent"]),style:qe({backgroundColor:o})},[u.value.color===o?(r(),n("svg",Hs,[...s[66]||(s[66]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"},null,-1)])])):C("",!0)],14,Ls)),64))])])])),s[82]||(s[82]=e("hr",{class:"border-slate-100 dark:border-slate-700"},null,-1)),e("div",null,[s[70]||(s[70]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"Sprint (Opcional)",-1)),E(e("select",{"onUpdate:modelValue":s[28]||(s[28]=o=>u.value.sprintId=o),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-purple-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors",disabled:!u.value.squadId},[s[68]||(s[68]=e("option",{value:""},"-- Sem Sprint (NÃ£o Planejado) --",-1)),(r(!0),n(B,null,R(U.value,o=>(r(),n("option",{key:o.id,value:o.id},f(o.name),9,Ws))),128))],8,Gs),[[we,u.value.sprintId]]),fe.value?(r(),n("div",Qs,[s[69]||(s[69]=e("span",{class:"w-2 h-2 rounded-full bg-indigo-500"},null,-1)),Q(" Restrito Ã  Squad: "+f(fe.value.name),1)])):C("",!0)]),e("div",Ys,[u.value.isMilestone?C("",!0):(r(),n("div",Xs,[s[72]||(s[72]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"ResponsÃ¡vel",-1)),E(e("select",{"onUpdate:modelValue":s[29]||(s[29]=o=>u.value.responsible=o),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors",disabled:!u.value.squadId},[s[71]||(s[71]=e("option",{value:""},"-- Selecione --",-1)),(r(!0),n(B,null,R(de.value,o=>(r(),n("option",{key:o.name,value:o.name},f(o.name)+" ("+f(o.sector||"Geral")+")",9,Ks))),128))],8,Js),[[we,u.value.responsible]]),u.value.squadId?C("",!0):(r(),n("div",Zs,"Selecione uma Squad primeiro"))])),u.value.isMilestone?C("",!0):(r(),n("div",ea,[s[74]||(s[74]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"EsforÃ§o Estimado",-1)),e("div",ta,[E(e("input",{"onUpdate:modelValue":s[30]||(s[30]=o=>u.value.effort=o),type:"number",min:"0",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm pr-12 bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors"},null,512),[[te,u.value.effort,void 0,{number:!0}]]),s[73]||(s[73]=e("span",{class:"absolute right-3 top-2.5 text-xs text-slate-400 dark:text-slate-500 font-bold"},"HORAS",-1))])]))]),u.value.isMilestone?(r(),n("div",oa,[s[80]||(s[80]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"DependÃªncia (Define a data do Marco)",-1)),E(e("select",{"onUpdate:modelValue":s[33]||(s[33]=o=>u.value.dependencyId=o),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors"},[s[79]||(s[79]=e("option",{value:""},"Nenhuma (InÃ­cio do Projeto)",-1)),(r(!0),n(B,null,R(m(v),o=>E((r(),n("option",{key:o.id,value:o.id},f(o.name),9,ra)),[[ft,!m(k)||o.id!==m(k).id]])),128))],512),[[we,u.value.dependencyId]])])):(r(),n("div",sa,[e("div",null,[s[76]||(s[76]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"DuraÃ§Ã£o (Dias)",-1)),e("div",aa,[E(e("input",{"onUpdate:modelValue":s[31]||(s[31]=o=>u.value.duration=o),type:"number",min:"1",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none bg-slate-50 dark:bg-slate-700 text-slate-600 dark:text-slate-200 text-sm pr-10 transition-colors font-medium cursor-not-allowed",title:"Calculado automaticamente baseado no esforÃ§o e capacidade",readonly:""},null,512),[[te,u.value.duration,void 0,{number:!0}]]),s[75]||(s[75]=e("span",{class:"absolute right-3 top-2.5 text-xs text-slate-400 dark:text-slate-400 font-bold"},"DIAS",-1))])]),e("div",null,[s[78]||(s[78]=e("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase"},"DependÃªncia",-1)),E(e("select",{"onUpdate:modelValue":s[32]||(s[32]=o=>u.value.dependencyId=o),class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 border focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-medium transition-colors"},[s[77]||(s[77]=e("option",{value:""},"Nenhuma",-1)),(r(!0),n(B,null,R(m(v),o=>E((r(),n("option",{key:o.id,value:o.id},f(o.name),9,la)),[[ft,!m(k)||o.id!==m(k).id]])),128))],512),[[we,u.value.dependencyId]])])])),z.value?(r(),n("div",na,[s[81]||(s[81]=e("svg",{class:"h-5 w-5 flex-shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),e("span",null,f(z.value),1)])):C("",!0)],32))]),e("div",da,[e("div",ia,[e("button",{type:"button",onClick:_e,class:"px-5 py-3 rounded-lg border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 transition text-sm w-1/3"},"Cancelar"),e("button",{type:"submit",form:ne.value,class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-bold shadow-lg shadow-blue-200 dark:shadow-none text-sm transition-colors"},f(m(k)?"Salvar AlteraÃ§Ãµes":"Criar Tarefa"),9,ua)]),m(k)?(r(),n("div",ca,[e("button",{type:"button",onClick:Ce,class:"flex-1 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 py-2 text-xs font-bold flex items-center justify-center gap-1 transition-colors border border-transparent hover:border-red-100 dark:hover:border-red-900 rounded"},[...s[83]||(s[83]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),Q(" Excluir ",-1)])]),e("button",{type:"button",onClick:_,class:X(["flex-1 py-2 text-xs font-bold flex items-center justify-center gap-1 transition-colors border border-transparent rounded",m(k).isCompleted?"text-slate-500 hover:text-slate-700 hover:bg-slate-100 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:bg-slate-700":"text-green-600 hover:text-green-700 hover:bg-green-50 dark:text-green-400 dark:hover:text-green-300 dark:hover:bg-green-900/30"])},[m(k).isCompleted?(r(),n("svg",ba,[...s[85]||(s[85]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(r(),n("svg",pa,[...s[84]||(s[84]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])),Q(" "+f(m(k).isCompleted?"Reabrir":"Concluir"),1)],2)])):C("",!0)])]),Se(gt,{"is-open":c.value,title:"Excluir Tarefa",message:`Tem a certeza que deseja excluir a tarefa '${(Z=m(k))==null?void 0:Z.name}'?`,onConfirm:P,onCancel:s[34]||(s[34]=o=>c.value=!1)},null,8,["is-open","message"]),Se(gt,{"is-open":b.value,title:(le=m(k))!=null&&le.isCompleted?"Reabrir Tarefa":"Concluir Tarefa",message:(ce=m(k))!=null&&ce.isCompleted?`Deseja marcar '${(pe=m(k))==null?void 0:pe.name}' como em andamento novamente?`:`Confirmar a conclusÃ£o da tarefa '${(j=m(k))==null?void 0:j.name}'?`,onConfirm:ke,onCancel:s[35]||(s[35]=o=>b.value=!1)},null,8,["is-open","title","message"])])):C("",!0)]}),_:1}))}}),Ve=(F,v)=>{const M=F.__vccOpts||F;for(const[k,x]of v)M[k]=x;return M},va=Ve(fa,[["__scopeId","data-v-0023a999"]]),ma={class:"space-y-6 animate-fade-in pb-10"},xa={class:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col md:flex-row justify-between items-center gap-4"},ga=["value"],ka={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start"},ha={class:"space-y-6"},ya={class:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 transition-colors"},wa={class:"font-bold text-lg text-slate-800 dark:text-slate-100 mb-5 flex items-center gap-2 border-b border-slate-100 dark:border-slate-700 pb-3"},$a={key:0,class:"mb-4 bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-100 dark:border-blue-800 text-xs text-slate-600 dark:text-slate-300"},_a={class:"grid grid-cols-1 md:grid-cols-2 gap-5 mb-5"},Ma={class:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6"},Ca={class:"flex items-center justify-between mb-3"},Da={class:"text-[10px] font-bold bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 px-2 py-0.5 rounded-full"},Sa={class:"grid grid-cols-2 gap-4"},Ia={class:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-slate-200 dark:border-slate-600 shadow-sm text-center"},qa={class:"block text-2xl font-black text-slate-700 dark:text-white"},ja={class:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-slate-200 dark:border-slate-600 shadow-sm text-center"},Ta={class:"block text-2xl font-black text-slate-700 dark:text-white"},Ea={class:"flex items-center gap-3 pb-4 border-b border-slate-100 dark:border-slate-700"},Oa={class:"pt-4"},Aa={class:"font-bold text-sm text-slate-700 dark:text-slate-200 mb-3 flex items-center justify-between"},Va={class:"flex gap-2 mb-3"},Na=["disabled"],Ua={class:"flex flex-wrap gap-2 max-h-32 overflow-y-auto custom-scrollbar p-1"},za=["onClick"],Ba={key:0,class:"text-xs text-slate-400 italic"},Ra={class:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700"},Pa={class:"font-bold text-lg text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2"},Fa={key:0,class:"mb-4 bg-red-50 dark:bg-red-900/20 p-3 rounded-lg border border-red-100 dark:border-red-800 text-xs text-slate-600 dark:text-slate-300 animate-fade-in"},La={class:"bg-slate-50 dark:bg-slate-900/50 p-1 rounded-xl border border-slate-100 dark:border-slate-700"},Ha={class:"space-y-1 max-h-48 overflow-y-auto custom-scrollbar p-2"},Ga={key:0,class:"text-sm text-green-600 dark:text-green-400 flex items-center gap-2 p-2 font-medium"},Wa={class:"leading-snug"},Qa={class:"space-y-6"},Ya={key:0,class:"bg-slate-100 dark:bg-slate-800 border border-dashed border-slate-300 dark:border-slate-600 rounded-xl p-10 text-center flex flex-col items-center justify-center h-64"},Xa={key:1,class:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full flex flex-col"},Ja={class:"font-bold text-lg text-slate-800 dark:text-slate-100 mb-5 flex items-center gap-2 border-b border-slate-100 dark:border-slate-700 pb-3"},Ka={class:"flex flex-col gap-4 mb-6 bg-purple-50 dark:bg-purple-900/10 p-5 rounded-xl border border-purple-100 dark:border-purple-800/30 shadow-sm"},Za={class:"flex gap-4"},el={class:"flex-1"},tl={class:"flex-1"},sl={class:"flex gap-3 mt-2 pt-2 border-t border-purple-200 dark:border-purple-800/30"},al={key:0},ll={class:"flex-1 overflow-hidden flex flex-col"},ol={class:"font-bold text-sm text-slate-600 dark:text-slate-400 mb-3 flex items-center justify-between"},rl={class:"text-xs bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded-full"},nl={class:"space-y-3 overflow-y-auto custom-scrollbar flex-1 pr-1"},dl={key:0,class:"text-sm text-slate-400 italic text-center py-10 bg-slate-50 dark:bg-slate-900/30 rounded-xl border border-dashed border-slate-200"},il={class:"flex justify-between items-start"},ul={class:"flex flex-col gap-1"},cl={class:"text-sm font-bold text-slate-800 dark:text-slate-200"},pl={class:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400"},bl={class:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity"},fl=["onClick"],vl=["onClick"],ml={class:"mt-6 pt-4 border-t border-slate-100 dark:border-slate-700"},xl={class:"flex justify-between items-center mb-3"},gl={key:0,class:"text-xs text-blue-500 hover:underline",title:"Para adicionar, vÃ¡ na aba Squads"},kl={class:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar"},hl={key:0,class:"space-y-2"},yl={class:"flex items-center gap-2"},wl={class:"font-bold text-slate-700 dark:text-slate-200"},$l={class:"flex items-center gap-2"},_l={class:"flex flex-wrap gap-1"},Ml=["onClick"],Cl={key:1,class:"flex justify-between items-center"},Dl={class:"font-bold text-slate-700 dark:text-slate-300"},Sl={class:"flex items-center gap-2"},Il={class:"text-slate-500"},ql={key:0,class:"text-red-500 font-bold"},jl=["onClick"],Tl={key:0,class:"text-center italic text-slate-400 py-2"},El=Te({__name:"ProjectConfig",setup(F){const{config:v,addHolidayToSquad:M,removeHolidayFromSquad:k,addHoliday:x,removeHoliday:h,addSprintToSquad:V,updateSprintInSquad:D,removeSprintFromSquad:$,getSquadStats:y,projectCapacityStats:S,automaticRisks:q,updateMember:G,addMemberDayOff:u,removeMemberDayOff:Y}=Re(),i=A(""),c=A(null),b=A(""),U=A({calendarDays:0,workingDays:0,totalTeamCapacity:0}),L=A(""),K=A(""),fe=A(""),ne=A(null),ae=A(null),de=A(""),ve=A(8),z=H(()=>v.value.squads.find(j=>j.id===i.value));Ae([i,()=>{var j;return(j=z.value)==null?void 0:j.startDate},()=>{var j;return(j=z.value)==null?void 0:j.deadline},()=>{var j;return(j=z.value)==null?void 0:j.skipWeekends}],()=>{i.value&&(U.value=y(i.value))},{deep:!0});const me=j=>{c.value=c.value===j?null:j},he=()=>{b.value&&(i.value?M(i.value,b.value):x(b.value),b.value="")},Ie=j=>{i.value?k(i.value,j):h(j)},_e=()=>{i.value&&L.value&&K.value&&fe.value&&(ne.value?(D(i.value,ne.value,L.value,K.value,fe.value),P()):(V(i.value,L.value,K.value,fe.value),_()))},Ce=j=>{L.value=j.name,K.value=j.startDate,fe.value=j.endDate,ne.value=j.id},P=()=>{_(),ne.value=null},_=()=>{L.value="",K.value="",fe.value=""},ke=H(()=>i.value?v.value.teamMembers.filter(j=>j.squadIds.includes(i.value)):v.value.teamMembers),p=j=>{const o=v.value.teamMembers.findIndex(je=>je.name===j.name);o!==-1&&(ae.value=o,ve.value=v.value.teamMembers[o].capacity)},s=()=>{ae.value=null,de.value=""},Z=()=>{if(ae.value!==null){const j=v.value.teamMembers[ae.value];G(ae.value,j.name,ve.value,j.sector,j.squadIds),s()}},le=()=>{ae.value!==null&&de.value&&(u(ae.value,de.value),de.value="")},ce=j=>{ae.value!==null&&Y(ae.value,j)},pe=j=>oe(ee(j),"dd/MM/yyyy");return(j,o)=>{var je,Pe;return r(),n("div",ma,[e("div",xa,[o[17]||(o[17]=e("div",null,[e("h2",{class:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2"},[e("span",{class:"text-2xl"},"âš™ï¸"),Q(" ConfiguraÃ§Ã£o do Projeto")]),e("p",{class:"text-sm text-slate-500"},"Selecione o contexto que deseja gerenciar.")],-1)),E(e("select",{"onUpdate:modelValue":o[0]||(o[0]=O=>i.value=O),class:"w-full md:w-64 rounded-lg border-slate-300 dark:border-slate-600 p-2.5 text-sm dark:bg-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 font-bold shadow-sm"},[o[15]||(o[15]=e("option",{value:""},"ðŸŒ VisÃ£o Global do Projeto",-1)),o[16]||(o[16]=e("option",{disabled:""},"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€",-1)),(r(!0),n(B,null,R(m(v).squads,O=>(r(),n("option",{key:O.id,value:O.id},"Squad: "+f(O.name),9,ga))),128))],512),[[we,i.value]])]),e("div",ka,[e("div",ha,[e("div",ya,[e("h3",wa,[o[19]||(o[19]=e("div",{class:"p-1.5 bg-blue-100 dark:bg-blue-900/30 rounded-lg"},[e("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),Q(" "+f(i.value?"Tempo & Feriados da Squad":"DefiniÃ§Ãµes Globais")+" ",1),e("button",{onClick:o[1]||(o[1]=O=>me("general")),class:"ml-auto text-slate-400 hover:text-blue-500"},[...o[18]||(o[18]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])])]),c.value==="general"?(r(),n("div",$a," Defina o inÃ­cio e o fim deste contexto. O grÃ¡fico Gantt respeitarÃ¡ essas datas, mas se expandirÃ¡ caso haja tarefas fora do prazo. ")):C("",!0),e("div",_a,[e("div",null,[o[20]||(o[20]=e("label",{class:"block text-xs font-bold text-slate-600 dark:text-slate-300 uppercase mb-1.5"},"InÃ­cio",-1)),z.value?E((r(),n("input",{key:0,"onUpdate:modelValue":o[2]||(o[2]=O=>z.value.startDate=O),type:"date",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 text-sm dark:bg-slate-950 dark:text-white dark:[color-scheme:dark]"},null,512)),[[te,z.value.startDate]]):E((r(),n("input",{key:1,"onUpdate:modelValue":o[3]||(o[3]=O=>m(v).projectStartDate=O),type:"date",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 text-sm dark:bg-slate-950 dark:text-white dark:[color-scheme:dark]"},null,512)),[[te,m(v).projectStartDate]])]),e("div",null,[o[21]||(o[21]=e("label",{class:"block text-xs font-bold text-slate-600 dark:text-slate-300 uppercase mb-1.5"},"TÃ©rmino (Estimado)",-1)),z.value?E((r(),n("input",{key:0,"onUpdate:modelValue":o[4]||(o[4]=O=>z.value.deadline=O),type:"date",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 text-sm dark:bg-slate-950 dark:text-white dark:[color-scheme:dark]"},null,512)),[[te,z.value.deadline]]):E((r(),n("input",{key:1,"onUpdate:modelValue":o[5]||(o[5]=O=>m(v).deadline=O),type:"date",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 text-sm dark:bg-slate-950 dark:text-white dark:[color-scheme:dark]"},null,512)),[[te,m(v).deadline]])])]),e("div",Ma,[e("div",Ca,[o[22]||(o[22]=e("span",{class:"text-xs font-bold uppercase text-slate-500 dark:text-slate-400"},"Resumo de Capacidade",-1)),e("span",Da,f(z.value?U.value.totalTeamCapacity:m(S).totalTeamCapacity)+"h Totais ",1)]),e("div",Sa,[e("div",Ia,[e("span",qa,f(z.value?U.value.calendarDays:m(S).calendarDays),1),o[23]||(o[23]=e("span",{class:"text-[10px] font-bold text-slate-400 uppercase"},"Dias Corridos",-1))]),e("div",ja,[e("span",Ta,f(z.value?U.value.workingDays:m(S).workingDays),1),o[24]||(o[24]=e("span",{class:"text-[10px] font-bold text-slate-400 uppercase"},"Dias Ãšteis",-1))])])]),e("div",Ea,[z.value?E((r(),n("input",{key:0,"onUpdate:modelValue":o[6]||(o[6]=O=>z.value.skipWeekends=O),type:"checkbox",class:"w-5 h-5 rounded border-slate-300 text-blue-600 focus:ring-blue-500 cursor-pointer"},null,512)),[[Be,z.value.skipWeekends]]):E((r(),n("input",{key:1,"onUpdate:modelValue":o[7]||(o[7]=O=>m(v).skipWeekends=O),type:"checkbox",class:"w-5 h-5 rounded border-slate-300 text-blue-600 focus:ring-blue-500 cursor-pointer"},null,512)),[[Be,m(v).skipWeekends]]),o[25]||(o[25]=e("label",{class:"text-sm font-bold text-slate-700 dark:text-slate-200 cursor-pointer select-none"},"Pular Finais de Semana",-1))]),e("div",Oa,[e("h4",Aa,"Feriados "+f(z.value?"(EspecÃ­ficos)":"(Gerais)"),1),e("div",Va,[E(e("input",{"onUpdate:modelValue":o[8]||(o[8]=O=>b.value=O),type:"date",class:"flex-1 rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2 text-sm dark:bg-slate-950 dark:text-white dark:[color-scheme:dark]"},null,512),[[te,b.value]]),e("button",{onClick:he,class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-bold shadow-sm transition-colors disabled:opacity-50",disabled:!b.value},"+",8,Na)]),e("div",Ua,[(r(!0),n(B,null,R(z.value?z.value.holidays:m(v).holidays,O=>(r(),n("div",{key:O,class:"flex items-center bg-white dark:bg-slate-700 px-3 py-1.5 rounded-md text-xs font-medium border border-slate-200 dark:border-slate-600 shadow-sm text-slate-700 dark:text-slate-200 group"},[e("span",null,f(pe(O)),1),e("button",{onClick:ie=>Ie(O),class:"ml-2 text-slate-400 hover:text-red-500 font-bold opacity-0 group-hover:opacity-100 transition-opacity"},"Ã—",8,za)]))),128)),(z.value?z.value.holidays.length:m(v).holidays.length)===0?(r(),n("span",Ba,"Nenhum feriado cadastrado.")):C("",!0)])])]),e("div",Ra,[e("h3",Pa,[o[27]||(o[27]=e("div",{class:"p-1.5 bg-red-100 dark:bg-red-900/30 rounded-lg"},[e("svg",{class:"w-5 h-5 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),Q(" Riscos "+f(z.value?"da Squad":"do Projeto")+" ",1),e("button",{onClick:o[9]||(o[9]=O=>me("risks")),class:"ml-auto text-slate-400 hover:text-red-500"},[...o[26]||(o[26]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])])]),c.value==="risks"?(r(),n("div",Fa," Detectamos automaticamente: Sobrecarga de horas, conflitos com feriados/folgas e estouro de datas das Sprints. ")):C("",!0),e("div",La,[e("ul",Ha,[m(q).length===0?(r(),n("li",Ga,[...o[28]||(o[28]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Q(" Nenhum risco crÃ­tico detectado. ",-1)])])):C("",!0),(r(!0),n(B,null,R(m(q),(O,ie)=>(r(),n("li",{key:ie,class:"flex items-start gap-3 p-2 rounded-lg bg-white dark:bg-slate-800 border border-red-100 dark:border-red-900/30 shadow-sm text-xs text-slate-700 dark:text-slate-300"},[o[29]||(o[29]=e("span",{class:"mt-0.5 text-red-500 font-bold"},"â€¢",-1)),e("span",Wa,f(O),1)]))),128))])])])]),e("div",Qa,[i.value?(r(),n("div",Xa,[e("h3",Ja,[o[31]||(o[31]=e("div",{class:"p-1.5 bg-purple-100 dark:bg-purple-900/30 rounded-lg"},[e("svg",{class:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),Q(" Sprints da Squad "+f((je=z.value)==null?void 0:je.name),1)]),e("div",Ka,[e("div",null,[o[32]||(o[32]=e("label",{class:"block text-xs font-bold text-purple-800 dark:text-purple-300 mb-1.5 uppercase"},"Nome da Sprint",-1)),E(e("input",{"onUpdate:modelValue":o[10]||(o[10]=O=>L.value=O),type:"text",placeholder:"Ex: Sprint 24",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 text-sm text-slate-900 dark:text-white bg-white dark:bg-slate-950 focus:ring-2 focus:ring-purple-500 focus:outline-none placeholder-slate-400"},null,512),[[te,L.value]])]),e("div",Za,[e("div",el,[o[33]||(o[33]=e("label",{class:"block text-xs font-bold text-purple-800 dark:text-purple-300 mb-1.5 uppercase"},"InÃ­cio",-1)),E(e("input",{"onUpdate:modelValue":o[11]||(o[11]=O=>K.value=O),type:"date",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 text-sm text-slate-900 dark:text-white bg-white dark:bg-slate-950 focus:ring-2 focus:ring-purple-500 focus:outline-none dark:[color-scheme:dark]"},null,512),[[te,K.value]])]),e("div",tl,[o[34]||(o[34]=e("label",{class:"block text-xs font-bold text-purple-800 dark:text-purple-300 mb-1.5 uppercase"},"Fim",-1)),E(e("input",{"onUpdate:modelValue":o[12]||(o[12]=O=>fe.value=O),type:"date",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 shadow-sm p-2.5 text-sm text-slate-900 dark:text-white bg-white dark:bg-slate-950 focus:ring-2 focus:ring-purple-500 focus:outline-none dark:[color-scheme:dark]"},null,512),[[te,fe.value]])])]),e("div",sl,[ne.value?(r(),n("button",{key:0,onClick:P,class:"px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-bold hover:bg-slate-100 dark:hover:bg-slate-700 transition text-sm"},"Cancelar")):C("",!0),e("button",{onClick:_e,class:"flex-1 bg-purple-600 text-white px-4 py-2.5 rounded-lg text-sm font-bold hover:bg-purple-700 transition-colors shadow-lg shadow-purple-200 dark:shadow-none flex justify-center items-center gap-2"},[ne.value?C("",!0):(r(),n("span",al,"+")),Q(" "+f(ne.value?"Salvar AlteraÃ§Ãµes":"Criar Sprint"),1)])])]),e("div",ll,[e("h4",ol,[o[35]||(o[35]=Q(" Sprints Cadastradas ",-1)),e("span",rl,f(((Pe=z.value)==null?void 0:Pe.sprints.length)||0),1)]),e("div",nl,[!z.value||z.value.sprints.length===0?(r(),n("div",dl,"Nenhuma sprint criada para esta squad.")):(r(!0),n(B,{key:1},R(z.value.sprints,O=>(r(),n("div",{key:O.id,class:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-md hover:border-purple-200 dark:hover:border-purple-800 transition-all group"},[e("div",il,[e("div",ul,[e("span",cl,f(O.name),1),e("div",pl,[o[36]||(o[36]=e("svg",{class:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),Q(" "+f(pe(O.startDate))+" atÃ© "+f(pe(O.endDate)),1)])]),e("div",bl,[e("button",{onClick:ie=>Ce(O),class:"p-1.5 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded",title:"Editar"},[...o[37]||(o[37]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,fl),e("button",{onClick:ie=>m($)(i.value,O.id),class:"p-1.5 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded",title:"Excluir"},[...o[38]||(o[38]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,vl)])])]))),128))]),e("div",ml,[e("div",xl,[o[39]||(o[39]=e("h4",{class:"font-bold text-sm text-slate-600 dark:text-slate-400"},"Membros da Squad",-1)),ae.value===null?(r(),n("button",gl,"Gerenciar em Squads")):C("",!0)]),e("div",kl,[(r(!0),n(B,null,R(ke.value,O=>(r(),n("div",{key:O.name,class:"bg-slate-50 dark:bg-slate-900/50 p-2 rounded border border-slate-100 dark:border-slate-700 text-xs"},[ae.value!==null&&m(v).teamMembers[ae.value].name===O.name?(r(),n("div",hl,[e("div",yl,[e("span",wl,f(O.name),1),E(e("input",{"onUpdate:modelValue":o[13]||(o[13]=ie=>ve.value=ie),type:"number",class:"w-12 p-1 rounded border dark:bg-slate-800"},null,512),[[te,ve.value,void 0,{number:!0}]]),e("button",{onClick:Z,class:"text-green-600 font-bold"},"OK"),e("button",{onClick:s,class:"text-slate-400"},"X")]),e("div",$l,[E(e("input",{"onUpdate:modelValue":o[14]||(o[14]=ie=>de.value=ie),type:"date",class:"flex-1 p-1 rounded border dark:bg-slate-800 dark:[color-scheme:dark]"},null,512),[[te,de.value]]),e("button",{onClick:le,class:"text-blue-500 font-bold"},"+")]),e("div",_l,[(r(!0),n(B,null,R(O.daysOff,ie=>(r(),n("span",{key:ie,class:"bg-red-100 text-red-600 px-1 rounded flex items-center"},[Q(f(pe(ie))+" ",1),e("button",{onClick:Xe=>ce(ie),class:"ml-1 font-bold"},"Ã—",8,Ml)]))),128))])])):(r(),n("div",Cl,[e("span",Dl,f(O.name),1),e("div",Sl,[e("span",Il,f(O.capacity)+"h",1),O.daysOff.length?(r(),n("span",ql,f(O.daysOff.length)+" folgas",1)):C("",!0),e("button",{onClick:ie=>p(O),class:"text-blue-500 hover:text-blue-700"},"âš™ï¸",8,jl)])]))]))),128)),ke.value.length===0?(r(),n("div",Tl,"Sem membros vinculados.")):C("",!0)])])])])):(r(),n("div",Ya,[...o[30]||(o[30]=[e("svg",{class:"w-12 h-12 text-slate-400 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0z"})],-1),e("h3",{class:"text-lg font-bold text-slate-600 dark:text-slate-300"},"Selecione uma Squad",-1),e("p",{class:"text-sm text-slate-500 dark:text-slate-400 mt-1 max-w-xs"},"Para gerenciar Sprints e Membros, escolha uma Squad no menu acima.",-1)])]))])])])}}}),Ol=Ve(El,[["__scopeId","data-v-ea7db891"]]);function Al(){return{exportToPDF:(h,V,D)=>{const $=new Nt;$.setFontSize(18),$.setTextColor(40,40,40),$.text("RelatÃ³rio de Projeto: Gantt-ficator",14,20),$.setFontSize(10),$.setTextColor(100,100,100),$.text(`Gerado em: ${oe(new Date,"dd/MM/yyyy HH:mm")}`,14,26),$.setDrawColor(200,200,200),$.line(14,30,196,30),$.setFontSize(12),$.setTextColor(0,0,0),$.text("Resumo Executivo",14,38),$.setFontSize(10),$.text(`InÃ­cio: ${oe(new Date(V.projectStartDate),"dd/MM/yyyy")}`,14,45),$.text(`Deadline: ${oe(new Date(V.deadline),"dd/MM/yyyy")}`,80,45),$.text(`Equipe: ${V.teamMembers.length} membros`,140,45);let y=55;D.length>0&&($.setFillColor(254,242,242),$.rect(14,y,182,8+D.length*6,"F"),$.setFontSize(11),$.setTextColor(185,28,28),$.text("âš ï¸ Riscos e Alertas Identificados:",18,y+6),$.setFontSize(9),$.setTextColor(60,60,60),D.forEach((q,G)=>{$.text(`â€¢ ${q}`,18,y+12+G*6)}),y+=16+D.length*6);const S=h.map(q=>[q.name,q.type.toUpperCase(),q.responsible||"-",`${q.duration} dias`,q.effort?`${q.effort}h`:"-",q.formattedStartDate||"",q.formattedEndDate||""]);Ut($,{startY:y,head:[["Tarefa","Tipo","Resp.","DuraÃ§Ã£o","EsforÃ§o","InÃ­cio","Fim"]],body:S,theme:"grid",headStyles:{fillColor:[59,130,246]},styles:{fontSize:8},alternateRowStyles:{fillColor:[249,250,251]}}),$.save(`Gantt-Relatorio-${oe(new Date,"yyyy-MM-dd")}.pdf`)},exportToExcel:h=>{const V=h.map(y=>({ID:y.id,Nome:y.name,Tipo:y.type,Responsavel:y.responsible,Esforco_Horas:y.effort,Duracao_Dias:y.duration,Inicio:y.formattedStartDate,Fim:y.formattedEndDate,Dependencia:y.dependencyId})),D=Ue.json_to_sheet(V),$=Ue.book_new();Ue.book_append_sheet($,D,"Tarefas"),vt($,`Gantt-Export-${oe(new Date,"yyyy-MM-dd")}.xlsx`)},importFromExcel:h=>new Promise((V,D)=>{const $=new FileReader;$.onload=y=>{var S;try{const q=new Uint8Array((S=y.target)==null?void 0:S.result),G=Bt(q,{type:"array"}),u=G.Sheets[G.SheetNames[0]],i=Ue.sheet_to_json(u).map(c=>({id:c.ID||crypto.randomUUID(),name:c.Nome||"Sem Nome",duration:Number(c.Duracao_Dias)||1,type:c.Tipo||"other",responsible:c.Responsavel||"",effort:Number(c.Esforco_Horas)||0,dependencyId:c.Dependencia||null}));V(i)}catch(q){D(q)}},$.readAsArrayBuffer(h)}),downloadImportTemplate:()=>{const h=[{Nome:"Exemplo: Criar API",Tipo:"backend",Responsavel:"Nome do Membro",Esforco_Horas:8,Duracao_Dias:1,Dependencia:""},{Nome:"Exemplo: Criar Tela",Tipo:"frontend",Responsavel:"Outro Membro",Esforco_Horas:16,Duracao_Dias:2,Dependencia:""}],V=Ue.json_to_sheet(h),D=[{wch:30},{wch:15},{wch:20},{wch:15},{wch:15},{wch:15}];V["!cols"]=D;const $=Ue.book_new();Ue.book_append_sheet($,V,"Modelo Importacao"),vt($,"Modelo-Importacao-Gantt.xlsx")},clearAllData:()=>{localStorage.removeItem("gantt-pro-tasks"),localStorage.removeItem("gantt-pro-config")}}}const Vl={class:"grid grid-cols-2 md:grid-cols-6 gap-4 animate-fade-in mb-8"},Nl=Te({__name:"ProjectActions",setup(F){const{exportToExcel:v,exportToPDF:M,downloadImportTemplate:k,importFromExcel:x,clearAllData:h}=Al(),{tasks:V,config:D,importTasks:$,saveBaseline:y}=Re(),S=ct(),q=A(null),G=()=>{var i;(i=q.value)==null||i.click()},u=async i=>{const c=i.target;if(c.files&&c.files[0])try{const b=await x(c.files[0]);b&&b.length>0&&(confirm(`Encontradas ${b.length} tarefas. Deseja substituir as atuais (OK) ou adicionar (Cancelar)?`)?$(b):$([...V.value,...b]),S.show("ImportaÃ§Ã£o concluÃ­da com sucesso!","success"))}catch(b){console.error(b),S.show("Erro ao ler o arquivo Excel. Verifique se segue o modelo.","error")}finally{c.value=""}},Y=()=>{confirm("Tem certeza? Isso apagarÃ¡ todos os dados locais permanentemente.")&&(h(),window.location.reload())};return(i,c)=>(r(),n("div",Vl,[e("div",{class:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition-all group cursor-pointer flex flex-col items-center justify-center gap-2 text-center",onClick:c[0]||(c[0]=b=>m(v)(m(V)))},[...c[4]||(c[4]=[e("div",{class:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center text-green-600 dark:text-green-400 group-hover:scale-110 transition-transform"},[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),e("div",null,[e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 text-sm"},"Salvar Excel")],-1)])]),e("div",{class:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition-all group cursor-pointer flex flex-col items-center justify-center gap-2 text-center",onClick:c[1]||(c[1]=b=>m(M)(m(V),m(D),[]))},[...c[5]||(c[5]=[e("div",{class:"w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center text-red-600 dark:text-red-400 group-hover:scale-110 transition-transform"},[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})])],-1),e("div",null,[e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 text-sm"},"Gerar PDF")],-1)])]),e("div",{class:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition-all group cursor-pointer flex flex-col items-center justify-center gap-2 text-center",onClick:c[2]||(c[2]=(...b)=>m(k)&&m(k)(...b))},[...c[6]||(c[6]=[e("div",{class:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform"},[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})])],-1),e("div",null,[e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 text-sm"},"Baixar Modelo")],-1)])]),e("div",{class:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition-all group cursor-pointer flex flex-col items-center justify-center gap-2 text-center",onClick:G},[e("input",{type:"file",ref_key:"fileInput",ref:q,class:"hidden",onChange:u,accept:".xlsx"},null,544),c[7]||(c[7]=e("div",{class:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center text-purple-600 dark:text-purple-400 group-hover:scale-110 transition-transform"},[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})])],-1)),c[8]||(c[8]=e("div",null,[e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 text-sm"},"Importar Dados")],-1))]),e("div",{class:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition-all group cursor-pointer flex flex-col items-center justify-center gap-2 text-center",onClick:c[3]||(c[3]=(...b)=>m(y)&&m(y)(...b))},[...c[9]||(c[9]=[e("div",{class:"w-10 h-10 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg flex items-center justify-center text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition-transform"},[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})])],-1),e("div",null,[e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 text-sm"},"Definir Baseline")],-1)])]),e("div",{class:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-red-200 dark:border-red-900/50 shadow-sm hover:shadow-md transition-all group cursor-pointer flex flex-col items-center justify-center gap-2 text-center",onClick:Y},[...c[10]||(c[10]=[e("div",{class:"w-10 h-10 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center text-slate-500 dark:text-slate-400 group-hover:bg-red-100 dark:group-hover:bg-red-900/50 group-hover:text-red-600 transition-colors"},[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])],-1),e("div",null,[e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 text-sm group-hover:text-red-600 transition-colors"},"Resetar")],-1)])])]))}}),Ul=Ve(Nl,[["__scopeId","data-v-42c054d1"]]),zl={class:"bg-white dark:bg-slate-800 rounded-lg shadow overflow-hidden border border-slate-200 dark:border-slate-700 flex flex-col h-full select-none transition-colors duration-300"},Bl={class:"p-4 border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 flex flex-col gap-3 z-30 relative shadow-sm"},Rl={class:"flex flex-col lg:flex-row justify-between items-start lg:items-center w-full gap-4"},Pl={class:"flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full lg:w-auto"},Fl={key:0,class:"flex items-center gap-2"},Ll=["value"],Hl={class:"flex bg-slate-100 dark:bg-slate-700 rounded-lg p-1 gap-1 overflow-x-auto max-w-full"},Gl={key:1,class:"flex items-center gap-2 lg:ml-4 self-center sm:self-auto"},Wl={class:"text-sm font-bold text-slate-800 dark:text-slate-200 min-w-[120px] text-center select-none uppercase text-[11px] tracking-wide"},Ql={class:"relative ml-auto z-30 flex items-center gap-3"},Yl={class:"flex items-center bg-slate-100 dark:bg-slate-700 rounded-lg p-1 border border-slate-200 dark:border-slate-600"},Xl={class:"flex items-center gap-1"},Jl={class:"relative"},Kl={key:0,class:"w-4 h-4 animate-pulse",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Zl={key:1,class:"w-4 h-4 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},eo={key:2,class:"bg-red-500 text-white text-[9px] px-1 rounded-full"},to={key:0,class:"absolute right-0 top-full mt-2 w-80 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 overflow-hidden animate-fade-in z-50"},so={class:"p-3 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-between items-center"},ao={class:"max-h-60 overflow-y-auto p-2 custom-scrollbar"},lo={class:"space-y-1"},oo={key:0,class:"text-center p-4 text-slate-400 text-xs"},ro={class:"relative flex h-2 w-2"},no={key:0,class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"},io={class:"flex flex-col lg:flex-row items-stretch lg:items-center gap-2 pt-3 border-t border-slate-100 dark:border-slate-700"},uo={class:"relative group flex-1 max-w-full lg:max-w-xs"},co={class:"flex gap-2 w-full lg:w-auto"},po=["value"],bo={class:"sticky top-0 z-20 shadow-sm"},fo={class:"flex bg-slate-100 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 h-[25px] text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wider font-bold"},vo={class:"flex border-b border-slate-200 dark:border-slate-700 h-[30px] bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300"},mo=["title"],xo={class:"font-bold"},go={class:"text-[8px] uppercase"},ko={class:"relative"},ho={class:"absolute inset-0 flex pointer-events-none"},yo=["width","height"],wo=["d","stroke-width"],$o={class:"py-2 space-y-1 relative z-10"},_o={key:0,class:"sticky left-0 bg-slate-100/90 dark:bg-slate-800/90 backdrop-blur-sm border-y border-slate-200 dark:border-slate-700 px-4 py-1.5 text-xs font-bold text-slate-600 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2 z-10 my-2"},Mo={class:"ml-auto text-[9px] bg-slate-200 dark:bg-slate-700 px-1.5 rounded text-slate-500"},Co=["onMousedown"],Do={key:0,class:"bg-amber-100 dark:bg-amber-900 text-amber-700 dark:text-amber-200 rounded-full px-1 text-[9px] font-bold"},So={key:1,class:"bg-green-500 text-white rounded-full px-1 text-[9px] font-bold"},Io={key:1,class:"absolute right-1 top-0.5 w-5 h-5 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-[9px] font-bold border border-white/40 shadow-sm"},qo={key:0,class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4"},jo={class:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[80vh]"},To={class:"p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-indigo-50 dark:bg-indigo-900/20"},Eo={class:"p-6 overflow-y-auto custom-scrollbar space-y-4"},Oo={key:0,class:"space-y-2"},Ao={class:"text-xl mt-[-2px]"},Vo={class:"p-4 border-t border-slate-100 dark:border-slate-700 flex justify-end"},No=Te({__name:"GanttChart",setup(F){const{filteredTasks:v,config:M,totalProjectDays:k,setEditingTask:x,editingTask:h,criticalPathIds:V,viewMode:D,visibleDateRange:$,setViewMode:y,navigateView:S,currentViewDate:q,filterSearch:G,filterResponsible:u,filterType:Y,filterSquad:i,moveTask:c,automaticRisks:b,getOptimizationSuggestions:U,createSnapshot:L,restoreSnapshot:K,tasksSnapshot:fe}=Re(),ne=A(!1),ae=A(!1),de=A(null),ve=A(0),z=A("none"),me=A(!1),he=A(null),Ie=A(0),_e=A(0),Ce=A(!1),P=A([]),_=()=>{fe.value||L(),P.value=U(),Ce.value=!0},ke=()=>{confirm("Deseja descartar todas as alteraÃ§Ãµes atuais e voltar para o ponto salvo?")&&K()},p=()=>{L()},s=(a,t)=>{a.button!==0||D.value==="month"||(a.stopPropagation(),me.value=!0,he.value=t.id,Ie.value=a.clientX,_e.value=a.clientX,window.addEventListener("mousemove",Z),window.addEventListener("mouseup",le))},Z=a=>{me.value&&(_e.value=a.clientX)},le=()=>{if(!me.value)return;const a=_e.value-Ie.value;if(Math.abs(a)<5){const t=v.value.find(l=>l.id===he.value);t&&x(t)}else{const t=Math.round(a/j.value);if(t!==0){const l=v.value.find(d=>d.id===he.value);if(l&&l.startDate){const d=Ee(l.startDate,t);c(l.id,d)}}}me.value=!1,he.value=null,window.removeEventListener("mousemove",Z),window.removeEventListener("mouseup",le)},ce=()=>{de.value&&(ve.value=de.value.clientWidth)};let pe=null;$t(()=>{ce(),window.addEventListener("resize",ce),de.value&&(pe=new ResizeObserver(()=>ce()),pe.observe(de.value)),Tt(()=>{de.value&&(de.value.scrollLeft=0)})}),Et(()=>{window.removeEventListener("resize",ce),pe&&pe.disconnect()});const j=H(()=>{switch(D.value){case"week":return ve.value>0?ve.value/7:100;case"month":return 40;default:return 40}}),o=H(()=>D.value==="week"?ve.value:k.value*j.value),je=a=>{if(!a.startDate)return{};const t=$.value.start;let d=Me(a.startDate,t)*j.value;if(me.value&&he.value===a.id){const g=_e.value-Ie.value;d+=g}return{left:d+"px",width:(a.calendarDuration||1)*j.value+"px",backgroundColor:a.isMilestone?"#1e293b":a.color,cursor:D.value==="month"?"default":me.value?"grabbing":"grab",zIndex:me.value&&he.value===a.id?50:10}},Pe=H(()=>{if(z.value==="none")return[{id:"all",title:"",tasks:v.value}];const a={};return v.value.forEach(t=>{let l="";if(z.value==="responsible")l=t.responsible||"Sem ResponsÃ¡vel";else if(z.value==="sprint")if(t.sprintId){const d=M.value.sprints.find(g=>g.id===t.sprintId);if(d)if(!i.value&&d.squadId){const g=M.value.squads.find(I=>I.id===d.squadId);l=g?`${g.name} : ${d.name}`:d.name}else l=d.name;else l="Sprint Desconhecida"}else l="NÃ£o Planejado";a[l]||(a[l]=[]),a[l].push(t)}),Object.keys(a).sort().map(t=>({id:t,title:t,tasks:a[t]}))}),O=H(()=>{if(D.value==="project")return"VisÃ£o Geral";const a=q.value;if(D.value==="month")return oe(a,"MMMM yyyy",{locale:Ke}).toUpperCase();if(D.value==="week"){const t=yt(a,{weekStartsOn:0}),l=ht(a,{weekStartsOn:0});return`${oe(t,"dd/MM")} - ${oe(l,"dd/MM")}`}return""}),ie=H(()=>{const a=$.value.start;return Array.from({length:k.value},(t,l)=>{const d=Ee(a,l),g=oe(d,"yyyy-MM-dd");return{date:d,label:oe(d,"dd",{locale:Ke}),dayName:oe(d,"EEE",{locale:Ke}).replace(".","").toUpperCase(),fullDate:oe(d,"dd/MM/yyyy"),isWeekend:it(d),isHoliday:M.value.holidays.includes(g)}})}),Xe=H(()=>{if(ie.value.length===0)return[];const a=[];let t="",l=0;return ie.value.forEach((d,g)=>{const I=oe(d.date,"MMMM yyyy",{locale:Ke});I!==t?(t!==""&&a.push({label:t,count:l}),t=I,l=1):l++,g===ie.value.length-1&&a.push({label:t,count:l})}),a}),at=H(()=>{const a=[];if(z.value!=="none")return[];const t=new Map;return v.value.forEach((l,d)=>t.set(l.id,{index:d,task:l})),v.value.forEach((l,d)=>{if(l.dependencyId&&t.has(l.dependencyId)){const g=t.get(l.dependencyId),I=$.value.start,T=(Me(g.task.startDate,I)+(g.task.isMilestone?1:g.task.calendarDuration||1))*j.value,J=g.index*40+20,xe=Me(l.startDate,I)*j.value,re=d*40+20,W=15,be=`M ${T} ${J} L ${T+W} ${J} L ${T+W} ${re} L ${xe} ${re}`,De=V.value.includes(l.id)&&V.value.includes(g.task.id);a.push({path:be,isCritical:De})}}),a}),lt=a=>a?a.split(" ").map(t=>t[0]).slice(0,2).join("").toUpperCase():"?",We=a=>{if(a.isMilestone||!a.effort||!a.duration||a.isCompleted)return!1;const t=M.value.teamMembers.find(d=>d.name===a.responsible),l=t?t.capacity:8;return a.effort>a.duration*l},ot=()=>{G.value="",u.value="",Y.value=""},rt=H(()=>G.value||u.value||Y.value);return(a,t)=>(r(),n("div",zl,[e("div",Bl,[e("div",Rl,[e("div",Pl,[t[18]||(t[18]=e("h2",{class:"font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2"},"Gantt",-1)),m(M).squads.length>0?(r(),n("div",Fl,[E(e("select",{"onUpdate:modelValue":t[0]||(t[0]=l=>Ze(i)?i.value=l:null),class:"bg-indigo-50 dark:bg-slate-950 text-indigo-700 dark:text-indigo-100 font-bold text-xs py-1.5 px-2 rounded border border-indigo-200 dark:border-indigo-900 cursor-pointer focus:ring-2 focus:ring-indigo-500 outline-none transition-colors dark:[color-scheme:dark]"},[t[17]||(t[17]=e("option",{value:""},"Todas as Squads (Overview)",-1)),(r(!0),n(B,null,R(m(M).squads,l=>(r(),n("option",{key:l.id,value:l.id},f(l.name),9,Ll))),128))],512),[[we,m(i)]])])):C("",!0),e("div",Hl,[e("button",{onClick:t[1]||(t[1]=l=>m(y)("project")),class:X(["px-3 py-1 text-xs font-medium rounded transition-all whitespace-nowrap",m(D)==="project"?"bg-white dark:bg-slate-600 text-blue-600 dark:text-blue-300 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"])}," Projeto ",2),e("button",{onClick:t[2]||(t[2]=l=>m(y)("month")),class:X(["px-3 py-1 text-xs font-medium rounded transition-all whitespace-nowrap",m(D)==="month"?"bg-white dark:bg-slate-600 text-blue-600 dark:text-blue-300 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"])}," MÃªs ",2),e("button",{onClick:t[3]||(t[3]=l=>m(y)("week")),class:X(["px-3 py-1 text-xs font-medium rounded transition-all whitespace-nowrap",m(D)==="week"?"bg-white dark:bg-slate-600 text-blue-600 dark:text-blue-300 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"])}," Semana ",2)]),m(D)!=="project"?(r(),n("div",Gl,[e("button",{onClick:t[4]||(t[4]=l=>m(S)("prev")),class:"w-7 h-7 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-600 transition-colors"},"<"),e("span",Wl,f(O.value),1),e("button",{onClick:t[5]||(t[5]=l=>m(S)("next")),class:"w-7 h-7 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-600 transition-colors"},">")])):C("",!0)]),e("div",Ql,[e("div",Yl,[e("button",{onClick:t[6]||(t[6]=l=>z.value="none"),class:X(["px-2 py-1 text-[10px] uppercase font-bold rounded",z.value==="none"?"bg-white dark:bg-slate-600 shadow-sm text-slate-800 dark:text-white":"text-slate-400 hover:text-slate-600"])},"Lista",2),e("button",{onClick:t[7]||(t[7]=l=>z.value="responsible"),class:X(["px-2 py-1 text-[10px] uppercase font-bold rounded",z.value==="responsible"?"bg-white dark:bg-slate-600 shadow-sm text-slate-800 dark:text-white":"text-slate-400 hover:text-slate-600"])},"Pessoa",2),e("button",{onClick:t[8]||(t[8]=l=>z.value="sprint"),class:X(["px-2 py-1 text-[10px] uppercase font-bold rounded",z.value==="sprint"?"bg-white dark:bg-slate-600 shadow-sm text-slate-800 dark:text-white":"text-slate-400 hover:text-slate-600"])},"Sprint",2)]),e("div",Xl,[e("button",{onClick:p,class:"p-1.5 rounded-lg border transition-all text-xs font-bold text-slate-500 border-slate-200 hover:bg-slate-100 dark:text-slate-400 dark:border-slate-600 dark:hover:bg-slate-700",title:"Salvar Estado Atual (Backup)"},[...t[19]||(t[19]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1)])]),m(fe)?(r(),n("button",{key:0,onClick:ke,class:"p-1.5 rounded-lg border transition-all text-xs font-bold bg-amber-50 text-amber-600 border-amber-200 hover:bg-amber-100 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800",title:"Desfazer AlteraÃ§Ãµes (Restaurar Backup)"},[...t[20]||(t[20]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})],-1)])])):C("",!0),e("button",{onClick:_,class:"flex items-center gap-2 px-3 py-1.5 rounded-lg border transition-all text-xs font-bold bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-100"},[...t[21]||(t[21]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1),e("span",{class:"hidden xl:inline"},"Otimizar",-1)])])]),e("div",Jl,[e("button",{onClick:t[9]||(t[9]=l=>ae.value=!ae.value),class:X(["flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all shadow-sm border",m(b).length>0?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 border-red-200 dark:border-red-800 hover:bg-red-100":"bg-white dark:bg-slate-800 text-slate-500 border-slate-200 hover:bg-slate-50"])},[m(b).length>0?(r(),n("svg",Kl,[...t[22]||(t[22]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)])])):(r(),n("svg",Zl,[...t[23]||(t[23]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),t[24]||(t[24]=e("span",{class:"hidden xl:inline"},"Riscos",-1)),m(b).length>0?(r(),n("span",eo,f(m(b).length),1)):C("",!0)],2),ae.value?(r(),n("div",to,[e("div",so,[t[25]||(t[25]=e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 text-xs"},"Alertas",-1)),e("button",{onClick:t[10]||(t[10]=l=>ae.value=!1),class:"text-slate-400 hover:text-slate-600"},"Ã—")]),e("div",ao,[e("ul",lo,[(r(!0),n(B,null,R(m(b),(l,d)=>(r(),n("li",{key:d,class:"text-[10px] p-2 rounded bg-red-50 dark:bg-red-900/10 text-red-800 dark:text-red-300 border border-red-100 dark:border-red-900/30"},f(l),1))),128))]),m(b).length===0?(r(),n("div",oo,"Sem riscos.")):C("",!0)])])):C("",!0)]),e("button",{onClick:t[11]||(t[11]=l=>ne.value=!ne.value),class:X(["flex items-center gap-2 px-3 py-1.5 rounded-full border transition-all text-xs font-bold",ne.value?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 border-red-200":"bg-slate-50 dark:bg-slate-700 text-slate-500 border-slate-200 hover:bg-slate-100"])},[e("span",ro,[ne.value?(r(),n("span",no)):C("",!0),e("span",{class:X(["relative inline-flex rounded-full h-2 w-2",ne.value?"bg-red-500":"bg-slate-400"])},null,2)]),t[26]||(t[26]=e("span",{class:"hidden md:inline"},"Caminho CrÃ­tico",-1))],2)])]),e("div",io,[e("div",uo,[t[27]||(t[27]=e("div",{class:"absolute inset-y-0 left-0 pl-2 flex items-center pointer-events-none"},[e("svg",{class:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),E(e("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>Ze(G)?G.value=l:null),type:"text",placeholder:"Buscar tarefa...",class:"w-full pl-8 pr-2 py-1.5 text-xs rounded border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:bg-white dark:focus:bg-slate-800 focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all placeholder-slate-400"},null,512),[[te,m(G)]])]),e("div",co,[E(e("select",{"onUpdate:modelValue":t[13]||(t[13]=l=>Ze(u)?u.value=l:null),class:"flex-1 lg:flex-none py-1.5 pl-2 pr-6 text-xs rounded border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:bg-white dark:focus:bg-slate-800 focus:ring-2 focus:ring-blue-500 focus:outline-none"},[t[28]||(t[28]=e("option",{value:""},"Todos Resp.",-1)),(r(!0),n(B,null,R(m(M).teamMembers,l=>(r(),n("option",{key:l.name,value:l.name},f(l.name),9,po))),128))],512),[[we,m(u)]]),E(e("select",{"onUpdate:modelValue":t[14]||(t[14]=l=>Ze(Y)?Y.value=l:null),class:"flex-1 lg:flex-none py-1.5 pl-2 pr-6 text-xs rounded border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:bg-white dark:focus:bg-slate-800 focus:ring-2 focus:ring-blue-500 focus:outline-none"},[...t[29]||(t[29]=[Ot('<option value="" data-v-ac432a1d>Todos Tipos</option><option value="frontend" data-v-ac432a1d>Front</option><option value="backend" data-v-ac432a1d>Back</option><option value="qualidade" data-v-ac432a1d>QA</option><option value="other" data-v-ac432a1d>Outro</option>',5)])],512),[[we,m(Y)]])]),rt.value?(r(),n("button",{key:0,onClick:ot,class:"text-xs text-red-500 hover:text-red-700 px-2 py-1.5 flex items-center gap-1"},[...t[30]||(t[30]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),Q(" Limpar ",-1)])])):C("",!0)])]),e("div",{ref_key:"ganttContainer",ref:de,class:"overflow-x-auto flex-1 relative custom-scrollbar bg-slate-50 dark:bg-slate-900/50"},[e("div",{style:qe({width:o.value+"px"}),class:"relative min-h-[400px]"},[e("div",bo,[e("div",fo,[(r(!0),n(B,null,R(Xe.value,(l,d)=>(r(),n("div",{key:d,class:"flex items-center pl-2 border-r border-slate-200 dark:border-slate-700 whitespace-nowrap overflow-hidden",style:qe({width:l.count*j.value+"px"})},f(l.label),5))),128))]),e("div",vo,[(r(!0),n(B,null,R(ie.value,(l,d)=>(r(),n("div",{key:d,class:X(["flex-shrink-0 border-r border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center text-[10px] select-none transition-colors",{"bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 font-bold":l.isHoliday,"bg-red-50/50 dark:bg-red-900/20 text-red-300 dark:text-red-400":l.isWeekend&&!l.isHoliday,"bg-white dark:bg-slate-800":!l.isWeekend&&!l.isHoliday}]),style:qe({width:j.value+"px"}),title:l.fullDate},[e("span",xo,f(l.label),1),e("span",go,f(l.dayName),1)],14,mo))),128))])]),e("div",ko,[e("div",ho,[(r(!0),n(B,null,R(ie.value,(l,d)=>(r(),n("div",{key:d,class:X(["border-r border-slate-200/50 dark:border-slate-700/50 h-full box-border",{"bg-purple-50/40 dark:bg-purple-900/10":l.isHoliday,"bg-red-50/30 dark:bg-red-900/10":l.isWeekend&&!l.isHoliday}]),style:qe({width:j.value+"px"})},null,6))),128))]),(r(),n("svg",{class:"absolute inset-0 pointer-events-none z-0",width:o.value,height:m(v).length*40+50,style:{overflow:"visible"}},[(r(!0),n(B,null,R(at.value,(l,d)=>(r(),n("path",{key:d,d:l.path,fill:"none",class:X(["transition-colors duration-300",l.isCritical&&ne.value?"stroke-red-500":"stroke-slate-300 dark:stroke-slate-600"]),"stroke-width":l.isCritical&&ne.value?2:1.5,"stroke-linejoin":"round"},null,10,wo))),128))],8,yo)),e("div",$o,[(r(!0),n(B,null,R(Pe.value,l=>(r(),n("div",{key:l.id},[z.value!=="none"?(r(),n("div",_o,[t[31]||(t[31]=e("span",{class:"w-1.5 h-1.5 rounded-full bg-slate-400"},null,-1)),Q(" "+f(l.title)+" ",1),e("span",Mo,f(l.tasks.length),1)])):C("",!0),(r(!0),n(B,null,R(l.tasks,d=>{var g,I;return r(),n("div",{key:d.id,class:"relative h-10 flex items-center group"},[t[32]||(t[32]=e("div",{class:"absolute inset-x-0 h-full bg-blue-50/0 dark:group-hover:bg-blue-900/20 group-hover:bg-blue-50/50 transition-colors pointer-events-none"},null,-1)),e("div",{class:X(["absolute h-7 rounded-md shadow-sm text-[11px] text-white flex items-center px-2 transition-all z-10 overflow-hidden",{"ring-2 ring-blue-500 ring-offset-2 ring-offset-white dark:ring-offset-slate-900":((g=m(h))==null?void 0:g.id)===d.id,"border-2 border-amber-400":We(d),"ring-2 ring-red-500 shadow-[0_0_10px_rgba(239,68,68,0.6)] z-20":ne.value&&m(V).includes(d.id),"opacity-40 grayscale":ne.value&&!m(V).includes(d.id)&&((I=m(h))==null?void 0:I.id)!==d.id,"opacity-60":d.isCompleted,"shadow-lg scale-[1.02]":me.value&&he.value===d.id,"border-2 border-dashed border-slate-300":d.isNotPlanned&&!We(d),"rotate-45 !w-5 !h-5 !rounded-sm !p-0 justify-center ml-2.5":d.isMilestone}]),onMousedown:N=>s(N,d),style:qe(je(d))},[d.isMilestone?C("",!0):(r(),n("span",{key:0,class:X(["truncate font-medium drop-shadow-md flex items-center gap-2",{"line-through text-white/80":d.isCompleted}])},[Q(f(d.name)+" ",1),We(d)?(r(),n("span",Do,"âš ï¸")):C("",!0),d.isCompleted?(r(),n("span",So,"âœ“")):C("",!0)],2)),d.responsible&&!d.isMilestone?(r(),n("div",Io,f(lt(d.responsible)),1)):C("",!0)],46,Co),d.isMilestone?(r(),n("span",{key:0,class:"absolute text-xs font-bold text-slate-700 dark:text-slate-200 whitespace-nowrap ml-2 z-20 pointer-events-none",style:qe({left:parseInt(je(d).left)+25+"px"})},f(d.name),5)):C("",!0)])}),128))]))),128))])])],4)],512),Ce.value?(r(),n("div",qo,[e("div",jo,[e("div",To,[t[33]||(t[33]=e("h3",{class:"font-bold text-indigo-800 dark:text-indigo-200 flex items-center gap-2"},[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),Q(" SugestÃµes de OtimizaÃ§Ã£o de Sprint ")],-1)),e("button",{onClick:t[15]||(t[15]=l=>Ce.value=!1),class:"text-slate-400 hover:text-slate-600"},"Ã—")]),e("div",Eo,[t[34]||(t[34]=e("p",{class:"text-sm text-slate-600 dark:text-slate-300"},"Analisamos as prioridades (Meta > Item), dependÃªncias e capacidade da equipe para sugerir a melhor ordem de execuÃ§Ã£o:",-1)),P.value.length>0?(r(),n("div",Oo,[(r(!0),n(B,null,R(P.value,(l,d)=>(r(),n("div",{key:d,class:X(["p-3 rounded border text-sm flex gap-3 items-start",l.includes("PRIORIDADE")?"bg-amber-50 border-amber-200 text-amber-800 dark:bg-amber-900/20 dark:border-amber-800 dark:text-amber-200":l.includes("SOBRECARGA")?"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-200":l.includes("SEQUÃŠNCIA")?"bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-200":"bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-800 dark:text-green-200"])},[e("span",Ao,f(l.includes("PRIORIDADE")?"âš¡":l.includes("SOBRECARGA")?"âš ï¸":l.includes("SEQUÃŠNCIA")?"ðŸ”¢":"âœ…"),1),e("span",null,f(l),1)],2))),128))])):C("",!0)]),e("div",Vo,[e("button",{onClick:t[16]||(t[16]=l=>Ce.value=!1),class:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded font-bold text-sm"},"Entendido")])])])):C("",!0)]))}}),Uo=Ve(No,[["__scopeId","data-v-ac432a1d"]]),zo={class:"space-y-6 animate-fade-in"},Bo={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Ro={class:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between transition-colors"},Po={class:"text-3xl font-black text-slate-700 dark:text-slate-200 mt-1"},Fo={class:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between transition-colors"},Lo={class:"text-3xl font-black text-green-600 dark:text-green-500 mt-1"},Ho={class:"flex gap-2 text-xs mt-2"},Go={class:"text-green-600 dark:text-green-500 font-bold"},Wo={key:0,class:"text-red-500 dark:text-red-400 font-bold"},Qo={class:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between relative overflow-hidden transition-colors"},Yo={class:"text-3xl font-black text-slate-700 dark:text-slate-200 mt-1"},Xo={class:"text-lg text-slate-400 dark:text-slate-600 font-normal"},Jo={key:0,class:"absolute right-0 top-0 bottom-0 w-1 bg-amber-400"},Ko={class:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between transition-colors"},Zo={class:"flex items-end gap-2 mt-1"},er={class:"text-3xl font-black text-slate-700 dark:text-slate-200"},tr={class:"w-full bg-slate-100 dark:bg-slate-700 h-2 rounded-full mt-2 overflow-hidden"},sr={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ar={class:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 transition-colors"},lr={key:0,class:"text-center py-8 text-slate-400 dark:text-slate-500 text-sm"},or={class:"space-y-4"},rr={class:"flex justify-between text-xs mb-1"},nr={class:"font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2"},dr={class:"text-[9px] bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 px-1 rounded font-normal"},ir={class:"w-full bg-slate-100 dark:bg-slate-700 h-2.5 rounded-full overflow-hidden relative"},ur={key:0,class:"text-[10px] text-red-500 dark:text-red-400 mt-0.5"},cr={class:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 transition-colors"},pr={key:0,class:"text-center py-8 text-slate-400 dark:text-slate-500 text-sm"},br={class:"space-y-4"},fr={class:"flex justify-between text-xs mb-1"},vr={class:"font-bold text-slate-700 dark:text-slate-300"},mr={class:"text-slate-400 dark:text-slate-500 font-normal"},xr={class:"text-slate-500 dark:text-slate-400"},gr={class:"w-full bg-slate-100 dark:bg-slate-700 h-6 rounded-lg overflow-hidden relative border border-slate-200 dark:border-slate-600"},kr={key:0,class:"text-[10px] text-white font-bold"},hr={key:0,class:"absolute inset-0 flex items-center justify-center text-[10px] text-slate-500 dark:text-slate-400 font-bold"},yr={class:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700"},wr={class:"flex gap-2 flex-wrap"},$r={class:"text-[10px] text-slate-500 dark:text-slate-400 uppercase font-bold"},_r={class:"text-lg font-black text-slate-700 dark:text-slate-200"},Mr={class:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 transition-colors h-full"},Cr={class:"flex justify-between items-center mb-4"},Dr={key:0,class:"bg-red-100 text-red-700 px-2 py-0.5 rounded text-xs font-bold"},Sr={key:0,class:"text-center py-8 bg-slate-50 dark:bg-slate-700/30 rounded-lg border border-dashed border-slate-200 dark:border-slate-700"},Ir={key:1,class:"space-y-3"},qr={class:"flex flex-col min-w-0"},jr={class:"font-bold text-slate-700 dark:text-slate-200 text-sm truncate flex items-center gap-1"},Tr={key:0},Er={class:"text-[10px] text-slate-500 dark:text-slate-400"},Or={class:"flex flex-col items-end flex-shrink-0"},Ar={class:"text-red-600 dark:text-red-400 font-black text-sm"},Vr={class:"text-[10px] text-slate-400"},Nr={key:0,class:"text-center text-xs text-slate-400 italic pt-2"},Ur={key:0,class:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl p-5 shadow-sm animate-fade-in transition-colors"},zr={class:"text-slate-700 dark:text-slate-200 font-bold text-base mb-4 flex items-center gap-2"},Br={class:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-[10px] px-2 py-0.5 rounded-full font-extrabold"},Rr={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Pr={class:"flex-shrink-0 mt-0.5 p-1.5 bg-white/50 dark:bg-black/20 rounded-full"},Fr={class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Lr=["d"],Hr={class:"flex-1 min-w-0"},Gr={class:"text-xs font-black uppercase tracking-wide opacity-80 mb-0.5"},Wr={class:"text-sm font-medium leading-snug"},Qr=Te({__name:"DashboardView",setup(F){const{tasks:v,config:M,automaticRisks:k,projectCapacityStats:x,computedTasks:h}=Re(),V=H(()=>v.value.length),D=H(()=>{const i=new Date(M.value.projectStartDate),c=new Date(M.value.deadline),b=new Date,U=Me(c,i),L=Me(b,i);return L<0?0:L>U?100:Math.round(L/U*100)}),$=H(()=>{const i=h.value.filter(L=>L.isCompleted),c=i.length;let b=0,U=0;return i.forEach(L=>{if(!L.completedDate||!L.endDate)return;const K=se(ee(L.completedDate));Ye(K,L.endDate)?U++:b++}),{total:c,onTime:b,late:U}}),y=H(()=>{const i=v.value.filter(U=>U.isNotPlanned),c=i.length,b=i.filter(U=>!U.isCompleted).length;return{total:c,open:b}}),S=H(()=>M.value.teamMembers.map(i=>{const c=v.value.filter(K=>K.responsible===i.name&&!K.isCompleted&&!K.isMilestone).reduce((K,fe)=>K+(fe.effort||0),0),b=x.value.memberStats.find(K=>K.name===i.name),U=b?b.totalCapacity:0,L=U>0?Math.round(c/U*100):0;return{name:i.name,assigned:c,capacity:U,percentage:L,isOverloaded:c>U,sector:i.sector||"Outro"}})),q=H(()=>{const i={frontend:0,backend:0,qualidade:0,other:0};return v.value.forEach(c=>{c.type in i?i[c.type]++:i.other++}),[{label:"Front-end",value:i.frontend,color:"bg-blue-500"},{label:"Back-end",value:i.backend,color:"bg-green-500"},{label:"Qualidade",value:i.qualidade,color:"bg-purple-500"},{label:"Outros",value:i.other,color:"bg-gray-400"}].filter(c=>c.value>0)}),G=H(()=>{const i={};return S.value.forEach(c=>{i[c.sector]||(i[c.sector]={totalCapacity:0,assignedEffort:0,memberCount:0}),i[c.sector].totalCapacity+=c.capacity,i[c.sector].assignedEffort+=c.assigned,i[c.sector].memberCount+=1}),Object.entries(i).map(([c,b])=>({name:c,...b,percentage:b.totalCapacity>0?Math.round(b.assignedEffort/b.totalCapacity*100):0}))}),u=H(()=>{const i=[];let c=0;return h.value.forEach(b=>{if(b.originalEndDate&&b.endDate){const U=ee(b.originalEndDate),L=Me(b.endDate,U);L>0&&(i.push({name:b.name,responsible:b.responsible||"N/A",delay:L,planned:oe(U,"dd/MM"),current:oe(b.endDate,"dd/MM"),isMilestone:b.isMilestone}),c+=L)}}),{count:i.length,totalDelay:c,tasks:i.sort((b,U)=>U.delay-b.delay).slice(0,5)}}),Y=H(()=>k.value.map(i=>{let c="INFO",b="Aviso",U=i,L="bg-slate-50 dark:bg-slate-900/50 border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300",K="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z";return i.includes("CAPACIDADE:")?(c="CAPACIDADE",b="Sobrecarga Detectada",U=i.replace("CAPACIDADE:","").trim(),L="bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800 text-amber-800 dark:text-amber-200",K="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"):i.includes("SPRINT:")?(c="SPRINT",b="Conflito de Sprint",U=i.replace("SPRINT:","").trim(),L="bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800 text-purple-800 dark:text-purple-200",K="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"):i.includes("CALENDÃRIO:")||i.includes("feriado")?(c="CALENDÃRIO",b="Conflito de Agenda",U=i.replace("CALENDÃRIO:","").trim(),L="bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200",K="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"):(i.includes("CARRY-OVER:")||i.includes("NÃ£o Planejadas"))&&(c="RISCO",b="Risco de Entrega",U=i.replace("CARRY-OVER:","").trim(),L="bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200",K="M13 10V3L4 14h7v7l9-11h-7z"),{type:c,title:b,message:U,styles:L,icon:K}}));return(i,c)=>(r(),n("div",zo,[e("div",Bo,[e("div",Ro,[c[0]||(c[0]=e("span",{class:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider"},"Total de Tarefas",-1)),e("div",Po,f(V.value),1),c[1]||(c[1]=e("div",{class:"text-xs text-slate-400 dark:text-slate-500 mt-2"},"No cronograma",-1))]),e("div",Fo,[c[2]||(c[2]=e("span",{class:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider"},"ConcluÃ­das",-1)),e("div",Lo,f($.value.total),1),e("div",Ho,[e("span",Go,f($.value.onTime)+" no prazo",1),$.value.late>0?(r(),n("span",Wo,f($.value.late)+" com atraso",1)):C("",!0)])]),e("div",Qo,[c[3]||(c[3]=e("span",{class:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider"},"NÃ£o Planejadas",-1)),e("div",Yo,[Q(f(y.value.open)+" ",1),e("span",Xo,"/ "+f(y.value.total),1)]),c[4]||(c[4]=e("div",{class:"text-xs text-slate-400 dark:text-slate-500 mt-2"},"Tarefas abertas sem Sprint",-1)),y.value.open>0?(r(),n("div",Jo)):C("",!0)]),e("div",Ko,[c[5]||(c[5]=e("span",{class:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider"},"Tempo Decorrido",-1)),e("div",Zo,[e("span",er,f(D.value)+"%",1)]),e("div",tr,[e("div",{class:"bg-slate-800 dark:bg-slate-400 h-full rounded-full transition-all duration-1000",style:qe({width:D.value+"%"})},null,4)])])]),e("div",sr,[e("div",ar,[c[6]||(c[6]=e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0z"})]),Q(" Carga de Trabalho (Individual) ")],-1)),S.value.length===0?(r(),n("div",lr,"Nenhum membro na equipe.")):C("",!0),e("div",or,[(r(!0),n(B,null,R(S.value,b=>(r(),n("div",{key:b.name},[e("div",rr,[e("span",nr,[Q(f(b.name)+" ",1),e("span",dr,f(b.sector),1)]),e("span",{class:X(b.isOverloaded?"text-red-500 dark:text-red-400 font-bold":"text-slate-500 dark:text-slate-400")},f(b.assigned)+"h / "+f(b.capacity)+"h ",3)]),e("div",ir,[e("div",{class:X(["h-full rounded-full transition-all duration-500",b.isOverloaded?"bg-red-500":"bg-blue-500"]),style:qe({width:Math.min(b.percentage,100)+"%"})},null,6)]),b.isOverloaded?(r(),n("div",ur,"âš ï¸ Sobrecarga detectada")):C("",!0)]))),128))])]),e("div",cr,[c[8]||(c[8]=e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})]),Q(" Capacidade por Setor ")],-1)),S.value.length===0?(r(),n("div",pr,"Sem dados de setores.")):C("",!0),e("div",br,[(r(!0),n(B,null,R(G.value,b=>(r(),n("div",{key:b.name},[e("div",fr,[e("span",vr,[Q(f(b.name)+" ",1),e("span",mr,"("+f(b.memberCount)+" pessoas)",1)]),e("span",xr,f(b.assignedEffort)+"h / "+f(b.totalCapacity)+"h",1)]),e("div",gr,[e("div",{class:"h-full bg-indigo-500 transition-all duration-500 flex items-center justify-end px-2",style:qe({width:Math.min(b.percentage,100)+"%"})},[b.percentage>10?(r(),n("span",kr,f(b.percentage)+"%",1)):C("",!0)],4),b.percentage<=10?(r(),n("span",hr,f(b.percentage)+"%",1)):C("",!0)])]))),128))]),e("div",yr,[c[7]||(c[7]=e("h4",{class:"font-bold text-slate-700 dark:text-slate-300 text-xs mb-3"},"Tarefas por Tipo",-1)),e("div",wr,[(r(!0),n(B,null,R(q.value,b=>(r(),n("div",{key:b.label,class:"flex-1 min-w-[100px] bg-slate-50 dark:bg-slate-900 p-2 rounded border border-slate-100 dark:border-slate-700"},[e("div",$r,f(b.label),1),e("div",_r,f(b.value),1)]))),128))])])])]),e("div",Mr,[e("div",Cr,[c[9]||(c[9]=e("h3",{class:"font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),Q(" Desvio de Prazos (Baseline) ")],-1)),u.value.count>0?(r(),n("span",Dr,f(u.value.totalDelay)+" dias total",1)):C("",!0)]),u.value.count===0?(r(),n("div",Sr,[...c[10]||(c[10]=[e("div",{class:"text-slate-400 text-sm"},"Nenhum atraso em relaÃ§Ã£o ao planejado.",-1),e("div",{class:"text-[10px] text-slate-400 mt-1"},"Defina uma Baseline nas configuraÃ§Ãµes.",-1)])])):(r(),n("div",Ir,[(r(!0),n(B,null,R(u.value.tasks,b=>(r(),n("div",{key:b.name,class:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/30"},[e("div",qr,[e("span",jr,[b.isMilestone?(r(),n("span",Tr,"ðŸš©")):C("",!0),Q(" "+f(b.name),1)]),e("span",Er,f(b.responsible),1)]),e("div",Or,[e("span",Ar,"+"+f(b.delay)+" dias",1),e("span",Vr,"Era: "+f(b.planned)+" âž "+f(b.current),1)])]))),128)),u.value.count>5?(r(),n("div",Nr,"+"+f(u.value.count-5)+" outras tarefas atrasadas",1)):C("",!0)]))]),Y.value.length>0?(r(),n("div",Ur,[e("h3",zr,[c[11]||(c[11]=e("span",{class:"w-2 h-2 rounded-full bg-red-500 animate-pulse"},null,-1)),c[12]||(c[12]=Q(" Monitoramento de Riscos ",-1)),e("span",Br,f(Y.value.length),1)]),e("div",Rr,[(r(!0),n(B,null,R(Y.value,(b,U)=>(r(),n("div",{key:U,class:X(["flex items-start gap-3 p-3 rounded-lg border transition-all hover:shadow-md",b.styles])},[e("div",Pr,[(r(),n("svg",Fr,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:b.icon},null,8,Lr)]))]),e("div",Hr,[e("div",Gr,f(b.title),1),e("div",Wr,f(b.message),1)])],2))),128))])])):C("",!0)]))}}),Yr=Ve(Qr,[["__scopeId","data-v-24d4e5ca"]]),Xr={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start h-[calc(100vh-200px)]"},Jr={class:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full flex flex-col"},Kr={class:"flex gap-2 mb-4"},Zr={class:"space-y-2 overflow-y-auto custom-scrollbar flex-1"},en={key:0,class:"text-xs text-slate-400 italic"},tn=["onClick"],sn={class:"flex items-center gap-2"},an={class:"text-sm font-bold text-slate-700 dark:text-slate-300"},ln={class:"flex gap-1 opacity-60 group-hover:opacity-100"},on=["onClick"],rn=["onClick"],nn={class:"lg:col-span-2 h-full flex flex-col"},dn={key:0,class:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full flex flex-col animate-fade-in"},un={class:"mb-4 bg-emerald-50 dark:bg-emerald-900/10 p-4 rounded-lg border border-emerald-100 dark:border-emerald-800/30"},cn={class:"flex gap-2"},pn={id:"sectors-list"},bn=["value"],fn={class:"overflow-y-auto custom-scrollbar flex-1 border rounded-lg border-slate-100 dark:border-slate-700"},vn={class:"w-full text-sm text-left"},mn={class:"divide-y divide-slate-100 dark:divide-slate-700"},xn={class:"px-4 py-2 font-medium text-slate-700 dark:text-slate-200"},gn={class:"px-4 py-2 text-slate-500 dark:text-slate-400"},kn={class:"px-4 py-2"},hn={class:"flex flex-wrap gap-1"},yn={key:0,class:"text-slate-400 text-xs italic"},wn={class:"px-4 py-2 text-right"},$n=["onClick"],_n=["onClick"],Mn={key:0},Cn={key:1,class:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full flex flex-col animate-fade-in"},Dn={class:"flex justify-between items-center mb-4"},Sn={class:"font-bold text-slate-800 dark:text-slate-200 flex items-center gap-2"},In={class:"text-indigo-600 dark:text-indigo-400"},qn={class:"mb-4 bg-blue-50 dark:bg-blue-900/10 p-4 rounded-lg border border-blue-100 dark:border-blue-800/30"},jn={class:"flex gap-2 items-end"},Tn={class:"flex-1"},En=["value"],On={class:"w-24"},An=["disabled"],Vn={key:0,class:"mt-2 text-[10px] text-amber-600"},Nn={class:"space-y-2 overflow-y-auto custom-scrollbar flex-1"},Un={key:0,class:"text-center py-8 text-slate-400 italic bg-slate-50 dark:bg-slate-900/30 rounded border border-dashed border-slate-200"},zn={class:"flex items-center gap-3"},Bn={class:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-600 flex items-center justify-center text-xs font-bold text-slate-600 dark:text-slate-300"},Rn={class:"text-sm font-bold text-slate-700 dark:text-slate-200"},Pn={class:"text-xs text-slate-500"},Fn=["onClick"],Ln=Te({__name:"SquadManagement",setup(F){const{config:v,addMember:M,removeMember:k,addSquad:x,updateSquad:h,removeSquad:V,linkMemberToSquad:D,unlinkMemberFromSquad:$,updateMember:y}=Re(),S=A(""),q=A("#3b82f6"),G=A(null),u=A(null),Y=A(""),i=A(""),c=A(8),b=A(""),U=A(null),L=()=>{S.value&&(G.value?(h(G.value,S.value,q.value),G.value=null):x(S.value,q.value),S.value="",q.value="#3b82f6")},K=P=>{S.value=P.name,q.value=P.color,G.value=P.id},fe=P=>{u.value=u.value===P?null:P,Y.value="",i.value="",c.value=8,U.value=null},ne=P=>{confirm("Tem certeza que deseja excluir esta Squad? Os membros voltarÃ£o para o diretÃ³rio geral.")&&(V(P),u.value===P&&(u.value=null))},ae=()=>{if(Y.value){const P=i.value||"Outro";if(U.value!==null){const _=v.value.teamMembers[U.value];y(U.value,Y.value,_.capacity,P,_.squadIds),U.value=null}else M(Y.value,8,P,[]);Y.value="",i.value=""}},de=P=>{const _=v.value.teamMembers.findIndex(ke=>ke.name===P.name);_!==-1&&(U.value=_,Y.value=P.name,i.value=P.sector)},ve=P=>{const _=v.value.teamMembers.findIndex(ke=>ke.name===P.name);_!==-1&&confirm(`Excluir ${P.name} permanentemente?`)&&k(_)},z=()=>{U.value=null,Y.value="",i.value=""},me=H(()=>u.value?v.value.teamMembers.filter(P=>P.squadIds.includes(u.value)):[]),he=H(()=>u.value?v.value.teamMembers.filter(P=>!P.squadIds.includes(u.value)):[]),Ie=()=>{if(b.value&&u.value){const P=v.value.teamMembers.findIndex(_=>_.name===b.value);P!==-1&&(D(P,u.value,c.value),b.value="",c.value=8)}},_e=P=>{const _=v.value.teamMembers.findIndex(ke=>ke.name===P.name);_!==-1&&u.value&&$(_,u.value)},Ce=["Frontend","Backend","Fullstack","QA","Design","Produto","DevOps","GestÃ£o"];return(P,_)=>{var ke;return r(),n("div",Xr,[e("div",Jr,[_[10]||(_[10]=e("h3",{class:"font-bold text-slate-800 dark:text-slate-200 mb-4 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0z"})]),Q(" 1. Squads ")],-1)),e("div",Kr,[E(e("input",{"onUpdate:modelValue":_[0]||(_[0]=p=>S.value=p),type:"text",placeholder:"Nome da Squad",class:"flex-1 text-sm rounded border-slate-300 dark:border-slate-600 shadow-sm p-2 dark:bg-slate-700 dark:text-white"},null,512),[[te,S.value]]),E(e("input",{"onUpdate:modelValue":_[1]||(_[1]=p=>q.value=p),type:"color",class:"w-10 h-10 p-1 rounded border-slate-300 dark:border-slate-600 cursor-pointer"},null,512),[[te,q.value]]),e("button",{onClick:L,class:"bg-indigo-600 text-white px-3 rounded text-sm font-bold hover:bg-indigo-700 transition-colors"},f(G.value?"Salvar":"+"),1)]),e("div",Zr,[m(v).squads.length===0?(r(),n("div",en,"Nenhuma squad criada.")):C("",!0),(r(!0),n(B,null,R(m(v).squads,p=>(r(),n("div",{key:p.id,class:X(["flex items-center justify-between p-2 rounded border transition-all cursor-pointer group",u.value===p.id?"bg-indigo-50 border-indigo-300 dark:bg-indigo-900/30 dark:border-indigo-700 ring-1 ring-indigo-300":"bg-slate-50 border-slate-100 dark:bg-slate-700/30 dark:border-slate-700 hover:bg-slate-100"]),onClick:s=>fe(p.id)},[e("div",sn,[e("span",{class:"w-3 h-3 rounded-full shadow-sm",style:qe({backgroundColor:p.color})},null,4),e("span",an,f(p.name),1)]),e("div",ln,[e("button",{onClick:st(s=>K(p),["stop"]),class:"text-slate-400 hover:text-blue-500"},[..._[8]||(_[8]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,on),e("button",{onClick:st(s=>ne(p.id),["stop"]),class:"text-slate-400 hover:text-red-500"},[..._[9]||(_[9]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,rn)])],10,tn))),128))])]),e("div",nn,[u.value?(r(),n("div",Cn,[e("div",Dn,[e("h3",Sn,[_[15]||(_[15]=e("svg",{class:"w-5 h-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),_[16]||(_[16]=Q(" Membros da Squad: ",-1)),e("span",In,f((ke=m(v).squads.find(p=>p.id===u.value))==null?void 0:ke.name),1)]),e("button",{onClick:_[4]||(_[4]=p=>u.value=null),class:"text-xs text-slate-400 hover:text-slate-600 underline"},"Voltar ao DiretÃ³rio")]),e("div",qn,[_[20]||(_[20]=e("p",{class:"text-xs text-blue-800 dark:text-blue-200 mb-3 font-medium"},"Vincule um membro existente a esta squad e defina sua capacidade de trabalho.",-1)),e("div",jn,[e("div",Tn,[_[18]||(_[18]=e("label",{class:"text-[10px] uppercase font-bold text-slate-500 mb-1 block"},"Membro",-1)),E(e("select",{"onUpdate:modelValue":_[5]||(_[5]=p=>b.value=p),class:"w-full text-sm rounded border-slate-300 dark:border-slate-600 p-2 dark:bg-slate-700 dark:text-white"},[_[17]||(_[17]=e("option",{value:""},"-- Selecione --",-1)),(r(!0),n(B,null,R(he.value,p=>(r(),n("option",{key:p.name,value:p.name},f(p.name)+" ("+f(p.sector)+")",9,En))),128))],512),[[we,b.value]])]),e("div",On,[_[19]||(_[19]=e("label",{class:"text-[10px] uppercase font-bold text-slate-500 mb-1 block"},"Capacidade",-1)),E(e("input",{"onUpdate:modelValue":_[6]||(_[6]=p=>c.value=p),type:"number",class:"w-full text-sm rounded border-slate-300 dark:border-slate-600 p-2 dark:bg-slate-700 dark:text-white"},null,512),[[te,c.value,void 0,{number:!0}]])]),e("button",{onClick:Ie,disabled:!b.value,class:"bg-blue-600 text-white px-4 py-2 rounded text-sm font-bold hover:bg-blue-700 transition-colors disabled:opacity-50"},"Vincular",8,An)]),he.value.length===0&&m(v).teamMembers.length>0?(r(),n("div",Vn,"* Todos os membros cadastrados jÃ¡ estÃ£o nesta squad.")):C("",!0),m(v).teamMembers.length===0?(r(),n("div",{key:1,class:"mt-2 text-[10px] text-red-500 cursor-pointer",onClick:_[7]||(_[7]=p=>u.value=null)},"* Nenhum membro cadastrado no sistema. Clique aqui para ir ao DiretÃ³rio.")):C("",!0)]),e("div",Nn,[me.value.length===0?(r(),n("div",Un,"Nenhum membro vinculado a esta squad.")):C("",!0),(r(!0),n(B,null,R(me.value,p=>(r(),n("div",{key:p.name,class:"flex items-center justify-between bg-white border border-slate-100 dark:bg-slate-700/20 dark:border-slate-700 p-3 rounded hover:shadow-sm transition-all"},[e("div",zn,[e("div",Bn,f(p.name.substring(0,2).toUpperCase()),1),e("div",null,[e("div",Rn,f(p.name),1),e("div",Pn,f(p.sector)+" â€¢ "+f(p.capacity)+"h/dia",1)])]),e("button",{onClick:s=>_e(p),class:"text-red-400 hover:text-red-600 text-xs border border-red-100 hover:bg-red-50 px-2 py-1 rounded transition-colors"},"Desvincular",8,Fn)]))),128))])])):(r(),n("div",dn,[_[14]||(_[14]=e("h3",{class:"font-bold text-slate-800 dark:text-slate-200 mb-4 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})]),Q(" 2. DiretÃ³rio Geral de Membros ")],-1)),e("div",un,[_[11]||(_[11]=e("p",{class:"text-xs text-emerald-800 dark:text-emerald-200 mb-3 font-medium"},"Cadastre aqui todos os colaboradores. Depois, selecione uma Squad Ã  esquerda para vinculÃ¡-los.",-1)),e("div",cn,[E(e("input",{"onUpdate:modelValue":_[2]||(_[2]=p=>Y.value=p),type:"text",placeholder:"Nome do Colaborador",class:"flex-1 text-sm rounded border-slate-300 dark:border-slate-600 shadow-sm p-2 dark:bg-slate-700 dark:text-white"},null,512),[[te,Y.value]]),E(e("input",{list:"sectors-list","onUpdate:modelValue":_[3]||(_[3]=p=>i.value=p),placeholder:"Setor (Opcional)",class:"w-1/3 text-sm rounded border-slate-300 dark:border-slate-600 shadow-sm p-2 dark:bg-slate-700 dark:text-white"},null,512),[[te,i.value]]),e("datalist",pn,[(r(),n(B,null,R(Ce,p=>e("option",{key:p,value:p},null,8,bn)),64))]),e("button",{onClick:ae,class:"bg-emerald-600 text-white px-4 rounded text-sm font-bold hover:bg-emerald-700 transition-colors"},f(U.value!==null?"Atualizar":"Cadastrar"),1),U.value!==null?(r(),n("button",{key:0,onClick:z,class:"bg-slate-200 text-slate-600 px-3 rounded text-sm font-bold"},"Cancelar")):C("",!0)])]),e("div",fn,[e("table",vn,[_[13]||(_[13]=e("thead",{class:"bg-slate-50 dark:bg-slate-900 text-xs uppercase text-slate-500 font-bold sticky top-0"},[e("tr",null,[e("th",{class:"px-4 py-2"},"Nome"),e("th",{class:"px-4 py-2"},"Setor"),e("th",{class:"px-4 py-2"},"Squads Vinculadas"),e("th",{class:"px-4 py-2 text-right"},"AÃ§Ãµes")])],-1)),e("tbody",mn,[(r(!0),n(B,null,R(m(v).teamMembers,p=>(r(),n("tr",{key:p.name,class:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors"},[e("td",xn,f(p.name),1),e("td",gn,f(p.sector),1),e("td",kn,[e("div",hn,[(r(!0),n(B,null,R(p.squadIds,s=>{var Z;return r(),n("span",{key:s,class:"text-[10px] px-1.5 rounded bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-500"},f(((Z=m(v).squads.find(le=>le.id===s))==null?void 0:Z.name)||"?"),1)}),128)),p.squadIds.length===0?(r(),n("span",yn,"Sem vÃ­nculo")):C("",!0)])]),e("td",wn,[e("button",{onClick:s=>de(p),class:"text-blue-500 hover:underline mr-2 text-xs"},"Editar",8,$n),e("button",{onClick:s=>ve(p),class:"text-red-500 hover:underline text-xs"},"Excluir",8,_n)])]))),128)),m(v).teamMembers.length===0?(r(),n("tr",Mn,[..._[12]||(_[12]=[e("td",{colspan:"4",class:"px-4 py-8 text-center text-slate-400 italic"},"Nenhum membro cadastrado. Use o formulÃ¡rio acima.",-1)])])):C("",!0)])])])]))])])}}}),Hn=Ve(Ln,[["__scopeId","data-v-76bf132c"]]),Gn={class:"flex flex-col items-center justify-center min-h-[500px] p-4 animate-fade-in"},Wn={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-5xl overflow-hidden flex flex-col md:flex-row min-h-[550px] border border-slate-100 dark:border-slate-700"},Qn={class:"bg-slate-900 text-white p-8 md:w-1/3 flex flex-col justify-between relative overflow-hidden transition-colors"},Yn={class:"relative z-10"},Xn={class:"text-6xl mb-6 transform transition-transform hover:scale-110 duration-300"},Jn={class:"text-2xl font-bold leading-tight"},Kn={key:0,class:"text-blue-400 font-bold text-xs uppercase tracking-wider mt-3 bg-blue-400/10 inline-block px-2 py-1 rounded"},Zn={class:"flex gap-2 mt-8 relative z-10"},ed=["onClick"],td={class:"p-8 md:w-2/3 flex flex-col bg-white dark:bg-slate-800 transition-colors"},sd={class:"flex-1"},ad={class:"text-lg text-slate-600 dark:text-slate-300 mb-6 leading-relaxed border-b border-slate-100 dark:border-slate-700 pb-4"},ld={key:0,class:"space-y-3"},od={class:"text-sm text-slate-700 dark:text-slate-200 leading-snug"},rd={class:"flex justify-between items-center mt-8 pt-6 border-t border-slate-100 dark:border-slate-700"},nd=Te({__name:"TutorialView",emits:["complete"],setup(F,{emit:v}){const M=v,k=A(0),x=[{title:"Bem-vindo ao Gantt-ficator",icon:"ðŸ‘‹",content:"Sua ferramenta completa para planejamento Ã¡gil e visual. O sistema foi atualizado para suportar mÃºltiplas Squads e OtimizaÃ§Ã£o Inteligente. Vamos ver o que mudou!",points:["GestÃ£o por Squads.","Planejamento de Sprints.","SugestÃµes de OtimizaÃ§Ã£o via IA."]},{title:"1. GestÃ£o de Squads (Novo!)",icon:"ðŸ‘¥",highlight:"Aba: Squads",content:"O ponto de partida. Agora vocÃª organiza sua equipe em cÃ©lulas Ã¡geis.",points:["Crie Squads: Defina o nome e a cor para identificar cada time.","DiretÃ³rio Geral: Cadastre todos os colaboradores em uma lista Ãºnica.","VÃ­nculo FlexÃ­vel: Adicione membros Ã s Squads e defina a capacidade (horas/dia) especÃ­fica para aquele time.","Day-Offs: Gerencie as folgas dos membros diretamente no cadastro."]},{title:"2. ConfiguraÃ§Ã£o & Sprints",icon:"âš™ï¸",highlight:"Aba: ConfiguraÃ§Ãµes",content:"Onde o tempo Ã© gerenciado. Agora as configuraÃ§Ãµes sÃ£o contextualizadas.",points:['Seletor de Contexto: Escolha se quer configurar o "Projeto Global" ou uma "Squad" especÃ­fica.',"Ciclo de Sprints: Crie Sprints dentro de cada Squad (ex: Sprint 24 - Squad Alpha).","Datas e Feriados: Defina feriados globais ou especÃ­ficos por Squad.","Ajuste Fino: Altere a capacidade ou adicione folgas de um membro apenas para a duraÃ§Ã£o de uma Sprint especÃ­fica."]},{title:"3. Planejamento de Tarefas",icon:"ðŸ“",highlight:"BotÃ£o: Nova Tarefa",content:"Mais inteligÃªncia na criaÃ§Ã£o de demandas.",points:['Prioridade da US: Defina se Ã© uma "Meta" (Goal - Alta prioridade) ou "Item" (Normal).',"ClassificaÃ§Ã£o: Use nÃºmeros (1, 2, 3...) para ordenar a importÃ¢ncia dentro da prioridade.","VÃ­nculo AutomÃ¡tico: Ao selecionar uma Sprint, o sistema filtra apenas os membros daquela Squad.",'Fluxo Completo: Gera automaticamente a cadeia "Backend â†’ Frontend â†’ QA" com os gaps de tempo corretos.']},{title:"4. Cronograma Inteligente",icon:"ðŸ“…",highlight:"Aba: Cronograma",content:"Visualize e otimize o trabalho no tempo.",points:['Filtro de Squad: Alterne entre a "VisÃ£o Geral" (todas as squads) ou foque em um time especÃ­fico.',"BotÃ£o Otimizar âš¡: Receba sugestÃµes automÃ¡ticas para resolver conflitos de prioridade (Item antes de Meta) e sobrecarga.","Linhas de DependÃªncia: O sistema respeita intervalos (ex: 3 dias entre Back e Front).","EdiÃ§Ã£o RÃ¡pida: Arraste tarefas para mudar datas ou clique para editar."]},{title:"5. Dashboard e Riscos",icon:"ðŸš¨",highlight:"Aba: Dashboard",content:"Monitoramento proativo da saÃºde do projeto.",points:["AnÃ¡lise de Riscos: O sistema avisa automaticamente sobre sobrecarga, estouro de sprint e conflitos de agenda (fÃ©rias/feriados).","Desvio de Prazos: Compare o planejado (Baseline) com o real.","Carga de Trabalho: Veja quem estÃ¡ sobrecarregado (vermelho) ou livre (azul).","Progresso: Acompanhe o avanÃ§o fÃ­sico e temporal do projeto."]}],h=H(()=>k.value===x.length-1),V=()=>{h.value||k.value++},D=()=>{k.value>0&&k.value--},$=()=>{M("complete")};return(y,S)=>(r(),n("div",Gn,[e("div",Wn,[e("div",Qn,[S[0]||(S[0]=e("div",{class:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none"},[e("svg",{class:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none"},[e("path",{d:"M0 100 C 20 0 50 0 100 100 Z",fill:"white"})])],-1)),e("div",Yn,[e("div",Xn,f(x[k.value].icon),1),e("h2",Jn,f(x[k.value].title),1),x[k.value].highlight?(r(),n("p",Kn,f(x[k.value].highlight),1)):C("",!0)]),e("div",Zn,[(r(),n(B,null,R(x,(q,G)=>e("div",{key:G,class:X(["h-1.5 rounded-full transition-all duration-500 cursor-pointer",G===k.value?"w-8 bg-blue-500":"w-2 bg-slate-700 hover:bg-slate-600"]),onClick:u=>k.value=G},null,10,ed)),64))])]),e("div",td,[e("div",sd,[e("p",ad,f(x[k.value].content),1),x[k.value].points?(r(),n("ul",ld,[(r(!0),n(B,null,R(x[k.value].points,(q,G)=>(r(),n("li",{key:G,class:"flex items-start gap-3 p-3 rounded-lg bg-slate-50 dark:bg-slate-700/30 border border-slate-100 dark:border-slate-700 transition-all hover:translate-x-1"},[S[1]||(S[1]=e("svg",{class:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",od,f(q),1)]))),128))])):C("",!0)]),e("div",rd,[e("button",{onClick:D,class:X(["px-4 py-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 font-bold text-sm transition-colors flex items-center gap-1",{invisible:k.value===0}])},[...S[2]||(S[2]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),Q(" Anterior ",-1)])],2),h.value?(r(),n("button",{key:1,onClick:$,class:"px-8 py-3 bg-green-600 hover:bg-green-500 text-white rounded-xl font-bold shadow-lg shadow-green-200 dark:shadow-green-900/20 transition-transform hover:scale-105 active:scale-95 flex items-center gap-2"},"ComeÃ§ar a Usar ðŸš€")):(r(),n("button",{key:0,onClick:V,class:"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-xl font-bold shadow-lg shadow-blue-200 dark:shadow-blue-900/20 transition-transform hover:scale-105 active:scale-95 flex items-center gap-2"},[...S[3]||(S[3]=[Q(" PrÃ³ximo ",-1),e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]))])])])]))}}),dd=Ve(nd,[["__scopeId","data-v-781ac33f"]]),id={class:"fixed top-20 right-4 z-[9999] flex flex-col gap-3 pointer-events-none"},ud={class:"text-lg"},cd={class:"flex-1 text-sm font-medium pt-0.5"},pd=["onClick"],bd=Te({__name:"ToastContainer",setup(F){const{notifications:v,remove:M}=ct(),k=h=>{switch(h){case"success":return"âœ…";case"error":return"âŒ";case"warning":return"âš ï¸";default:return"â„¹ï¸"}},x=h=>{switch(h){case"success":return"border-green-500 bg-white dark:bg-slate-800";case"error":return"border-red-500 bg-white dark:bg-slate-800";case"warning":return"border-amber-500 bg-white dark:bg-slate-800";default:return"border-blue-500 bg-white dark:bg-slate-800"}};return(h,V)=>(r(),n("div",id,[Se(At,{name:"toast"},{default:ut(()=>[(r(!0),n(B,null,R(m(v),D=>(r(),n("div",{key:D.id,class:X(["pointer-events-auto min-w-[300px] max-w-sm p-4 rounded-lg shadow-xl border-l-4 flex items-start gap-3 transform transition-all duration-300 dark:text-white",x(D.type)])},[e("span",ud,f(k(D.type)),1),e("div",cd,f(D.message),1),e("button",{onClick:$=>m(M)(D.id),class:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"},"Ã—",8,pd)],2))),128))]),_:1})]))}}),fd=Ve(bd,[["__scopeId","data-v-d08f692a"]]),Ge=A(!1),vd=()=>{if(typeof window>"u")return;const F=localStorage.getItem("theme"),v=window.matchMedia("(prefers-color-scheme: dark)").matches;F==="dark"||!F&&v?(Ge.value=!0,document.documentElement.classList.add("dark")):(Ge.value=!1,document.documentElement.classList.remove("dark"))};vd();function md(){return{isDark:Ge,toggleDark:()=>{Ge.value=!Ge.value,Ge.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))}}}const xd={class:"min-h-screen flex flex-col bg-slate-50 dark:bg-slate-900 font-sans text-slate-900 dark:text-slate-100 transition-colors duration-300"},gd={class:"bg-slate-900 dark:bg-slate-950 text-white p-4 shadow-md z-50 sticky top-0 border-b border-slate-800"},kd={class:"max-w-[1600px] mx-auto flex flex-col md:flex-row items-center justify-between gap-4"},hd={class:"flex items-center gap-4 w-full md:w-auto justify-between md:justify-start"},yd={class:"flex bg-slate-800 dark:bg-slate-900 rounded-lg p-1 border border-slate-700 overflow-x-auto"},wd={class:"flex items-center gap-3 w-full md:w-auto justify-end"},$d={key:0,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},_d={key:1,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Md={class:"flex-1 w-full max-w-[1600px] mx-auto p-4 lg:p-6"},Cd={key:"dashboard"},Dd={key:"gantt"},Sd={key:"squads",class:"max-w-6xl mx-auto animate-fade-in"},Id={key:"config",class:"max-w-6xl mx-auto space-y-8 animate-fade-in"},qd={key:"tutorial"},kt="gantt-ficator-tutorial-seen",jd=Te({__name:"App",setup(F){const{openCreateModal:v}=Re(),{isDark:M,toggleDark:k}=md(),x=A("dashboard"),h=A(null);$t(()=>{localStorage.getItem(kt)||(x.value="tutorial"),window.addEventListener("beforeinstallprompt",y=>{y.preventDefault(),h.value=y})});const V=async()=>{if(h.value){h.value.prompt();const{outcome:$}=await h.value.userChoice;$==="accepted"&&(h.value=null)}},D=()=>{localStorage.setItem(kt,"true"),x.value="dashboard",window.scrollTo({top:0,behavior:"smooth"})};return($,y)=>(r(),n("div",xd,[Se(fd),e("header",gd,[e("div",kd,[e("div",hd,[y[12]||(y[12]=e("div",{class:"flex items-center gap-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 00-2-2h-2a2 2 0 00-2 2"})]),e("h1",{class:"text-xl font-bold tracking-tight hidden lg:block"},"Gantt-ficator")],-1)),e("nav",yd,[e("button",{onClick:y[0]||(y[0]=S=>x.value="dashboard"),class:X(["px-3 py-1.5 rounded-md text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap",x.value==="dashboard"?"bg-slate-700 dark:bg-slate-800 text-white shadow":"text-slate-400 hover:text-white"]),title:"Dashboard"},[...y[7]||(y[7]=[e("span",{class:"text-lg"},"ðŸ“Š",-1),Q(),e("span",{class:"hidden sm:inline"},"Dashboard",-1)])],2),e("button",{onClick:y[1]||(y[1]=S=>x.value="gantt"),class:X(["px-3 py-1.5 rounded-md text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap",x.value==="gantt"?"bg-slate-700 dark:bg-slate-800 text-white shadow":"text-slate-400 hover:text-white"]),title:"Cronograma"},[...y[8]||(y[8]=[e("span",{class:"text-lg"},"ðŸ“…",-1),Q(),e("span",{class:"hidden sm:inline"},"Cronograma",-1)])],2),e("button",{onClick:y[2]||(y[2]=S=>x.value="squads"),class:X(["px-3 py-1.5 rounded-md text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap",x.value==="squads"?"bg-slate-700 dark:bg-slate-800 text-white shadow":"text-slate-400 hover:text-white"]),title:"Squads"},[...y[9]||(y[9]=[e("span",{class:"text-lg"},"ðŸ‘¥",-1),Q(),e("span",{class:"hidden sm:inline"},"Squads",-1)])],2),e("button",{onClick:y[3]||(y[3]=S=>x.value="config"),class:X(["px-3 py-1.5 rounded-md text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap",x.value==="config"?"bg-slate-700 dark:bg-slate-800 text-white shadow":"text-slate-400 hover:text-white"]),title:"ConfiguraÃ§Ãµes"},[...y[10]||(y[10]=[e("span",{class:"text-lg"},"âš™ï¸",-1),Q(),e("span",{class:"hidden sm:inline"},"ConfiguraÃ§Ãµes",-1)])],2),e("button",{onClick:y[4]||(y[4]=S=>x.value="tutorial"),class:X(["px-3 py-1.5 rounded-md text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap",x.value==="tutorial"?"bg-slate-700 dark:bg-slate-800 text-white shadow":"text-slate-400 hover:text-white"]),title:"Tutorial"},[...y[11]||(y[11]=[e("span",{class:"text-lg"},"ðŸŽ“",-1),Q(),e("span",{class:"hidden sm:inline"},"Tutorial",-1)])],2)])]),e("div",wd,[h.value?(r(),n("button",{key:0,onClick:V,class:"p-2 rounded-lg bg-slate-800 dark:bg-slate-700 text-emerald-400 hover:bg-slate-700 dark:hover:bg-slate-600 transition-colors border border-slate-700 animate-pulse",title:"Instalar Aplicativo"},[...y[13]||(y[13]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)])])):C("",!0),e("button",{onClick:y[5]||(y[5]=(...S)=>m(k)&&m(k)(...S)),class:"p-2 rounded-lg bg-slate-800 dark:bg-slate-700 text-yellow-400 dark:text-slate-200 hover:bg-slate-700 dark:hover:bg-slate-600 transition-colors border border-slate-700"},[m(M)?(r(),n("svg",$d,[...y[14]||(y[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])])):(r(),n("svg",_d,[...y[15]||(y[15]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])]))]),e("button",{onClick:y[6]||(y[6]=(...S)=>m(v)&&m(v)(...S)),class:"bg-blue-600 hover:bg-blue-500 text-white px-3 sm:px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 shadow-lg shadow-blue-900/50 transition-transform hover:scale-105 active:scale-95 whitespace-nowrap"},[...y[16]||(y[16]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",{class:"hidden sm:inline"},"Nova Tarefa",-1),e("span",{class:"sm:hidden"},"Nova",-1)])])])])]),e("main",Md,[Se(wt,{name:"fade",mode:"out-in"},{default:ut(()=>[x.value==="dashboard"?(r(),n("div",Cd,[Se(Yr)])):x.value==="gantt"?(r(),n("div",Dd,[Se(Uo)])):x.value==="squads"?(r(),n("div",Sd,[Se(Hn)])):x.value==="config"?(r(),n("div",Id,[e("section",null,[y[17]||(y[17]=e("h2",{class:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4 px-1"},"Gerenciamento de Dados",-1)),Se(Ul)]),Se(Ol)])):x.value==="tutorial"?(r(),n("div",qd,[Se(dd,{onComplete:D})])):C("",!0)]),_:1})]),Se(va)]))}});function Td(F={}){const{immediate:v=!1,onNeedRefresh:M,onOfflineReady:k,onRegistered:x,onRegisteredSW:h,onRegisterError:V}=F;let D,$;const y=async(q=!0)=>{await $};async function S(){if("serviceWorker"in navigator){if(D=await zt(async()=>{const{Workbox:q}=await import("./vendor-BehSlsVZ.js").then(G=>G.a1);return{Workbox:q}},[]).then(({Workbox:q})=>new q("/Gantt/sw.js",{scope:"/Gantt/",type:"classic"})).catch(q=>{V==null||V(q)}),!D)return;D.addEventListener("activated",q=>{(q.isUpdate||q.isExternal)&&window.location.reload()}),D.addEventListener("installed",q=>{q.isUpdate||k==null||k()}),D.register({immediate:v}).then(q=>{h?h("/Gantt/sw.js",q):x==null||x(q)}).catch(q=>{V==null||V(q)})}}return $=S(),y}const Ed=Td({onNeedRefresh(){confirm("Nova versÃ£o disponÃ­vel. Recarregar?")&&Ed(!0)},onOfflineReady(){console.log("App pronto para funcionar offline!")}});Vt(jd).mount("#app");
